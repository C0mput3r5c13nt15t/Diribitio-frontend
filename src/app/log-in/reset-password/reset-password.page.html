<ion-header>
  <ion-toolbar>
    <ion-button color="buttons" slot="start">
      <ion-back-button icon="arrow-back" defaultHref="{{ eventName }}/Anmeldung"></ion-back-button>
    </ion-button>
    <ion-title>reset-password</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="background">
  <ion-card color="background"class="content">
    <ion-card-header color="background">
      <ion-title>Passwort ändern</ion-title>
    </ion-card-header>
    <ion-card-content *ngIf="text">
      <ion-label color="text">
        {{ text }}
      </ion-label>
    </ion-card-content>
    <ion-card-content>
      <ion-segment color="buttons" [(ngModel)]="formType">
        <ion-segment-button value="student">
          <ion-label>Schüler</ion-label>
        </ion-segment-button>
        <ion-segment-button value="leader">
          <ion-label>{{ projectNoun }}leiter</ion-label>
        </ion-segment-button>
        <ion-segment-button value="admin">
          <ion-label>Admin</ion-label>
        </ion-segment-button>
      </ion-segment>

      <form #studentResetPassword="ngForm" name="LogInForm" (ngSubmit)="resetStudentPassword(studentResetPassword)" [hidden]="formType != 'student'" class="content">
        <ion-card color="background">
          <ion-card-header>
            <ion-title>Schüler</ion-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item color="items">
                <ion-input color="text" [(ngModel)]="resetPasswordStudent.email" name="email" placeholder="E-Mail" required type="text"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password" required [(ngModel)]="resetPasswordStudent.password" placeholder="Passwort" type="password"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password_confirmation" required [(ngModel)]="resetPasswordStudent.password_confirmation" placeholder="Passwort bestätigen" type="password"></ion-input>
              </ion-item>
            </ion-list>
            <div class="ion-padding">
              <ion-button name="login" type="submit" [disabled]="studentResetPassword.invalid" class="ion-no-margin" expand="block" color="buttons">Passwort ändern</ion-button>
            </div>
          </ion-card-content>
        </ion-card>
      </form>

      <form #leaderResetPassword="ngForm" name="LogInForm" (ngSubmit)="resetLeaderPassword(leaderResetPassword)" [hidden]="formType != 'leader'" class="content">
        <ion-card color="background">
          <ion-card-header>
            <ion-card-title>{{ projectNoun }}leiter</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item color="items">
                <ion-input color="text" [(ngModel)]="resetPasswordLeader.email" name="email" placeholder="E-Mail" required type="text"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password" required [(ngModel)]="resetPasswordLeader.password" placeholder="Passwort" type="password"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password_confirmation" required [(ngModel)]="resetPasswordLeader.password_confirmation" placeholder="Passwort bestätigen" type="password"></ion-input>
              </ion-item>
            </ion-list>
            <div class="ion-padding">
              <ion-button name="login" type="submit" [disabled]="leaderResetPassword.invalid" class="ion-no-margin" expand="block" color="buttons">Passwort ändern</ion-button>
            </div>
          </ion-card-content>
        </ion-card>
      </form>

      <form #adminResetPassword="ngForm" name="LogInForm" (ngSubmit)="resetAdminPassword(adminResetPassword)" [hidden]="formType != 'admin'" class="content">
        <ion-card color="background">
          <ion-card-header>
            <ion-title>Admins</ion-title>
          </ion-card-header>
          <ion-card-content>
            <ion-list>
              <ion-item color="items">
                <ion-input color="text" [(ngModel)]="resetPasswordAdmin.email" name="email" placeholder="E-Mail" required type="text"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password" required [(ngModel)]="resetPasswordAdmin.password" placeholder="Passwort" type="password"></ion-input>
              </ion-item>
              <ion-item color="items">
                <ion-input color="text" minlength="8" name="password_confirmation" required [(ngModel)]="resetPasswordAdmin.password_confirmation" placeholder="Passwort bestätigen" type="password"></ion-input>
              </ion-item>
            </ion-list>
            <div class="ion-padding">
              <ion-button name="login" type="submit" [disabled]="adminResetPassword.invalid" class="ion-no-margin" expand="block" color="buttons">Passwort ändern</ion-button>
            </div>
          </ion-card-content>
        </ion-card>
      </form>
    </ion-card-content>
  </ion-card>
</ion-content>
