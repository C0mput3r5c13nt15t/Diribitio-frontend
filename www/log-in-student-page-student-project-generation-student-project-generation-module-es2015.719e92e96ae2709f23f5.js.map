{"version":3,"sources":["webpack:///src/app/log-in/student-page/student-project-generation/student-project-generation.page.html","webpack:///src/app/log-in/student-page/student-project-generation/student-project-generation.module.ts","webpack:///src/app/log-in/student-page/student-project-generation/student-project-generation.page.ts"],"names":["routes","path","component","StudentProjectGenerationPage","activatedRoute","router","projectsService","alert","config","subscriptions","messages","newProject","id","authorized","editable","title","image","descr","leader_name","leader_id","cost","first_day_begin","hours","minutes","first_day_end","second_day_begin","second_day_end","min_grade","max_grade","min_participants","max_participants","participants","projectNoun","this","app_config","project_noun","eventName","event_name","text","get_content","paramMap","subscribe","has","studentUrl","get","navigate","forEach","sub","unsubscribe","event","file","target","files","createProject","data","message","update","emit","error","create","changeFile","StudentProjectGenerationPageModule","forChild"],"mappings":"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","file":"x","sourcesContent":["<ion-header>\n  <ion-toolbar color=\"menu\">\n    <ion-button color=\"buttons\" slot=\"start\">\n      <ion-back-button icon=\"arrow-back\" defaultHref=\"{{ eventName }}/Schüler/{{ studentUrl }}\"></ion-back-button>\n    </ion-button>\n    <ion-title>{{ projectNoun }} erstellen</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content color=\"background\">\n  <ion-card color=\"background\"class=\"content\">\n    <ion-card-header color=\"background\">\n      <ion-card-title>{{ projectNoun }} erstellen</ion-card-title>\n    </ion-card-header>\n    <ion-card-content *ngIf=\"text\">\n      <ion-label color=\"text\">\n        {{ text }}\n      </ion-label>\n    </ion-card-content>\n    <ion-card-content>\n      <form #form=\"ngForm\" name=\"ProjectForm\" (ngSubmit)=\"create()\">\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">Du bist {{ projectNoun }}leiter. Welcher Namen soll angezeigt werden?</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-input color=\"text\" required name=\"ProjectLeader\" [(ngModel)]=\"newProject.leader_name\" type=\"text\"></ion-input>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">{{ projectNoun }}name</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-input color=\"text\" required name=\"ProjectName\" [(ngModel)]=\"newProject.title\" required type=\"text\"></ion-input>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">{{ projectNoun }}beschreibung</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-textarea required type=\"text\" name=\"ProjectDescr\" [(ngModel)]=\"newProject.descr\" rows=\"7\"></ion-textarea>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">Titelbild</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-input color=\"text\" name=\"ProjectImage\" (change)=\"changeFile($event)\" accept=\".png, .jpg\" type=\"file\"></ion-input>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">Kosten</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-input color=\"text\" required name=\"ProjectCost\" [(ngModel)]=\"newProject.cost\" required type=\"number\"></ion-input>€\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">1.Tag</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-label color=\"text\">von</ion-label><ion-input color=\"text\" required name=\"ProjectFirstTimeBeginn\" [(ngModel)]=\"newProject.first_day_begin\" type=\"time\"></ion-input>\n        </ion-item> \n        <ion-item color=\"items\">\n          <ion-label color=\"text\">bis</ion-label><ion-input color=\"text\" required name=\"ProjectFirstTimeEnd\" [(ngModel)]=\"newProject.first_day_end\" type=\"time\"></ion-input>\n        </ion-item> \n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">2.Tag</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-label color=\"text\">von</ion-label><ion-input color=\"text\" required name=\"ProjectSecondTimeBeginn\" [(ngModel)]=\"newProject.second_day_begin\" type=\"time\"></ion-input>\n        </ion-item>\n        <ion-item color=\"items\">\n          <ion-label color=\"text\">bis</ion-label><ion-input color=\"text\" required name=\"ProjectSecondTimeEnd\" [(ngModel)]=\"newProject.second_day_end\" type=\"time\"></ion-input>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">Klassenstufe</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\" lines=\"none\">\n          <ion-label color=\"text\">von</ion-label>\n          <ion-select required [selectedText]=\"newProject.min_grade\" name=\"ProjectMinClass\" [(ngModel)]=\"newProject.min_grade\" cancelText=\"Abbrechen\" doneText=\"Ok\">\n            <ion-select-option value=\"5\">5</ion-select-option>\n            <ion-select-option value=\"6\">6</ion-select-option>\n            <ion-select-option value=\"7\">7</ion-select-option>\n            <ion-select-option value=\"8\">8</ion-select-option>\n            <ion-select-option value=\"9\">9</ion-select-option>\n            <ion-select-option value=\"10\">10</ion-select-option>\n            <ion-select-option value=\"11\">11</ion-select-option>\n          </ion-select>\n        </ion-item>\n        <ion-item color=\"items\" lines=\"none\">\n          <ion-label color=\"text\">bis</ion-label>\n          <ion-select required [selectedText]=\"newProject.max_grade\" name=\"ProjectMaxClass\" [(ngModel)]=\"newProject.max_grade\" cancelText=\"Abbrechen\" doneText=\"Ok\">\n            <ion-select-option value=\"5\">5</ion-select-option>\n            <ion-select-option value=\"6\">6</ion-select-option>\n            <ion-select-option value=\"7\">7</ion-select-option>\n            <ion-select-option value=\"8\">8</ion-select-option>\n            <ion-select-option value=\"9\">9</ion-select-option>\n            <ion-select-option value=\"10\">10</ion-select-option>\n            <ion-select-option value=\"11\">11</ion-select-option>\n          </ion-select>\n        </ion-item>\n        <ion-item-divider color=\"background\">\n          <ion-label color=\"text\">Teinehmeranzahl</ion-label>\n        </ion-item-divider>\n        <ion-item color=\"items\">\n          <ion-label color=\"text\">von</ion-label><ion-input color=\"text\" required name=\"ProjectMinParticipants\" [(ngModel)]=\"newProject.min_participants\" required type=\"number\"></ion-input>\n        </ion-item>\n        <ion-item color=\"items\">\n          <ion-label color=\"text\">bis</ion-label><ion-input color=\"text\" required name=\"ProjectMaxParticipants\" [(ngModel)]=\"newProject.max_participants\" required type=\"number\"></ion-input>\n        </ion-item>\n        <div class=\"ion-padding\">\n          <ion-button color=\"buttons\" [disabled]=\"form.invalid\" expand=\"block\" type=\"submit\" class=\"ion-no-margin\">{{ projectNoun }} erstellen</ion-button>\n        </div>\n      </form>\n    </ion-card-content>\n  </ion-card>\n</ion-content>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { StudentProjectGenerationPage } from './student-project-generation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: StudentProjectGenerationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [StudentProjectGenerationPage]\n})\nexport class StudentProjectGenerationPageModule {}\n","import { Component, OnDestroy, OnInit} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProjectsService } from 'src/app/services/projects.service';\nimport { Student } from 'src/models/Student.model';\nimport { Message } from 'src/models/Message.model';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { Project } from 'src/models/Project.model';\nimport { ConfigService } from 'src/app/services/config.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-project-generation',\n  templateUrl: './student-project-generation.page.html',\n  styleUrls: ['./student-project-generation.page.scss'],\n})\nexport class StudentProjectGenerationPage implements OnInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  studentUrl: string;\n\n  loadedStudentent: Student;\n\n  messages: Message[] = [];\n\n  newProject: Project = {\n    id: 0,\n    authorized: 0,\n    editable: 0,\n    title: '',\n    image: null,\n    descr: '',\n    leader_name: '',\n    leader_id: 0,\n    cost: 0,\n    first_day_begin: {\n      hours: 0,\n      minutes: 0,\n    },\n    first_day_end: {\n      hours: 0,\n      minutes: 0,\n    },\n    second_day_begin: {\n      hours: 0,\n      minutes: 0,\n    },\n    second_day_end: {\n      hours: 0,\n      minutes: 0,\n    },\n    min_grade: 0,\n    max_grade: 0,\n    min_participants: 0,\n    max_participants: 0,\n    messages: [],\n    participants: []\n  };\n\n  text: string;\n\n  image: any;\n\n  projectNoun = this.config.app_config.project_noun;\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n\n  constructor(private activatedRoute: ActivatedRoute,\n              private router: Router,\n              private projectsService: ProjectsService,\n              private alert: AlertService,\n              private config: ConfigService) { }\n\n  ngOnInit() {\n    this.text = this.config.get_content('student-project-generation');\n\n    this.activatedRoute.paramMap.subscribe(paramMap => {\n      if (!paramMap.has('ParticipantName')) {\n        this.router.navigate(['']);\n        return;\n      }\n      this.studentUrl = paramMap.get('ParticipantName');\n    });\n  }\n\n  /**\n   * Unsubscribes from all events when the page is unloaded\n   */\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  changeFile(event) {\n    const file = event.target.files[0];\n\n    if (file) {\n      this.image = file;\n    }\n  }\n\n  create() {\n    this.projectsService.createProject('students', this.newProject, this.image).subscribe(data => {\n      this.alert.alert(data.message);\n      this.router.navigate([this.eventName + '/Schüler/' + this.studentUrl]);\n      this.projectsService.update.emit();\n    }, error => {\n      this.alert.error('Erstellung des Projektes fehlgeschlagen!', error.error);\n    });\n  }\n\n}\n"]}