{"version":3,"sources":["webpack:///src/app/log-in/reset-password/reset-password.page.html","webpack:///src/app/log-in/reset-password/reset-password-routing.module.ts","webpack:///src/app/log-in/reset-password/reset-password.module.ts","webpack:///src/app/log-in/reset-password/reset-password.page.scss","webpack:///src/app/log-in/reset-password/reset-password.page.ts"],"names":["routes","path","component","ResetPasswordPageRoutingModule","imports","forChild","exports","ResetPasswordPageModule","declarations","ResetPasswordPage","activatedRoute","router","config","auth","alert","formType","resetPasswordStudent","token","email","user_type","password","password_confirmation","resetPasswordLeader","resetPasswordAdmin","projectNoun","app_config","project_noun","eventName","event_name","text","get_content","paramMap","subscribe","has","snapshot","get","navigate","keyCode","type","form","resetStudentPassword","resetLeaderPassword","resetAdminPassword","nextInput","setFocus","resetPassword","data","message","reset","error","selector","template"],"mappings":"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","file":"log-in-reset-password-reset-password-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-button color=\\\"buttons\\\" slot=\\\"start\\\">\\n      <ion-back-button icon=\\\"arrow-back\\\" defaultHref=\\\"{{ eventName }}/Anmeldung\\\"></ion-back-button>\\n    </ion-button>\\n    <ion-title>reset-password</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content color=\\\"background\\\">\\n  <ion-card color=\\\"background\\\"class=\\\"content\\\">\\n    <ion-card-header color=\\\"background\\\">\\n      <ion-title>Passwort ändern</ion-title>\\n    </ion-card-header>\\n    <ion-card-content *ngIf=\\\"text\\\">\\n      <ion-label color=\\\"text\\\">\\n        {{ text }}\\n      </ion-label>\\n    </ion-card-content>\\n    <ion-card-content>\\n      <ion-segment color=\\\"buttons\\\" [(ngModel)]=\\\"formType\\\">\\n        <ion-segment-button value=\\\"student\\\">\\n          <ion-label>Schüler</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"leader\\\">\\n          <ion-label>{{ projectNoun }}leiter</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"admin\\\">\\n          <ion-label>Admin</ion-label>\\n        </ion-segment-button>\\n      </ion-segment>\\n\\n      <form #studentResetPassword=\\\"ngForm\\\" name=\\\"LogInForm\\\" (ngSubmit)=\\\"resetStudentPassword(studentResetPassword)\\\" [hidden]=\\\"formType != 'student'\\\" class=\\\"content\\\">\\n        <ion-card color=\\\"background\\\">\\n          <ion-card-header>\\n            <ion-title>Schüler</ion-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <ion-list>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" [(ngModel)]=\\\"resetPasswordStudent.email\\\" name=\\\"email\\\" placeholder=\\\"E-Mail\\\" required type=\\\"text\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password\\\" required [(ngModel)]=\\\"resetPasswordStudent.password\\\" placeholder=\\\"Passwort\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password_confirmation\\\" required [(ngModel)]=\\\"resetPasswordStudent.password_confirmation\\\" placeholder=\\\"Passwort bestätigen\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n            </ion-list>\\n            <div class=\\\"ion-padding\\\">\\n              <ion-button name=\\\"login\\\" type=\\\"submit\\\" [disabled]=\\\"studentResetPassword.invalid\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"buttons\\\">Passwort ändern</ion-button>\\n            </div>\\n          </ion-card-content>\\n        </ion-card>\\n      </form>\\n\\n      <form #leaderResetPassword=\\\"ngForm\\\" name=\\\"LogInForm\\\" (ngSubmit)=\\\"resetLeaderPassword(leaderResetPassword)\\\" [hidden]=\\\"formType != 'leader'\\\" class=\\\"content\\\">\\n        <ion-card color=\\\"background\\\">\\n          <ion-card-header>\\n            <ion-card-title>{{ projectNoun }}leiter</ion-card-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <ion-list>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" [(ngModel)]=\\\"resetPasswordLeader.email\\\" name=\\\"email\\\" placeholder=\\\"E-Mail\\\" required type=\\\"text\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password\\\" required [(ngModel)]=\\\"resetPasswordLeader.password\\\" placeholder=\\\"Passwort\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password_confirmation\\\" required [(ngModel)]=\\\"resetPasswordLeader.password_confirmation\\\" placeholder=\\\"Passwort bestätigen\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n            </ion-list>\\n            <div class=\\\"ion-padding\\\">\\n              <ion-button name=\\\"login\\\" type=\\\"submit\\\" [disabled]=\\\"leaderResetPassword.invalid\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"buttons\\\">Passwort ändern</ion-button>\\n            </div>\\n          </ion-card-content>\\n        </ion-card>\\n      </form>\\n\\n      <form #adminResetPassword=\\\"ngForm\\\" name=\\\"LogInForm\\\" (ngSubmit)=\\\"resetAdminPassword(adminResetPassword)\\\" [hidden]=\\\"formType != 'admin'\\\" class=\\\"content\\\">\\n        <ion-card color=\\\"background\\\">\\n          <ion-card-header>\\n            <ion-title>Admins</ion-title>\\n          </ion-card-header>\\n          <ion-card-content>\\n            <ion-list>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" [(ngModel)]=\\\"resetPasswordAdmin.email\\\" name=\\\"email\\\" placeholder=\\\"E-Mail\\\" required type=\\\"text\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password\\\" required [(ngModel)]=\\\"resetPasswordAdmin.password\\\" placeholder=\\\"Passwort\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n              <ion-item color=\\\"items\\\">\\n                <ion-input color=\\\"text\\\" minlength=\\\"8\\\" name=\\\"password_confirmation\\\" required [(ngModel)]=\\\"resetPasswordAdmin.password_confirmation\\\" placeholder=\\\"Passwort bestätigen\\\" type=\\\"password\\\"></ion-input>\\n              </ion-item>\\n            </ion-list>\\n            <div class=\\\"ion-padding\\\">\\n              <ion-button name=\\\"login\\\" type=\\\"submit\\\" [disabled]=\\\"adminResetPassword.invalid\\\" class=\\\"ion-no-margin\\\" expand=\\\"block\\\" color=\\\"buttons\\\">Passwort ändern</ion-button>\\n            </div>\\n          </ion-card-content>\\n        </ion-card>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ResetPasswordPage } from './reset-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResetPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ResetPasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ResetPasswordPageRoutingModule } from './reset-password-routing.module';\n\nimport { ResetPasswordPage } from './reset-password.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ResetPasswordPageRoutingModule\n  ],\n  declarations: [ResetPasswordPage]\n})\nexport class ResetPasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZy1pbi9yZXNldC1wYXNzd29yZC9yZXNldC1wYXNzd29yZC5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ConfigService } from 'src/app/config.service';\nimport { AuthenticationService } from 'src/app/authentication.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AlertService } from 'src/app/alert.service';\n\n@Component({\n  selector: 'app-reset-password',\n  templateUrl: './reset-password.page.html',\n  styleUrls: ['./reset-password.page.scss'],\n})\nexport class ResetPasswordPage implements OnInit {\n  formType = 'student';\n\n  resetPasswordStudent = {\n    token: '',\n    email: '',\n    user_type: 'students',\n    password: '',\n    password_confirmation: ''\n  };\n\n  resetPasswordLeader = {\n    token: '',\n    email: '',\n    user_type: 'leaders',\n    password: '',\n    password_confirmation: ''\n  };\n\n  resetPasswordAdmin = {\n    token: '',\n    email: '',\n    user_type: 'admins',\n    password: '',\n    password_confirmation: ''\n  };\n\n  text: string;\n\n  projectNoun = this.config.app_config.project_noun;\n  eventName = this.config.app_config.event_name;\n\n  constructor(private activatedRoute: ActivatedRoute,\n              private router: Router,\n              private config: ConfigService,\n              private auth: AuthenticationService,\n              private alert: AlertService) { }\n\n  ngOnInit() {\n    this.text = this.config.get_content('reset-password');\n\n    this.activatedRoute.paramMap.subscribe(paramMap => {\n      if (paramMap.has('ResetToken')) {\n        this.resetPasswordAdmin.token = this.activatedRoute.snapshot.paramMap.get('ResetToken');\n        this.resetPasswordLeader.token = this.activatedRoute.snapshot.paramMap.get('ResetToken');\n        this.resetPasswordStudent.token = this.activatedRoute.snapshot.paramMap.get('ResetToken');\n      } else {\n        this.router.navigate([this.eventName + '/Anmeldung']);\n      }\n    });\n  }\n\n  eventHandler(keyCode, type= 'students', form) {\n    if (keyCode === 13) {\n      if (type === 'students') {\n        this.resetStudentPassword(form);\n      } else if (type === 'leaders') {\n        this.resetLeaderPassword(form);\n      } else if (type === 'admins') {\n        this.resetAdminPassword(form);\n      }\n    }\n  }\n\n  nextInput(keyCode, nextInput) {\n    if (keyCode === 13) {\n      nextInput.setFocus();\n    }\n  }\n\n  resetStudentPassword(form) {\n    this.auth.resetPassword(this.resetPasswordStudent).subscribe(data => {\n      this.alert.alert(data.message);\n      form.reset();\n      this.router.navigate([this.eventName + '/Anmeldung']);\n    }, error => {\n      this.alert.error('Zurücksetzen des Passworts fehlgeschalgen!', error.error);\n    });\n  }\n\n  resetLeaderPassword(form) {\n    this.auth.resetPassword(this.resetPasswordLeader).subscribe(data => {\n      this.alert.alert(data.message);\n      form.reset();\n      this.router.navigate([this.eventName + '/Anmeldung']);\n    }, error => {\n      this.alert.error('Zurücksetzen des Passworts fehlgeschalgen!', error.error);\n    });\n  }\n\n  resetAdminPassword(form) {\n    this.auth.resetPassword(this.resetPasswordAdmin).subscribe(data => {\n      this.alert.alert(data.message);\n      form.reset();\n      this.router.navigate([this.eventName + '/Anmeldung']);\n    }, error => {\n      this.alert.error('Zurücksetzen des Passworts fehlgeschalgen!', error.error);\n    });\n  }\n\n}\n"]}