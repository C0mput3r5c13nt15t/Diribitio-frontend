(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"7RvP":function(e,t,i){"use strict";i.r(t),i.d(t,"AdminProjectDetailPageModule",function(){return D});var n=i("ofXK"),o=i("3Pt+"),c=i("tyNb"),r=i("TEn/"),d=i("fXoL"),a=i("OeS+"),b=i("CoJz"),s=i("r4Kj");function l(e,t){if(1&e&&d.Kb(0,"ion-img",18),2&e){const e=d.Wb();d.dc("src","",e.imageUrl,"",e.loadedProject.image,"")}}function u(e,t){1&e&&(d.Mb(0,"ion-item-divider",5),d.Mb(1,"ion-label",9),d.pc(2,"Nachrichten"),d.Lb(),d.Lb())}function h(e,t){if(1&e&&(d.Mb(0,"ion-item",11),d.Mb(1,"ion-card",20),d.Mb(2,"ion-card-content"),d.Mb(3,"ion-text",21),d.pc(4),d.Lb(),d.Kb(5,"br"),d.Mb(6,"ion-text",9),d.pc(7),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e){const e=t.$implicit;d.yb(4),d.qc(e.sender_name),d.yb(3),d.qc(e.message)}}function g(e,t){if(1&e&&(d.Mb(0,"div"),d.oc(1,h,8,2,"ion-item",19),d.Lb()),2&e){const e=d.Wb();d.yb(1),d.bc("ngForOf",e.loadedProject.messages)}}function m(e,t){1&e&&(d.Mb(0,"ion-item-divider",5),d.Mb(1,"ion-label",9),d.pc(2,"Projektleiter"),d.Lb(),d.Lb())}function p(e,t){if(1&e&&(d.Mb(0,"div"),d.Mb(1,"ion-item",11),d.Mb(2,"ion-card",5),d.Mb(3,"ion-card-content"),d.Mb(4,"ion-text",9),d.Kb(5,"ion-icon",22),d.pc(6),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e){const e=d.Wb();d.yb(6),d.uc(" ",e.loadedProject.leader.first_name," ",e.loadedProject.leader.last_name," ",e.loadedProject.leader.grade,"",e.loadedProject.leader.letter,"")}}function M(e,t){if(1&e&&(d.Mb(0,"div"),d.Mb(1,"ion-item",11),d.Mb(2,"ion-card",5),d.Mb(3,"ion-card-content"),d.Mb(4,"ion-text",9),d.Kb(5,"ion-icon",22),d.pc(6),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e){const e=d.Wb();d.yb(6),d.sc(" ",e.loadedProject.leader.user_name," ",e.loadedProject.leader.email,"")}}function j(e,t){1&e&&(d.Mb(0,"ion-item-divider",5),d.Mb(1,"ion-label",9),d.pc(2,"Assistenten"),d.Lb(),d.Lb())}function y(e,t){if(1&e&&(d.Mb(0,"ion-item",11),d.Mb(1,"ion-card",5),d.Mb(2,"ion-card-content"),d.Mb(3,"ion-text",9),d.Kb(4,"ion-icon",23),d.pc(5),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e){const e=t.$implicit;d.yb(5),d.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function f(e,t){if(1&e&&(d.Mb(0,"div"),d.oc(1,y,6,4,"ion-item",19),d.Lb()),2&e){const e=d.Wb();d.yb(1),d.bc("ngForOf",e.loadedProject.assistant_student_leaders)}}function L(e,t){if(1&e&&(d.Mb(0,"ion-item",11),d.Mb(1,"ion-card",5),d.Mb(2,"ion-card-content"),d.Mb(3,"ion-text",9),d.pc(4),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e){const e=t.$implicit;d.yb(4),d.uc("",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function _(e,t){if(1&e&&(d.Mb(0,"div"),d.oc(1,L,5,4,"ion-item",19),d.Lb()),2&e){const e=d.Wb();d.yb(1),d.bc("ngForOf",e.loadedProject.participants)}}function P(e,t){1&e&&(d.Mb(0,"div"),d.Mb(1,"ion-item",11),d.Mb(2,"ion-card",5),d.Mb(3,"ion-card-content"),d.Mb(4,"ion-text",24),d.pc(5,"keine Teilnehmer"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb())}function v(e,t){if(1&e&&(d.Mb(0,"ion-label",9),d.pc(1),d.Lb()),2&e){const e=d.Wb();d.yb(1),d.rc(" ",e.adminWrongTime," ")}}const w=[{path:"",component:(()=>{class e{constructor(e,t,i,o,c,r){this.activatedRoute=e,this.router=t,this.scheduleService=i,this.projectsService=o,this.alertCtrl=c,this.config=r,this.subscriptions=[],this.loadedProject={id:0,authorized:0,editable:0,title:"",image:"",descr:"",leader_name:"",leader_type:"",leader_id:0,cost:0,first_day_begin:{hours:0,minutes:0},first_day_end:{hours:0,minutes:0},second_day_begin:{hours:0,minutes:0},second_day_end:{hours:0,minutes:0},min_grade:0,max_grade:0,min_participants:0,max_participants:0,messages:[],participants:[],leader:null,assistant_student_leaders:[]},this.loadedStudentLeader={id:0,user_name:"",email:"",password:"",first_name:"",last_name:"",grade:0,letter:"",exchange_id:0,exchange_requests:[],first_friend:0,second_friend:0,third_friend:0,first_wish:0,second_wish:0,third_wish:0,project_id:0,role:2},this.schedule={id:1,begin:Object(n.n)(new Date,"yyyy-MM-dd","en"),control:Object(n.n)(new Date,"yyyy-MM-dd","en"),registration:Object(n.n)(new Date,"yyyy-MM-dd","en"),sort_students:Object(n.n)(new Date,"yyyy-MM-dd","en"),exchange:Object(n.n)(new Date,"yyyy-MM-dd","en"),projects:Object(n.n)(new Date,"yyyy-MM-dd","en"),end:Object(n.n)(new Date,"yyyy-MM-dd","en")},this.imageUrl=this.config.backend_config.imageUrl,this.projectNoun=this.config.app_config.project_noun,this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}ngOnInit(){this.adminWrongTime=this.config.get_error("admin-wrong_time"),this.currentDate=Object(n.n)(new Date,"yyyy-MM-dd","en"),this.activatedRoute.paramMap.subscribe(e=>{e.has("ProjectID")?(this.adminUrl=e.get("AdminName"),this.projectId=Number(e.get("ProjectID"))):this.router.navigate([""])}),this.getSchedule(),this.getProject(),this.subscriptions.push(this.scheduleService.update.subscribe(()=>this.getSchedule()),this.projectsService.update.subscribe(()=>this.getProject()))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getSchedule(){this.scheduleService.getSchedule().subscribe(e=>{this.schedule=e.data})}getProject(){this.projectsService.getProjectAdmin(this.projectId).subscribe(e=>{e.data?this.loadedProject=e.data:this.router.navigate([this.eventName+"/Admin/"+this.adminUrl])})}authorizedChanged(){this.currentDate>this.schedule.control&&this.currentDate<=this.schedule.registration&&this.projectsService.toogleAuthorizedProject(this.loadedProject.id,Boolean(this.loadedProject.authorized))}editableChanged(){this.projectsService.toogleEditableProject(this.loadedProject.id,Boolean(this.loadedProject.editable))}deleteProject(){this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie dieses Projekt wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:()=>{this.projectsService.deleteProject(this.loadedProject.id),this.router.navigate([this.eventName+"/Admin/"+this.adminUrl+"/"+this.projectsNoun])}}]}).then(e=>{e.present()})}}return e.\u0275fac=function(t){return new(t||e)(d.Jb(c.a),d.Jb(c.g),d.Jb(a.a),d.Jb(b.a),d.Jb(r.a),d.Jb(s.a))},e.\u0275cmp=d.Db({type:e,selectors:[["app-admin-project-detail"]],decls:86,vars:42,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","danger","slot","end",3,"disabled","click"],["name","trash"],["color","background"],["color","background",1,"content"],[3,"src",4,"ngIf"],["text-wrap",""],["color","text"],["color","items","lines","none",1,"descr"],["color","items","lines","none"],["color","background",4,"ngIf"],[4,"ngIf"],["color","buttons",3,"disabled","ngModel","ngModelChange","ionChange"],[1,"ion-padding"],["expand","block","color","danger","slot","end",1,"ion-no-margin",3,"disabled","click"],["color","text",4,"ngIf"],[3,"src"],["color","items","lines","none",4,"ngFor","ngForOf"],["color","background",1,"message"],["color","buttons"],["name","star"],["name","star-half"],["color","danger"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-button",1),d.Kb(3,"ion-back-button",2),d.Lb(),d.Mb(4,"ion-title"),d.pc(5),d.Lb(),d.Mb(6,"ion-button",3),d.Ub("click",function(){return t.deleteProject()}),d.Kb(7,"ion-icon",4),d.Lb(),d.Lb(),d.Lb(),d.Mb(8,"ion-content",5),d.Mb(9,"ion-card",6),d.oc(10,l,1,2,"ion-img",7),d.Mb(11,"ion-card-header"),d.Mb(12,"ion-card-title",8),d.pc(13),d.Lb(),d.Mb(14,"ion-card-subtitle"),d.Mb(15,"ion-label",9),d.pc(16),d.Xb(17,"date"),d.Xb(18,"date"),d.Lb(),d.Lb(),d.Lb(),d.Mb(19,"ion-card-content"),d.Mb(20,"ion-item-group"),d.Mb(21,"ion-item",10),d.Mb(22,"ion-label",9),d.pc(23),d.Lb(),d.Lb(),d.Mb(24,"ion-item-divider",5),d.Mb(25,"ion-label",9),d.pc(26,"Leiter"),d.Lb(),d.Lb(),d.Mb(27,"ion-item",11),d.Mb(28,"ion-label",9),d.pc(29),d.Lb(),d.Lb(),d.Mb(30,"ion-item-divider",5),d.Mb(31,"ion-label",9),d.pc(32,"Kosten"),d.Lb(),d.Lb(),d.Mb(33,"ion-item",11),d.Mb(34,"ion-label",9),d.pc(35),d.Lb(),d.Lb(),d.Mb(36,"ion-item-divider",5),d.Mb(37,"ion-label",9),d.pc(38,"Zeitraum"),d.Lb(),d.Lb(),d.Mb(39,"ion-item",11),d.Mb(40,"ion-label",9),d.pc(41),d.Lb(),d.Lb(),d.Mb(42,"ion-item",11),d.Mb(43,"ion-label",9),d.pc(44),d.Lb(),d.Lb(),d.Mb(45,"ion-item-divider",5),d.Mb(46,"ion-label",9),d.pc(47,"Klassenstufe"),d.Lb(),d.Lb(),d.Mb(48,"ion-item",11),d.Mb(49,"ion-label",9),d.pc(50),d.Lb(),d.Lb(),d.Mb(51,"ion-item-divider",5),d.Mb(52,"ion-label",9),d.pc(53,"Teinehmeranzahl"),d.Lb(),d.Lb(),d.Mb(54,"ion-item",11),d.Mb(55,"ion-label",9),d.pc(56),d.Lb(),d.Lb(),d.oc(57,u,3,0,"ion-item-divider",12),d.oc(58,g,2,1,"div",13),d.oc(59,m,3,0,"ion-item-divider",12),d.oc(60,p,7,4,"div",13),d.oc(61,M,7,2,"div",13),d.oc(62,j,3,0,"ion-item-divider",12),d.oc(63,f,2,1,"div",13),d.Mb(64,"ion-item-divider",5),d.Mb(65,"ion-label",9),d.pc(66,"Teilnehmer"),d.Lb(),d.Lb(),d.oc(67,_,2,1,"div",13),d.oc(68,P,6,0,"div",13),d.Mb(69,"ion-item-divider",5),d.Mb(70,"ion-label",9),d.pc(71,"Administration"),d.Lb(),d.Lb(),d.Mb(72,"ion-item",11),d.Mb(73,"ion-label",9),d.pc(74,"Zugelassen"),d.Lb(),d.Mb(75,"ion-toggle",14),d.Ub("ngModelChange",function(e){return!!((t.loadedProject.authorized=e)-0)})("ionChange",function(){return t.authorizedChanged()}),d.pc(76,"Aktiviert"),d.Lb(),d.Lb(),d.Mb(77,"ion-item",11),d.Mb(78,"ion-label",9),d.pc(79,"Bearbeitbar"),d.Lb(),d.Mb(80,"ion-toggle",14),d.Ub("ngModelChange",function(e){return!!((t.loadedProject.editable=e)-0)})("ionChange",function(){return t.editableChanged()}),d.pc(81,"Aktiviert"),d.Lb(),d.Lb(),d.Mb(82,"div",15),d.Mb(83,"ion-button",16),d.Ub("click",function(){return t.deleteProject()}),d.pc(84),d.Lb(),d.oc(85,v,2,1,"ion-label",17),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.yb(3),d.ec("defaultHref","",t.eventName,"/Admin/",t.adminUrl,"/",t.projectsNoun,""),d.yb(2),d.qc(t.projectNoun),d.yb(1),d.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration),d.yb(4),d.bc("ngIf",""!=t.loadedProject.image&&null!=t.loadedProject.image),d.yb(3),d.qc(t.loadedProject.title),d.yb(3),d.sc("Erstellt am ",d.Yb(17,36,t.loadedProject.created_at,"dd.MM.yyyy")," | Zuletzt aktualisiert am ",d.Yb(18,39,t.loadedProject.updated_at,"dd.MM.yyyy"),""),d.yb(7),d.qc(t.loadedProject.descr),d.yb(6),d.qc(t.loadedProject.leader_name),d.yb(6),d.rc("",t.loadedProject.cost,"\u20ac"),d.yb(6),d.sc("1.Tag: ",t.loadedProject.first_day_begin," bis ",t.loadedProject.first_day_end,""),d.yb(3),d.sc("2.Tag: ",t.loadedProject.second_day_begin," bis ",t.loadedProject.second_day_end,""),d.yb(6),d.sc("",t.loadedProject.min_grade,". bis ",t.loadedProject.max_grade,".Klasse"),d.yb(6),d.sc("von ",t.loadedProject.min_participants," bis ",t.loadedProject.max_participants,""),d.yb(1),d.bc("ngIf",t.loadedProject.messages.length),d.yb(1),d.bc("ngIf",t.loadedProject.messages.length),d.yb(1),d.bc("ngIf",t.loadedProject.leader),d.yb(1),d.bc("ngIf",t.loadedProject.leader&&"App\\Student"===t.loadedProject.leader_type),d.yb(1),d.bc("ngIf",t.loadedProject.leader&&"App\\Leader"===t.loadedProject.leader_type),d.yb(1),d.bc("ngIf",t.loadedProject.assistant_student_leaders.length),d.yb(1),d.bc("ngIf",t.loadedProject.assistant_student_leaders.length),d.yb(4),d.bc("ngIf",t.loadedProject.participants.length),d.yb(1),d.bc("ngIf",!t.loadedProject.participants.length),d.yb(7),d.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration||1==!!(t.loadedProject.editable-0))("ngModel",!!(t.loadedProject.authorized-0)),d.yb(5),d.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration)("ngModel",!!(t.loadedProject.editable-0)),d.yb(3),d.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration),d.yb(1),d.rc("",t.projectNoun," l\xf6schen"),d.yb(1),d.bc("ngIf",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration))},directives:[r.t,r.R,r.h,r.e,r.f,r.P,r.u,r.p,r.j,n.j,r.l,r.n,r.m,r.A,r.k,r.z,r.x,r.y,r.Q,r.b,o.f,o.i,r.v,n.i,r.N],pipes:[n.d],styles:["img[_ngcontent-%COMP%]{width:auto;margin:10px auto auto}"]}),e})()}];let D=(()=>{class e{}return e.\u0275mod=d.Hb({type:e}),e.\u0275inj=d.Gb({factory:function(t){return new(t||e)},imports:[[n.b,o.a,r.S,c.k.forChild(w)]]}),e})()}}]);