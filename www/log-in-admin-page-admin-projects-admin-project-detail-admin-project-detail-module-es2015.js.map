{"version":3,"sources":["./src/app/log-in/admin-page/admin-projects/admin-project-detail/admin-project-detail.module.ts","./src/app/log-in/admin-page/admin-projects/admin-project-detail/admin-project-detail.page.html","./src/app/log-in/admin-page/admin-projects/admin-project-detail/admin-project-detail.page.scss","./src/app/log-in/admin-page/admin-projects/admin-project-detail/admin-project-detail.page.ts"],"names":[],"mappings":"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","file":"log-in-admin-page-admin-projects-admin-project-detail-admin-project-detail-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminProjectDetailPage } from './admin-project-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminProjectDetailPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminProjectDetailPage]\n})\nexport class AdminProjectDetailPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"menu\\\">\\n    <ion-button color=\\\"buttons\\\" slot=\\\"start\\\">\\n      <ion-back-button icon=\\\"arrow-back\\\" defaultHref=\\\"{{ eventName }}/Admin/{{ adminUrl }}/{{ projectsNoun }}\\\"></ion-back-button>\\n    </ion-button>\\n    <ion-title>{{ projectNoun }}</ion-title>\\n    <ion-button [disabled]=\\\"currentDate <= this.schedule.control || currentDate > this.schedule.registration\\\" color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"deleteProject()\\\">\\n      <ion-icon name=\\\"trash\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content color=\\\"background\\\">\\n  <ion-card color=\\\"background\\\"class=\\\"content\\\">\\n    <ion-img *ngIf=\\\"loadedProject.image != '' && loadedProject.image != null\\\" src='{{ imageUrl }}{{ loadedProject.image }}'></ion-img>\\n    <ion-card-header>\\n      <ion-card-title text-wrap>{{ loadedProject.title }}</ion-card-title>\\n      <ion-card-subtitle>\\n        <ion-label color=\\\"text\\\">Erstellt am {{ loadedProject.created_at | date: 'dd.MM.yyyy' }} | Zuletzt aktualisiert am {{ loadedProject.updated_at | date: 'dd.MM.yyyy' }}</ion-label>\\n      </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-item-group>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\" class=\\\"descr\\\">\\n          <ion-label color=\\\"text\\\">{{ loadedProject.descr }}</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Leiter</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">{{ loadedProject.leader_name }}</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Kosten</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">{{ loadedProject.cost }}€</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Zeitraum</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">1.Tag:  {{ loadedProject.first_day_begin }} bis {{ loadedProject.first_day_end }}</ion-label>\\n        </ion-item>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">2.Tag:  {{ loadedProject.second_day_begin }} bis {{ loadedProject.second_day_end }}</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Klassenstufe</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">{{ loadedProject.min_grade }}. bis {{ loadedProject.max_grade }}.Klasse</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Teinehmeranzahl</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">von {{ loadedProject.min_participants }} bis {{ loadedProject.max_participants }}</ion-label>\\n        </ion-item>\\n        <ion-item-divider color=\\\"background\\\" *ngIf=\\\"loadedProject.messages.length\\\">\\n          <ion-label color=\\\"text\\\">Nachrichten</ion-label>\\n        </ion-item-divider>\\n        <div *ngIf=\\\"loadedProject.messages.length\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\" *ngFor=\\\"let message of loadedProject.messages\\\">\\n            <ion-card class=\\\"message\\\" color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"buttons\\\">{{ message.sender_name }}</ion-text><br>\\n                <ion-text color=\\\"text\\\">{{ message.message }}</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <ion-item-divider color=\\\"background\\\" *ngIf=\\\"loadedProject.leader\\\">\\n          <ion-label color=\\\"text\\\">Projektleiter</ion-label>\\n        </ion-item-divider>\\n        <div *ngIf=\\\"loadedProject.leader && loadedProject.leader_type === 'App\\\\\\\\Student'\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n            <ion-card color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"text\\\"><ion-icon name=\\\"star\\\"></ion-icon> {{ loadedProject.leader.first_name }} {{ loadedProject.leader.last_name }} {{ loadedProject.leader.grade }}{{ loadedProject.leader.letter }}</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <div *ngIf=\\\"loadedProject.leader && loadedProject.leader_type === 'App\\\\\\\\Leader'\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n            <ion-card color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"text\\\"><ion-icon name=\\\"star\\\"></ion-icon> {{ loadedProject.leader.user_name }} {{ loadedProject.leader.email }}</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <ion-item-divider color=\\\"background\\\" *ngIf=\\\"loadedProject.assistant_student_leaders.length\\\">\\n          <ion-label color=\\\"text\\\">Assistenten</ion-label>\\n        </ion-item-divider>\\n        <div *ngIf=\\\"loadedProject.assistant_student_leaders.length\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\" *ngFor=\\\"let assistant of loadedProject.assistant_student_leaders\\\">\\n            <ion-card color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"text\\\"><ion-icon name=\\\"star-half\\\"></ion-icon> {{ assistant.first_name }} {{ assistant.last_name }} {{ assistant.grade }}{{ assistant.letter }}</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Teilnehmer</ion-label>\\n        </ion-item-divider>\\n        <div *ngIf=\\\"loadedProject.participants.length\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\" *ngFor=\\\"let participant of loadedProject.participants\\\">\\n            <ion-card color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"text\\\">{{ participant.first_name }} {{ participant.last_name }} {{ participant.grade }}{{ participant.letter }}</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <div *ngIf=\\\"!loadedProject.participants.length\\\">\\n          <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n            <ion-card color=\\\"background\\\">\\n              <ion-card-content>\\n                <ion-text color=\\\"danger\\\">keine Teilnehmer</ion-text>\\n              </ion-card-content>\\n            </ion-card>\\n          </ion-item>\\n        </div>\\n        <ion-item-divider color=\\\"background\\\">\\n          <ion-label color=\\\"text\\\">Administration</ion-label>\\n        </ion-item-divider>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">Zugelassen</ion-label><ion-toggle [disabled]=\\\"currentDate <= this.schedule.control || currentDate > this.schedule.registration || !!+loadedProject.editable == true\\\"  color=\\\"buttons\\\" [(ngModel)]=\\\"!!+loadedProject.authorized\\\" (ionChange)=\\\"authorizedChanged()\\\">Aktiviert</ion-toggle>\\n        </ion-item>\\n        <ion-item color=\\\"items\\\" lines=\\\"none\\\">\\n          <ion-label color=\\\"text\\\">Bearbeitbar</ion-label><ion-toggle [disabled]=\\\"currentDate <= this.schedule.control || currentDate > this.schedule.registration\\\"  color=\\\"buttons\\\" [(ngModel)]=\\\"!!+loadedProject.editable\\\" (ionChange)=\\\"editableChanged()\\\">Aktiviert</ion-toggle>\\n        </ion-item>\\n        <div class=\\\"ion-padding\\\">\\n          <ion-button [disabled]=\\\"currentDate <= this.schedule.control || currentDate > this.schedule.registration\\\" expand=\\\"block\\\" class=\\\"ion-no-margin\\\" color=\\\"danger\\\" slot=\\\"end\\\" (click)=\\\"deleteProject()\\\">{{ projectNoun }} löschen</ion-button>\\n          <ion-label *ngIf=\\\"currentDate <= this.schedule.control || currentDate > this.schedule.registration\\\" color=\\\"text\\\">\\n            {{ adminWrongTime }}\\n          </ion-label>\\n        </div>\\n      </ion-item-group>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";","export default \"img {\\n  width: auto;\\n  margin: 10px auto auto auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGFkbWluLXByb2plY3QtZGV0YWlsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSwyQkFBQTtBQUNKIiwiZmlsZSI6ImFkbWluLXByb2plY3QtZGV0YWlsLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImltZyB7XHJcbiAgICB3aWR0aDogYXV0bztcclxuICAgIG1hcmdpbjogMTBweCBhdXRvIGF1dG8gYXV0bztcclxufSJdfQ== */\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ProjectsService } from 'src/app/services/projects.service';\nimport { AlertController } from '@ionic/angular';\nimport { Student } from 'src/models/Student.model';\nimport { Project } from 'src/models/Project.model';\nimport { Schedule } from 'src/models/Schedule.model';\nimport { formatDate } from '@angular/common';\nimport { ScheduleService } from 'src/app/services/schedule.service';\nimport { ConfigService } from 'src/app/services/config.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-admin-project-detail',\n  templateUrl: './admin-project-detail.page.html',\n  styleUrls: ['./admin-project-detail.page.scss'],\n})\nexport class AdminProjectDetailPage implements OnInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  adminUrl: string;\n\n  projectId: number;\n\n  loadedProject: Project = {\n    id: 0,\n    authorized: 0,\n    editable: 0,\n    title: '',\n    image: '',\n    descr: '',\n    leader_name: '',\n    leader_type: '',\n    leader_id: 0,\n    cost: 0,\n    first_day_begin: {\n      hours: 0,\n      minutes: 0,\n    },\n    first_day_end: {\n      hours: 0,\n      minutes: 0,\n    },\n    second_day_begin: {\n      hours: 0,\n      minutes: 0,\n    },\n    second_day_end: {\n      hours: 0,\n      minutes: 0,\n    },\n    min_grade: 0,\n    max_grade: 0,\n    min_participants: 0,\n    max_participants: 0,\n    messages: [],\n    participants: [],\n    leader: null,\n    assistant_student_leaders: []\n  };\n\n  loadedStudentLeader: Student = {\n    id: 0,\n    user_name: '',\n    email: '',\n    password: '',\n    first_name: '',\n    last_name: '',\n    grade: 0,\n    letter: '',\n    exchange_id: 0,\n    exchange_requests: [],\n    first_friend: 0,\n    second_friend: 0,\n    third_friend: 0,\n    first_wish: 0,\n    second_wish: 0,\n    third_wish: 0,\n    project_id: 0,\n    role: 2\n  };\n\n  /**\n   * Contains the time schedule of the application\n   */\n  schedule: Schedule = {\n    id: 1,\n    begin: null,\n    control: null,\n    registration: null,\n    sort_students: null,\n    exchange: null,\n    projects: null,\n    end: null\n  };\n\n  /**\n   * Contains the current date in yyyy-MM-dd format\n   */\n  currentDate: any;\n\n  adminWrongTime: string;\n\n  imageUrl = this.config.backend_config.imageUrl;\n  projectNoun = this.config.app_config.project_noun;\n  projectsNoun = this.config.app_config.projects_noun;\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n\n  constructor(private activatedRoute: ActivatedRoute,\n              private router: Router,\n              private scheduleService: ScheduleService,\n              private projectsService: ProjectsService,\n              private alertCtrl: AlertController,\n              private config: ConfigService) { }\n\n  ngOnInit() {\n    this.adminWrongTime = this.config.get_error('admin-wrong_time');\n\n    this.currentDate = formatDate(new Date(), 'yyyy-MM-dd', 'en');\n\n    this.activatedRoute.paramMap.subscribe(paramMap => {\n      if (!paramMap.has('ProjectID')) {\n        this.router.navigate(['']);\n        return;\n      }\n      this.adminUrl = paramMap.get('AdminName');\n      this.projectId = Number(paramMap.get('ProjectID'));\n    });\n\n    this.getSchedule();\n    this.getProject();\n\n    this.subscriptions.push(\n      this.scheduleService.update.subscribe(() => this.getSchedule()),\n      this.projectsService.update.subscribe(() => this.getProject())\n    );\n  }\n\n  /**\n   * Unsubscribes from all events when the page is unloaded\n   */\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  /**\n   * Gets the current time schedule for the application and sets the schedule value\n   */\n  getSchedule() {\n    this.scheduleService.getSchedule().subscribe(data => {\n      this.schedule = data.data;\n    });\n  }\n\n  getProject() {\n    this.projectsService.getProjectAdmin(this.projectId).subscribe(data => {\n      if (!data.data) {\n        this.router.navigate([this.eventName + '/Admin/' + this.adminUrl]);\n      } else {\n        this.loadedProject = data.data;\n      }\n    });\n  }\n\n  authorizedChanged() {\n    if (this.currentDate > this.schedule.control && this.currentDate <= this.schedule.registration) {\n      this.projectsService.toogleAuthorizedProject(this.loadedProject.id, Boolean(this.loadedProject.authorized));\n    }\n  }\n\n  editableChanged() {\n    this.projectsService.toogleEditableProject(this.loadedProject.id, Boolean(this.loadedProject.editable));\n  }\n\n  deleteProject() {\n    this.alertCtrl.create({\n      header: 'Sind sie sicher?',\n      message: 'Wollen sie dieses Projekt wirklich unwiederruflich löschen?',\n      buttons: [{\n        text: 'Abbrechen',\n        role: 'cancel',\n      }, {\n        text: 'Löschen',\n        handler: () => {\n          this.projectsService.deleteProject(this.loadedProject.id);\n          this.router.navigate([this.eventName + '/Admin/' + this.adminUrl + '/' + this.projectsNoun]);\n        }\n      }]\n    }).then(alertEl => {\n      alertEl.present();\n    });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}