!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[34,45,46,47,48],{gH7Q:function(t,i,r){"use strict";r.r(i),r.d(i,"AdminProjectsPageModule",(function(){return _}));var o=r("ofXK"),a=r("3Pt+"),c=r("tyNb"),s=r("TEn/"),u=r("fXoL"),d=r("zbRu"),h=r("wxHw");function l(e,t){if(1&e&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",7),u.oc(2),u.Kb(),u.Kb()),2&e){var n=u.Vb();u.xb(2),u.qc(" ",n.text," ")}}function p(e,t){if(1&e&&u.Jb(0,"ion-img",12),2&e){var n=u.Vb().$implicit,i=u.Vb();u.cc("src","",i.imageUrl,"",n.image,"")}}function b(e,t){if(1&e&&(u.Lb(0,"p"),u.oc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.pc(n.descr)}}function f(e,t){1&e&&(u.Lb(0,"ion-text",13),u.oc(1," (Nicht zugelassen!)"),u.Kb())}var g=function(e){return["./",e]};function v(e,t){if(1&e&&(u.Lb(0,"ion-item",8),u.Lb(1,"ion-avatar",9),u.nc(2,p,1,2,"ion-img",10),u.Kb(),u.Lb(3,"ion-label",7),u.Lb(4,"h2"),u.oc(5),u.Kb(),u.nc(6,b,2,1,"p",5),u.nc(7,f,2,0,"ion-text",11),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.ac("routerLink",u.fc(6,g,n.id)),u.xb(1),u.ac("hidden",null==n.image||""==n.image),u.xb(1),u.ac("ngIf",""!=n.image&&null!=n.image),u.xb(3),u.pc(n.title),u.xb(1),u.ac("ngIf",1==!!(n.authorized-0)),u.xb(1),u.ac("ngIf",0==!!(n.authorized-0))}}var j,m,k=[{path:"",component:(j=function(){function t(n,i,r){e(this,t),this.projectsService=n,this.activatedRoute=i,this.config=r,this.imageUrl=this.config.backend_config.imageUrl,this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.text=this.config.get_content("admin-projects"),this.activatedRoute.paramMap.subscribe((function(t){e.adminUrl=t.get("AdminName")})),this.getProjects(),this.projectsService.update.subscribe((function(){return e.getProjects()}))}},{key:"getProjects",value:function(){var e=this;this.projectsService.getAllProjects().subscribe((function(t){e.projects=t.data}))}}]),t}(),j.\u0275fac=function(e){return new(e||j)(u.Ib(d.a),u.Ib(c.a),u.Ib(h.a))},j.\u0275cmp=u.Cb({type:j,selectors:[["app-admin-projects"]],decls:15,vars:6,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["color","background",1,"content"],[4,"ngIf"],["color","background",3,"routerLink",4,"ngFor","ngForOf"],["color","text"],["color","background",3,"routerLink"],["slot","start",3,"hidden"],[3,"src",4,"ngIf"],["color","danger",4,"ngIf"],[3,"src"],["color","danger"]],template:function(e,t){1&e&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar",0),u.Lb(2,"ion-button",1),u.Jb(3,"ion-back-button",2),u.Kb(),u.Lb(4,"ion-title"),u.oc(5),u.Kb(),u.Kb(),u.Kb(),u.Lb(6,"ion-content",3),u.Lb(7,"ion-card",4),u.Lb(8,"ion-card-header"),u.Lb(9,"ion-card-title"),u.oc(10),u.Kb(),u.Kb(),u.nc(11,l,3,1,"ion-card-content",5),u.Lb(12,"ion-card-content"),u.Lb(13,"ion-list"),u.nc(14,v,8,8,"ion-item",6),u.Kb(),u.Kb(),u.Kb(),u.Kb()),2&e&&(u.xb(3),u.cc("defaultHref","",t.eventName,"/Admin/",t.adminUrl,""),u.xb(2),u.pc(t.projectsNoun),u.xb(5),u.pc(t.projectsNoun),u.xb(1),u.ac("ngIf",t.text),u.xb(3),u.ac("ngForOf",t.projects))},directives:[s.t,s.R,s.h,s.e,s.f,s.P,s.p,s.j,s.l,s.n,o.j,s.k,s.B,o.i,s.A,s.x,s.Y,c.h,s.d,s.v,s.N],styles:[""]}),j)}],_=((m=function t(){e(this,t)}).\u0275mod=u.Gb({type:m}),m.\u0275inj=u.Fb({factory:function(e){return new(e||m)},imports:[[o.b,a.a,s.S,c.k.forChild(k)]]}),m)},zbRu:function(t,i,r){"use strict";r.d(i,"a",(function(){return h}));var o=r("fXoL"),a=r("tk/3"),c=r("18Le"),s=r("YdJ5"),u=r("wxHw"),d=r("tyNb"),h=function(){var t=function(){function t(n,i,r,a,c){e(this,t),this.http=n,this.auth=i,this.alert=r,this.config=a,this.router=c,this.update=new o.n,this.backendUrl=this.config.backend_config.url,this.projectNoun=this.config.app_config.project_noun,this.eventName=this.config.app_config.event_name}return n(t,[{key:"getAllProjects",value:function(){var e=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects",{headers:e})}},{key:"getProject",value:function(e){var t=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/"+e,{headers:t})}},{key:"getLittleProject",value:function(e){var t=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/show_little/"+e,{headers:t})}},{key:"getProjectAdmin",value:function(e){var t=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/project/"+e,{headers:t})}},{key:"getSelfProject",value:function(){var e=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/project",{headers:e})}},{key:"getSelfLeadedProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",t=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+e+"/leaded_project",{headers:t})}},{key:"createProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={headers:new a.c({Authorization:"Bearer "+this.auth.jwt})},r=new FormData;return r.append("title",t.title),r.append("image",n),r.append("descr",t.descr),r.append("leader_name",t.leader_name),r.append("cost",t.cost),r.append("first_day_begin",t.first_day_begin),r.append("first_day_end",t.first_day_end),r.append("second_day_begin",t.second_day_begin),r.append("second_day_end",t.second_day_end),r.append("min_grade",t.min_grade),r.append("max_grade",t.max_grade),r.append("min_participants",t.min_participants),r.append("max_participants",t.max_participants),this.http.post(this.backendUrl+e+"/store_project",r,i)}},{key:"toogleAuthorizedProject",value:function(e,t){var n=this,i=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"admins/toogle_authorized/"+e,{authorized:t},{headers:i}).subscribe((function(e){e&&n.alert.alert(e.message),n.update.emit()}),(function(e){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"toogleEditableProject",value:function(e,t){var n=this,i=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"admins/toogle_editable/"+e,{editable:t},{headers:i}).subscribe((function(e){n.alert.alert(e.message),n.update.emit()}),(function(e){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"putProject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=new a.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+t+"/update_project",n,{headers:r}).subscribe((function(n){e.alert.alert(n.message),e.router.navigate("students"===t?[e.eventName+"/Sch\xfcler/"+i]:[e.eventName+"/"+e.projectNoun+"leiter/"+i]),e.update.emit()}),(function(t){e.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"touchUpProject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=new a.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+t+"/touch_up_project",n,{headers:r}).subscribe((function(n){e.alert.alert(n.message),e.router.navigate("students"===t?[e.eventName+"/Sch\xfcler/"+i]:[e.eventName+"/"+e.projectNoun+"leiter/"+i]),e.update.emit()}),(function(t){e.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"deleteProject",value:function(e){var t=this,n=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_project/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("L\xf6schung des Projektes fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Pb(a.a),o.Pb(c.a),o.Pb(s.a),o.Pb(u.a),o.Pb(d.g))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();