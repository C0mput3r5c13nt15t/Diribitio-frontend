(window.webpackJsonp=window.webpackJsonp||[]).push([[4,30,31,40,41],{"9pHg":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),o=n("tk/3"),r=n("18Le"),a=n("wxHw");let s=(()=>{class e{constructor(e,t,n){this.http=e,this.auth=t,this.config=n,this.update=new i.n,this.backendUrl=this.config.backend_config.url}getSchedule(){const e=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"schedule/1",{headers:e})}putSchedule(e){const t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"admins/update_schedule",e,{headers:t})}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(o.a),i.Pb(r.a),i.Pb(a.a))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},kXZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),o=n("tk/3"),r=n("18Le"),a=n("YdJ5"),s=n("wxHw"),c=n("tyNb");let l=(()=>{class e{constructor(e,t,n,o,r){this.http=e,this.auth=t,this.alert=n,this.config=o,this.router=r,this.update=new i.n,this.backendUrl=this.config.backend_config.url,this.eventName=this.config.app_config.event_name}signUpAdmin(e,t){const n=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"admins/register",e,{headers:n}).subscribe(e=>{e.token&&(this.auth.set_jwt(e.token),this.auth.setLoggedIn(!0),this.router.navigate([this.eventName+"/Anmeldung"])),this.alert.alert("Dein Account wurde erfolgreich erstellt!"),this.sendAuthentificationEmail(),this.update.emit(),t.reset()},e=>{this.alert.error("Erstellung des Accounts fehlgeschlagen!",e.error)})}sendAuthentificationEmail(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/email/resend",null,{headers:e}).subscribe(e=>{this.alert.alert(e.message)},e=>{this.alert.error("Versandt der Verifizierungs E-Mail fehlgeschlagen!",e.error)})}sendAuthentificationEmailSubscribe(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/email/resend",null,{headers:e})}logInAdmin(e){const t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"admins/login",e,{headers:t})}logOutAdmin(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/logout",null,{headers:e}).subscribe(e=>{this.alert.alert(e.message),this.auth.setLoggedIn(!1),this.router.navigate([this.eventName+"/Anmeldung"])},e=>{this.alert.error("Logout fehlgeschlagen!",e.error)})}getSelfAdmin(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/self",{headers:e})}getAllSignUpEmails(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"sign_up_emails",{headers:e})}createSignUpEmail(e){const t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"sign_up_emails",e,{headers:t})}deleteSignUpEmail(e){const t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"sign_up_emails/"+e,{headers:t}).subscribe(e=>{this.alert.alert(e.message),this.update.emit()},e=>{this.alert.error("Sperrung der E-Mail fehlgeschlagen!",e.error)})}createSortingProposal(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/create_sorting_proposal",null,{headers:e})}requestSortingProposal(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/request_sorting_proposal",{headers:e})}editSortingProposal(e){const t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/edit_sorting_proposal",e,{headers:t}).subscribe(e=>{this.alert.alert(e.message)},e=>{this.alert.error("Erstellung eines Backups fehlgeschlagen!",e.error)})}applySortingProposal(){const e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/apply_sorting_proposal",null,{headers:e}).subscribe(e=>{this.alert.alert(e.message)},e=>{this.alert.error("Erstellung eines Backups fehlgeschlagen!",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(i.Pb(o.a),i.Pb(r.a),i.Pb(a.a),i.Pb(s.a),i.Pb(c.g))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qLtw:function(e,t,n){"use strict";n.r(t),n.d(t,"AdminSchedulePageModule",(function(){return D}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("fXoL"),c=n("kXZ0"),l=n("9pHg"),u=n("YdJ5"),h=n("wxHw");function b(e,t){if(1&e&&(s.Lb(0,"ion-card-content"),s.Lb(1,"ion-label",20),s.oc(2),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(2),s.qc(" ",e.text," ")}}function d(e,t){if(1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",22),s.Lb(2,"ion-label"),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Registrierung und Erstellung der ",e.projectsNoun,"")}}function g(e,t){if(1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",23),s.Lb(2,"ion-label",20),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Registrierung und Erstellung der ",e.projectsNoun,"")}}function p(e,t){if(1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",24),s.Lb(2,"ion-label"),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Kontrolle und Freigabe der ",e.projectsNoun,"")}}function m(e,t){if(1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",25),s.Lb(2,"ion-label",20),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Kontrolle und Freigabe der ",e.projectsNoun,"")}}function f(e,t){if(1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",26),s.Lb(2,"ion-label"),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Anmeldung f\xfcr die ",e.projectsNoun,"")}}function L(e,t){if(1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",27),s.Lb(2,"ion-label",20),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.qc("Anmeldung f\xfcr die ",e.projectsNoun,"")}}function w(e,t){1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",28),s.Lb(2,"ion-label"),s.oc(3,"Sortierung durch den Algorithmus"),s.Kb(),s.Kb())}function K(e,t){1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",29),s.Lb(2,"ion-label",20),s.oc(3,"Sortierung durch den Algorithmus"),s.Kb(),s.Kb())}function k(e,t){1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",30),s.Lb(2,"ion-label"),s.oc(3,"Tauschphase"),s.Kb(),s.Kb())}function x(e,t){1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",31),s.Lb(2,"ion-label",20),s.oc(3,"Tauschphase"),s.Kb(),s.Kb())}function j(e,t){if(1&e&&(s.Lb(0,"ion-item",21),s.Jb(1,"ion-icon",32),s.Lb(2,"ion-label"),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.pc(e.eventName)}}function A(e,t){if(1&e&&(s.Lb(0,"ion-item",8),s.Jb(1,"ion-icon",33),s.Lb(2,"ion-label",20),s.oc(3),s.Kb(),s.Kb()),2&e){const e=s.Vb();s.xb(3),s.pc(e.eventName)}}const M=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,r){this.activatedRoute=e,this.adminsService=t,this.scheduleService=n,this.router=i,this.alert=o,this.config=r,this.schedule={id:1,begin:null,control:null,registration:null,sort_students:null,exchange:null,projects:null,end:null},this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}ngOnInit(){this.text=this.config.get_content("admin-schedule"),this.currentDate=Object(i.n)(new Date,"yyyy-MM-dd","en"),this.activatedRoute.paramMap.subscribe(e=>{this.adminUrl=e.get("AdminName")}),this.getSchedule(),this.adminsService.update.subscribe(()=>this.getSchedule())}getSchedule(){this.scheduleService.getSchedule().subscribe(e=>{this.schedule=e.data})}mangaeSchedule(){this.scheduleService.putSchedule(this.schedule).subscribe(e=>{this.alert.alert(e.message),this.scheduleService.update.emit(),this.router.navigate([this.eventName+"/Admin/"+this.adminUrl])},e=>{this.alert.error("Aktualisierung des Zeitplans fehlgeschlagen!",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(s.Ib(a.a),s.Ib(c.a),s.Ib(l.a),s.Ib(a.g),s.Ib(u.a),s.Ib(h.a))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-admin-schedule"]],decls:52,vars:23,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["name","ParticipantForm",3,"ngSubmit"],["form","ngForm"],["color","background",1,"content"],[4,"ngIf"],["color","items","lines","none"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Beginn","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["color","buttons","lines","none",4,"ngIf"],["color","items","lines","none",4,"ngIf"],["placeholder","Bitte ein Datum w\xe4hlen","name","Kontrolle","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Anmeldung","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Sortierung","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Tausch","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Projekte","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],["placeholder","Bitte ein Datum w\xe4hlen","required","","name","Ende","monthShortNames","Jan, Feb, M\xe4rz, Apr, Mai, Jun, Jul, Aug, Sept, Okt, Nov, Dez","display-timezone","utc",3,"ngModel","ngModelChange"],[1,"ion-padding"],["color","buttons","expand","block","type","submit",1,"ion-no-margin",3,"disabled"],["color","text"],["color","buttons","lines","none"],["slot","start","name","create"],["color","text","slot","start","name","create"],["slot","start","name","shield-checkmark"],["color","text","slot","start","name","shield-checkmark"],["slot","start","name","log-in"],["color","text","slot","start","name","log-in"],["slot","start","name","funnel"],["color","text","slot","start","name","funnel"],["slot","start","name","swap-horizontal"],["color","text","slot","start","name","swap-horizontal"],["slot","start","name","flag"],["color","text","slot","start","name","flag"]],template:function(e,t){if(1&e&&(s.Lb(0,"ion-header"),s.Lb(1,"ion-toolbar",0),s.Lb(2,"ion-button",1),s.Jb(3,"ion-back-button",2),s.Kb(),s.Lb(4,"ion-title"),s.oc(5,"Zeitplan verwalten"),s.Kb(),s.Kb(),s.Kb(),s.Lb(6,"ion-content",3),s.Lb(7,"form",4,5),s.Tb("ngSubmit",(function(){return t.mangaeSchedule()})),s.Lb(9,"ion-card",6),s.Lb(10,"ion-card-header"),s.Lb(11,"ion-card-title"),s.oc(12,"Zeitplan"),s.Kb(),s.Kb(),s.nc(13,b,3,1,"ion-card-content",7),s.Lb(14,"ion-card-content"),s.Lb(15,"ion-list"),s.Lb(16,"ion-item",8),s.oc(17," ab "),s.Lb(18,"ion-datetime",9),s.Tb("ngModelChange",(function(e){return t.schedule.begin=e})),s.Kb(),s.Kb(),s.nc(19,d,4,1,"ion-item",10),s.nc(20,g,4,1,"ion-item",11),s.Lb(21,"ion-item",8),s.oc(22," bis "),s.Lb(23,"ion-datetime",12),s.Tb("ngModelChange",(function(e){return t.schedule.control=e})),s.Kb(),s.Kb(),s.nc(24,p,4,1,"ion-item",10),s.nc(25,m,4,1,"ion-item",11),s.Lb(26,"ion-item",8),s.oc(27," bis "),s.Lb(28,"ion-datetime",13),s.Tb("ngModelChange",(function(e){return t.schedule.registration=e})),s.Kb(),s.Kb(),s.nc(29,f,4,1,"ion-item",10),s.nc(30,L,4,1,"ion-item",11),s.Lb(31,"ion-item",8),s.oc(32," bis "),s.Lb(33,"ion-datetime",14),s.Tb("ngModelChange",(function(e){return t.schedule.sort_students=e})),s.Kb(),s.Kb(),s.nc(34,w,4,0,"ion-item",10),s.nc(35,K,4,0,"ion-item",11),s.Lb(36,"ion-item",8),s.oc(37," bis "),s.Lb(38,"ion-datetime",15),s.Tb("ngModelChange",(function(e){return t.schedule.exchange=e})),s.Kb(),s.Kb(),s.nc(39,k,4,0,"ion-item",10),s.nc(40,x,4,0,"ion-item",11),s.Lb(41,"ion-item",8),s.oc(42," bis "),s.Lb(43,"ion-datetime",16),s.Tb("ngModelChange",(function(e){return t.schedule.projects=e})),s.Kb(),s.Kb(),s.nc(44,j,4,1,"ion-item",10),s.nc(45,A,4,1,"ion-item",11),s.Lb(46,"ion-item",8),s.oc(47," bis"),s.Lb(48,"ion-datetime",17),s.Tb("ngModelChange",(function(e){return t.schedule.end=e})),s.Kb(),s.Kb(),s.Kb(),s.Lb(49,"div",18),s.Lb(50,"ion-button",19),s.oc(51,"Zeitplan best\xe4tigen"),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb(),s.Kb()),2&e){const e=s.ic(8);s.xb(3),s.cc("defaultHref","",t.eventName,"/Admin/",t.adminUrl,""),s.xb(10),s.ac("ngIf",t.text),s.xb(5),s.ac("ngModel",t.schedule.begin),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.begin&&t.currentDate<=t.schedule.control),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.begin||t.currentDate>t.schedule.control),s.xb(3),s.ac("ngModel",t.schedule.control),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.control&&t.currentDate<=t.schedule.registration),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration),s.xb(3),s.ac("ngModel",t.schedule.registration),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.registration&&t.currentDate<=t.schedule.sort_students),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.registration||t.currentDate>t.schedule.sort_students),s.xb(3),s.ac("ngModel",t.schedule.sort_students),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.sort_students&&t.currentDate<=t.schedule.exchange),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.sort_students||t.currentDate>t.schedule.exchange),s.xb(3),s.ac("ngModel",t.schedule.exchange),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.exchange&&t.currentDate<=t.schedule.projects),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.exchange||t.currentDate>t.schedule.projects),s.xb(3),s.ac("ngModel",t.schedule.projects),s.xb(1),s.ac("ngIf",t.currentDate>t.schedule.projects&&t.currentDate<=t.schedule.end),s.xb(1),s.ac("ngIf",t.currentDate<=t.schedule.projects||t.currentDate>t.schedule.end),s.xb(3),s.ac("ngModel",t.schedule.end),s.xb(2),s.ac("disabled",e.invalid)}},directives:[r.t,r.R,r.h,r.e,r.f,r.P,r.p,o.k,o.g,o.h,r.j,r.l,r.n,i.j,r.k,r.B,r.x,r.q,r.Z,o.j,o.f,o.i,r.A,r.u],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=s.Gb({type:e}),e.\u0275inj=s.Fb({factory:function(t){return new(t||e)},imports:[[a.k.forChild(M)],a.k]}),e})(),D=(()=>{class e{}return e.\u0275mod=s.Gb({type:e}),e.\u0275inj=s.Fb({factory:function(t){return new(t||e)},imports:[[i.b,o.a,r.S,S]]}),e})()}}]);