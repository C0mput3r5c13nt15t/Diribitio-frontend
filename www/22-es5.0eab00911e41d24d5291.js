!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22,13,30,31,40,41,42,43,49],{"9pHg":function(t,r,i){"use strict";i.d(r,"a",(function(){return c}));var a=i("fXoL"),o=i("tk/3"),s=i("18Le"),u=i("wxHw"),c=function(){var t=function(){function t(n,r,i){e(this,t),this.http=n,this.auth=r,this.config=i,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"getSchedule",value:function(){var e=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"schedule/1",{headers:e})}},{key:"putSchedule",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"admins/update_schedule",e,{headers:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(u.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"F1+/":function(t,r,i){"use strict";i.d(r,"a",(function(){return h}));var a=i("fXoL"),o=i("tk/3"),s=i("18Le"),u=i("YdJ5"),c=i("wxHw"),l=i("tyNb"),h=function(){var t=function(){function t(n,r,i,o,s){e(this,t),this.http=n,this.auth=r,this.alert=i,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url,this.projectNoun=this.config.app_config.project_noun,this.eventName=this.config.app_config.event_name}return n(t,[{key:"signUpLeader",value:function(e,t){var n=this,r=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"leaders/register",e,{headers:r}).subscribe((function(e){e.token&&(n.auth.set_jwt(e.token),n.auth.setLoggedIn(!0),n.router.navigate([n.eventName+"/Anmeldung"])),n.alert.alert("Dein Account wurde erfolgreich erstellt!"),n.sendAuthentificationEmail(),n.update.emit(),t.reset()}),(function(e){n.alert.error("Erstellung des Accounts fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Versandt der Verifizierungs E-Mail fehlgeschlagen!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:e})}},{key:"logInLeader",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"leaders/login",e,{headers:t})}},{key:"logOutLeader",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate([e.eventName+"/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfLeader",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"leaders/self",{headers:e})}},{key:"getAllLeaders",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_leaders",{headers:e})}},{key:"deleteLeader",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_leader/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("L\xf6schung des "+t.projectNoun+"leiters fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(u.a),a.Pb(c.a),a.Pb(l.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"S2+d":function(t,r,i){"use strict";i.r(r),i.d(r,"LogInPageModule",(function(){return S}));var a=i("ofXK"),o=i("3Pt+"),s=i("tyNb"),u=i("TEn/"),c=i("fXoL"),l=i("18Le"),h=i("uwJC"),d=i("9pHg"),b=i("F1+/"),p=i("kXZ0"),g=i("YdJ5"),f=i("wxHw"),m=function(){return["./Sch\xfcler Registration"]};function v(e,t){1&e&&(c.Lb(0,"ion-button",25),c.Jb(1,"ion-icon",26),c.oc(2," Account erstellen"),c.Kb()),2&e&&c.ac("routerLink",c.ec(1,m))}function k(e,t){if(1&e&&(c.Lb(0,"ion-button",25),c.Jb(1,"ion-icon",26),c.oc(2," Account erstellen"),c.Kb()),2&e){var n=c.Vb();c.bc("routerLink","./",n.projectNoun,"leiter Registration")}}var w=function(){return["./Admin Registration"]};function y(e,t){1&e&&(c.Lb(0,"ion-button",25),c.Jb(1,"ion-icon",26),c.oc(2," Account erstellen"),c.Kb()),2&e&&c.ac("routerLink",c.ec(1,w))}var L,j,A=function(){return["../../Help"]},C=function(){return["./Passwort vergessen"]},_=[{path:"",component:(L=function(){function t(n,r,i,a,o,s,u,c){e(this,t),this.auth=n,this.router=r,this.studentsService=i,this.scheduleService=a,this.leadersService=o,this.adminsService=s,this.alert=u,this.config=c,this.formType="student",this.StudentCredentials={email:"",password:""},this.LeaderCredentials={email:"",password:""},this.AdminCredentials={email:"",password:""},this.tries=0,this.schedule={id:1,begin:null,control:null,registration:null,sort_students:null,exchange:null,projects:null,end:null},this.projectNoun=this.config.app_config.project_noun,this.eventName=this.config.app_config.event_name}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.currentDate=Object(a.n)(new Date,"yyyy-MM-dd","en"),this.scheduleService.getSchedule().subscribe((function(t){e.schedule=t.data}))}},{key:"ionViewWillEnter",value:function(){this.log_in_from_storage()}},{key:"eventHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"students",n=arguments.length>2?arguments[2]:void 0;13===e&&("students"===t?this.LogInStudent(n):"leaders"===t?this.LogInLeader(n):"admins"===t&&this.LogInAdmin(n))}},{key:"nextInput",value:function(e,t){13===e&&t.setFocus()}},{key:"log_in_from_storage",value:function(){var e=this;if(localStorage.getItem("jwt")){var t=localStorage.getItem("jwt");this.auth.check_jwt(t).subscribe((function(t){var n=t.auth;e.auth.set_jwt(t.token),e.auth.setLoggedIn(!0),"admins"===n?e.router.navigate([e.eventName+"/Admin/"+t.user_name]):"leaders"===n?e.router.navigate([e.eventName+"/"+e.projectNoun+"leiter/"+t.user_name]):"students"===n&&e.router.navigate([e.eventName+"/Sch\xfcler/"+t.user_name])}),(function(t){e.alert.error("Die Sitzung ist bereits abgelaufen!",t),e.auth.setLoggedIn(!1)}))}}},{key:"LogInStudent",value:function(e){var t=this;this.studentsService.logInStudent(this.StudentCredentials).subscribe((function(n){n.token&&(t.auth.set_jwt(n.token),t.router.navigate([t.eventName+"/Sch\xfcler/"+n.user_name]),t.auth.setLoggedIn(!0),e.reset())}),(function(e){t.alert.error("Anmeldung fehlgeschlagen!",e.error),t.wrongPassword()}))}},{key:"LogInLeader",value:function(e){var t=this;this.leadersService.logInLeader(this.LeaderCredentials).subscribe((function(n){n.token&&(t.auth.set_jwt(n.token),t.router.navigate([t.eventName+"/"+t.projectNoun+"leiter/"+n.user_name]),t.auth.setLoggedIn(!0),e.reset())}),(function(e){t.alert.error("Anmeldung fehlgeschlagen!",e.error),t.wrongPassword()}))}},{key:"LogInAdmin",value:function(e){var t=this;this.adminsService.logInAdmin(this.AdminCredentials).subscribe((function(n){n.token&&(t.auth.set_jwt(n.token),t.router.navigate([t.eventName+"/Admin/"+n.user_name]),t.auth.setLoggedIn(!0),e.reset())}),(function(e){t.alert.error("Anmeldung fehlgeschlagen!",e.error),t.wrongPassword()}))}},{key:"wrongPassword",value:function(){this.tries+=1,this.tries>=5&&this.alert.wrongPassword(3e3*this.tries,this.tries)}}]),t}(),L.\u0275fac=function(e){return new(e||L)(c.Ib(l.a),c.Ib(s.g),c.Ib(h.a),c.Ib(d.a),c.Ib(b.a),c.Ib(p.a),c.Ib(g.a),c.Ib(f.a))},L.\u0275cmp=c.Cb({type:L,selectors:[["app-log-in"]],decls:83,vars:26,consts:[["color","menu"],["color","buttons","slot","end",3,"routerLink"],["name","help-circle"],["data-ng-controller","myCtrl","data-ng-init","log_in_from_storage()"],["color","background"],["color","background",1,"content"],["color","buttons",3,"ngModel","ngModelChange"],["value","student"],["value","leader"],["value","admin"],["name","LogInForm",1,"content",3,"hidden","ngSubmit"],["studentLoginForm","ngForm"],["color","items"],["name","email","required","","type","email","placeholder","E-Mail","color","text",3,"ngModel","ngModelChange","keypress"],["name","password","required","","minlength","8","type","password","placeholder","Passwort","color","text",3,"ngModel","ngModelChange","keypress"],["nextStudentField",""],[3,"routerLink"],["color","buttons",3,"routerLink",4,"ngIf"],[1,"ion-padding"],["name","login","type","submit","expand","block","color","buttons",1,"ion-no-margin",3,"disabled"],["leaderLoginForm","ngForm"],["nextLeaderField",""],["id","Formular",1,"content",3,"hidden","ngSubmit"],["adminLoginForm","ngForm"],["nextAdminField",""],["color","buttons",3,"routerLink"],["name","add-circle-outline","slot","start"]],template:function(e,t){if(1&e){var n=c.Mb();c.Lb(0,"ion-header"),c.Lb(1,"ion-toolbar",0),c.Lb(2,"ion-title"),c.oc(3,"Anmeldung"),c.Kb(),c.Lb(4,"ion-button",1),c.Jb(5,"ion-icon",2),c.Kb(),c.Kb(),c.Jb(6,"div",3),c.Kb(),c.Lb(7,"ion-content",4),c.Lb(8,"ion-card",5),c.Lb(9,"ion-card-header"),c.Lb(10,"ion-card-title"),c.oc(11,"Einloggen"),c.Kb(),c.Kb(),c.Lb(12,"ion-card-content"),c.Lb(13,"ion-segment",6),c.Tb("ngModelChange",(function(e){return t.formType=e})),c.Lb(14,"ion-segment-button",7),c.Lb(15,"ion-label"),c.oc(16,"Sch\xfcler"),c.Kb(),c.Kb(),c.Lb(17,"ion-segment-button",8),c.Lb(18,"ion-label"),c.oc(19),c.Kb(),c.Kb(),c.Lb(20,"ion-segment-button",9),c.Lb(21,"ion-label"),c.oc(22,"Admin"),c.Kb(),c.Kb(),c.Kb(),c.Lb(23,"form",10,11),c.Tb("ngSubmit",(function(){c.kc(n);var e=c.ic(24);return t.LogInStudent(e)})),c.Lb(25,"ion-card",4),c.Lb(26,"ion-card-header"),c.Lb(27,"ion-card-title"),c.oc(28,"Sch\xfcler"),c.Kb(),c.Kb(),c.Lb(29,"ion-card-content"),c.Lb(30,"ion-list"),c.Lb(31,"ion-item",12),c.Lb(32,"ion-input",13),c.Tb("ngModelChange",(function(e){return t.StudentCredentials.email=e}))("keypress",(function(e){c.kc(n);var r=c.ic(35);return t.nextInput(e.keyCode,r)})),c.Kb(),c.Kb(),c.Lb(33,"ion-item",12),c.Lb(34,"ion-input",14,15),c.Tb("ngModelChange",(function(e){return t.StudentCredentials.password=e}))("keypress",(function(e){c.kc(n);var r=c.ic(24);return t.eventHandler(e.keyCode,"students",r)})),c.Kb(),c.Kb(),c.Kb(),c.Lb(36,"a",16),c.oc(37,"Passwort vergessen?"),c.Kb(),c.Jb(38,"br"),c.nc(39,v,3,2,"ion-button",17),c.Lb(40,"div",18),c.Lb(41,"ion-button",19),c.oc(42,"Anmelden"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Lb(43,"form",10,20),c.Tb("ngSubmit",(function(){c.kc(n);var e=c.ic(44);return t.LogInLeader(e)})),c.Lb(45,"ion-card",4),c.Lb(46,"ion-card-header"),c.Lb(47,"ion-card-title"),c.oc(48),c.Kb(),c.Kb(),c.Lb(49,"ion-card-content"),c.Lb(50,"ion-list"),c.Lb(51,"ion-item",12),c.Lb(52,"ion-input",13),c.Tb("ngModelChange",(function(e){return t.LeaderCredentials.email=e}))("keypress",(function(e){c.kc(n);var r=c.ic(55);return t.nextInput(e.keyCode,r)})),c.Kb(),c.Kb(),c.Lb(53,"ion-item",12),c.Lb(54,"ion-input",14,21),c.Tb("ngModelChange",(function(e){return t.LeaderCredentials.password=e}))("keypress",(function(e){c.kc(n);var r=c.ic(44);return t.eventHandler(e.keyCode,"leaders",r)})),c.Kb(),c.Kb(),c.Kb(),c.Lb(56,"a",16),c.oc(57,"Passwort vergessen?"),c.Kb(),c.Jb(58,"br"),c.nc(59,k,3,1,"ion-button",17),c.Lb(60,"div",18),c.Lb(61,"ion-button",19),c.oc(62,"Anmelden"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Lb(63,"form",22,23),c.Tb("ngSubmit",(function(){c.kc(n);var e=c.ic(64);return t.LogInAdmin(e)})),c.Lb(65,"ion-card",4),c.Lb(66,"ion-card-header"),c.Lb(67,"ion-card-title"),c.oc(68,"Admin"),c.Kb(),c.Kb(),c.Lb(69,"ion-card-content"),c.Lb(70,"ion-list"),c.Lb(71,"ion-item",12),c.Lb(72,"ion-input",13),c.Tb("ngModelChange",(function(e){return t.AdminCredentials.email=e}))("keypress",(function(e){c.kc(n);var r=c.ic(75);return t.nextInput(e.keyCode,r)})),c.Kb(),c.Kb(),c.Lb(73,"ion-item",12),c.Lb(74,"ion-input",14,24),c.Tb("ngModelChange",(function(e){return t.AdminCredentials.password=e}))("keypress",(function(e){c.kc(n);var r=c.ic(64);return t.eventHandler(e.keyCode,"admins",r)})),c.Kb(),c.Kb(),c.Kb(),c.Lb(76,"a",16),c.oc(77,"Passwort vergessen?"),c.Kb(),c.Jb(78,"br"),c.nc(79,y,3,2,"ion-button",17),c.Lb(80,"div",18),c.Lb(81,"ion-button",19),c.oc(82,"Anmelden"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&e){var r=c.ic(24),i=c.ic(44),a=c.ic(64);c.xb(4),c.ac("routerLink",c.ec(22,A)),c.xb(9),c.ac("ngModel",t.formType),c.xb(6),c.qc("",t.projectNoun,"leiter"),c.xb(4),c.ac("hidden","student"!=t.formType),c.xb(9),c.ac("ngModel",t.StudentCredentials.email),c.xb(2),c.ac("ngModel",t.StudentCredentials.password),c.xb(2),c.ac("routerLink",c.ec(23,C)),c.xb(3),c.ac("ngIf",t.currentDate>t.schedule.begin&&t.currentDate<=t.schedule.control),c.xb(2),c.ac("disabled",r.invalid),c.xb(2),c.ac("hidden","leader"!=t.formType),c.xb(5),c.qc("",t.projectNoun,"leiter"),c.xb(4),c.ac("ngModel",t.LeaderCredentials.email),c.xb(2),c.ac("ngModel",t.LeaderCredentials.password),c.xb(2),c.ac("routerLink",c.ec(24,C)),c.xb(3),c.ac("ngIf",t.currentDate>t.schedule.begin&&t.currentDate<=t.schedule.control),c.xb(2),c.ac("disabled",i.invalid),c.xb(2),c.ac("hidden","admin"!=t.formType),c.xb(9),c.ac("ngModel",t.AdminCredentials.email),c.xb(2),c.ac("ngModel",t.AdminCredentials.password),c.xb(2),c.ac("routerLink",c.ec(25,C)),c.xb(3),c.ac("ngIf",t.currentDate>t.schedule.begin&&t.currentDate<=t.schedule.sort_students),c.xb(2),c.ac("disabled",a.invalid)}},directives:[u.t,u.R,u.P,u.h,u.Y,s.h,u.u,u.p,u.j,u.l,u.n,u.k,u.G,u.Z,o.f,o.i,u.H,u.A,o.k,o.g,o.h,u.B,u.x,u.w,u.ab,o.j,o.c,s.j,a.j],styles:[""]}),L)}],S=((j=function t(){e(this,t)}).\u0275mod=c.Gb({type:j}),j.\u0275inj=c.Fb({factory:function(e){return new(e||j)},imports:[[a.b,o.a,u.S,s.k.forChild(_)]]}),j)},kXZ0:function(t,r,i){"use strict";i.d(r,"a",(function(){return h}));var a=i("fXoL"),o=i("tk/3"),s=i("18Le"),u=i("YdJ5"),c=i("wxHw"),l=i("tyNb"),h=function(){var t=function(){function t(n,r,i,o,s){e(this,t),this.http=n,this.auth=r,this.alert=i,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url,this.eventName=this.config.app_config.event_name}return n(t,[{key:"signUpAdmin",value:function(e,t){var n=this,r=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"admins/register",e,{headers:r}).subscribe((function(e){e.token&&(n.auth.set_jwt(e.token),n.auth.setLoggedIn(!0),n.router.navigate([n.eventName+"/Anmeldung"])),n.alert.alert("Dein Account wurde erfolgreich erstellt!"),n.sendAuthentificationEmail(),n.update.emit(),t.reset()}),(function(e){n.alert.error("Erstellung des Accounts fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Versandt der Verifizierungs E-Mail fehlgeschlagen!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/email/resend",null,{headers:e})}},{key:"logInAdmin",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"admins/login",e,{headers:t})}},{key:"logOutAdmin",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate([e.eventName+"/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfAdmin",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/self",{headers:e})}},{key:"getAllSignUpEmails",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"sign_up_emails",{headers:e})}},{key:"createSignUpEmail",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"sign_up_emails",e,{headers:t})}},{key:"deleteSignUpEmail",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"sign_up_emails/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Sperrung der E-Mail fehlgeschlagen!",e.error)}))}},{key:"createSortingProposal",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/create_sorting_proposal",null,{headers:e})}},{key:"requestSortingProposal",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/request_sorting_proposal",{headers:e})}},{key:"editSortingProposal",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/edit_sorting_proposal",e,{headers:n}).subscribe((function(e){t.alert.alert(e.message)}),(function(e){t.alert.error("Erstellung eines Backups fehlgeschlagen!",e.error)}))}},{key:"applySortingProposal",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/apply_sorting_proposal",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Anwendung des Sortiervorschlags fehlgeschlagen!",t.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(u.a),a.Pb(c.a),a.Pb(l.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},uwJC:function(t,r,i){"use strict";i.d(r,"a",(function(){return h}));var a=i("fXoL"),o=i("tk/3"),s=i("18Le"),u=i("YdJ5"),c=i("wxHw"),l=i("tyNb"),h=function(){var t=function(){function t(n,r,i,o,s){e(this,t),this.http=n,this.auth=r,this.alert=i,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url,this.eventName=this.config.app_config.event_name}return n(t,[{key:"signUpStudent",value:function(e,t){var n=this,r=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"students/register",e,{headers:r}).subscribe((function(e){e.token&&(n.auth.set_jwt(e.token),n.auth.setLoggedIn(!0),n.router.navigate([n.eventName+"/Anmeldung"])),n.alert.alert("Dein Account wurde erfolgreich erstellt!"),n.sendAuthentificationEmail(),n.update.emit(),t.reset()}),(function(e){n.alert.error("Erstellung des Accounts fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"students/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Versandt der Verifizierungs E-Mail fehlgeschlagen!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/email/resend",null,{headers:e})}},{key:"logInStudent",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"students/login",e,{headers:t})}},{key:"logOutStudent",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate([e.eventName+"/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfStudent",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/self",{headers:e})}},{key:"getStudentID",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/id",e,{headers:t})}},{key:"getAllStudentNames",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/little_index_students",{headers:e})}},{key:"getAllStudents",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_students?page="+e,{headers:t})}},{key:"getAllSearchedStudents",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/search_index_students",{search_value:e},{headers:t})}},{key:"getFriends",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/friends",{headers:e})}},{key:"promoteStudent",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/promote_student/"+e,null,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Ernennung des Assistenten fehlgeschlagen!",e.error)}))}},{key:"suspendStudent",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/suspend_student/"+e,null,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Suspendierung des Assistenten fehlgeschlagen!",e.error)}))}},{key:"quitAssistant",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"students/quit_assistant",null,{headers:e})}},{key:"putSelfStudent",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/self_update",e,{headers:n}).subscribe((function(){t.alert.alert("Der Account wurde erfolgreich aktualisiert!"),t.update.emit()}),(function(e){t.alert.error("Aktualisierung des Accounts fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(u.a),a.Pb(c.a),a.Pb(l.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();