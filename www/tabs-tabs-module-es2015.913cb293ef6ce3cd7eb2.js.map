{"version":3,"sources":["webpack:///src/app/services/authentication.service.ts","webpack:///src/app/tabs/tabs.page.html","webpack:///src/app/tabs/tabs.page.ts","webpack:///src/app/authentication.guard.ts","webpack:///src/app/tabs/tabs.router.static.module.ts","webpack:///src/app/tabs/tabs.module.ts"],"names":["AuthenticationService","http","router","config","alert","cookieService","loggedIn","JWT","backendUrl","this","backend_config","url","eventName","app_config","event_name","jwt","set","newState","delete","headers","Authorization","post","forgotPasswordData","subscribe","data","message","navigate","error","resetPasswordData","TabsPage","screensizeService","auth","alertService","alertsAndErrors","maxLifetime","ui","alert_errors_max_lifetime","projectsNoun","projects_noun","isDesktopView","isDesktop","window","location","reload","update","getAlertsAndErrors","source","interval","regularInterval","deleteOldAlertsAndErrors","now","Date","getTime","forEach","time","fadeOutAlertOrError","id","alertID","element","document","getElementById","toString","classList","add","onanimationend","deleteAlertOrError","delete_alert_error","AuthenticationGuard","isLoggedIn","redirectUrl","next","state","checkLogin","routes","path","component","children","loadChildren","then","m","HelpPageModule","SettingsPageModule","ImprintDataProtectionPageModule","HomePageModule","LogInPageModule","ForgotPasswordPageModule","ResetPasswordPageModule","AdminGenerationPageModule","LeaderGenerationPageModule","StudentGenerationPageModule","canActivate","LeaderPagePageModule","LeaderProjectGenerationPageModule","LeaderProjectAdministrationPageModule","LeaderProjectEditPageModule","LeaderMessagesPageModule","StudentPagePageModule","ProjectsPageModule","ProjectDetailPageModule","RegistrationPageModule","ExchangeRequestPageModule","ExchangeConfirmPageModule","ProjectPageModule","StudentProjectGenerationPageModule","PromoteStudentsPageModule","StudentProjectAdministrationPageModule","StudentProjectEditPageModule","StudentMessagesPageModule","AdminPagePageModule","AdminProjectsPageModule","AdminExchangesPageModule","AdminProjectDetailPageModule","AdminExchangeDetailPageModule","AdminSchedulePageModule","AdminStudentsLeadersPageModule","AdminLogsPageModule","VerifyEmailPageModule","redirectTo","pathMatch","TabsPageRoutingModule","forChild","TabsPageModule"],"mappings":"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","file":"x","sourcesContent":["\nimport { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpClient } from '@angular/common/http';\nimport { ConfigService } from './config.service';\nimport { Response } from 'src/models/Response.model';\nimport { AlertService } from './alert.service';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n/**\n * This service handles all everything having to do with the authentification especially the management of the jwt\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\n  /**\n   * Contains the logged in state\n   */\n  private loggedIn = false;\n  /**\n   * Contains the active jwt\n   */\n  private JWT = '';\n\n  constructor(private http: HttpClient,\n              private router: Router,\n              private config: ConfigService,\n              private alert: AlertService,\n              private cookieService: CookieService) {}\n\n  /**\n   * The url to the backend\n   */\n  backendUrl = this.config.backend_config.url;\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n\n  /**\n   * Gets the current jwt\n   * @returns jwt\n   */\n  get jwt() {\n    return this.JWT;\n  }\n\n  /**\n   * Sets the current jwt and saves it to locale storage\n   * @param jwt Contains the jwt to be set\n   */\n  set_jwt(jwt: string) {\n    this.JWT = jwt;\n    this.cookieService.set('Diribitio-Session', this.jwt, 2, '/', null, false, 'Strict');\n  }\n\n  /**\n   * Asynchronously sets the current jwtand saves it to locale storage\n   * @param jwt Contains the jwt to be set\n   */\n  async async_set_jwt(jwt: string) {\n    this.JWT = jwt;\n    this.cookieService.set('Diribitio-Session', this.jwt, 2, '/', null, false, 'Strict');\n  }\n\n  /**\n   * Returns whether the user is logged in or not\n   * @returns boolean\n   */\n  get isLoggedIn() {\n    return this.loggedIn;\n  }\n\n  /**\n   * Sets loggedIn to the new state and if the new state is false removes the jwt from storage\n   * @param newState Contains the new logged in state\n   */\n  setLoggedIn(newState: boolean) {\n    this.loggedIn = newState;\n\n    if (newState === false) {\n      this.cookieService.delete('Diribitio-Session');\n    }\n  }\n\n  /**\n   * Checks if the given jwt is still valid and if it is refreshes it\n   * @param jwt Contains the jwt to be checked\n   * @returns RequestObservable\n   */\n  check_jwt(jwt) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + jwt,\n    });\n\n    const options = { headers };\n    return this.http.post<Response>(this.backendUrl + 'auth/refresh', null, options);\n  }\n\n  /**\n   * Sends a password reset email to the user with the given email\n   * @param forgotPasswordData Contains the email of the user\n   */\n  forgotPassword(forgotPasswordData) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + this.JWT,\n    });\n\n    const options = { headers };\n    this.http.post<Response>(this.backendUrl + 'auth/password/email', forgotPasswordData, options).subscribe(data => {\n      this.alert.alert(data.message);\n      this.router.navigate([this.eventName + '/Anmeldung']);\n    }, error => {\n      this.alert.error('Die E-Mail konnte nicht versandt werden.', error.error);\n    });\n  }\n\n  /**\n   * Resets the user password\n   * @param resetPasswordData Contains the email and the new password of the user\n   * @returns RequestObservable\n   */\n  resetPassword(resetPasswordData) {\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n    });\n\n    const options = { headers };\n    return this.http.post<Response>(this.backendUrl + 'auth/password/reset', resetPasswordData, options);\n  }\n\n}\n","<head>\n  <link\n    rel=\"stylesheet\"\n    href=\"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css\"\n  />\n</head>\n<ion-tabs *ngIf=\"!isDesktop\">\n\n  <ion-tab-bar color=\"menu\" slot=\"bottom\">\n\n    <ion-tab-button routerLink=\"/{{ eventName }}/Einstellungen\" routerDirection=\"root\">\n      <ion-icon name=\"settings\"></ion-icon>\n      <ion-label>Einstellungen</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button routerLink=\"/{{ eventName }}/Impressum und Datenschutzerklärung\" routerDirection=\"root\">\n      <ion-icon name=\"document\"></ion-icon>\n      <ion-label>Impressum</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button routerLink=\"/{{ eventName }}/Home\" routerDirection=\"root\">\n      <ion-icon name=\"Home\"></ion-icon>\n      <ion-label>Home</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button *ngIf=\"!auth.isLoggedIn\" routerLink=\"/{{ eventName }}/Anmeldung\" routerDirection=\"root\">\n      <ion-icon name=\"log-in\"></ion-icon>\n      <ion-label>Anmeldung</ion-label>\n    </ion-tab-button>\n\n    <ion-tab-button *ngIf=\"auth.isLoggedIn\" routerLink=\"/{{ eventName }}/Anmeldung\" routerDirection=\"root\">\n      <ion-icon name=\"person\"></ion-icon>\n      <ion-label>Dashboard</ion-label>\n    </ion-tab-button>\n\n  </ion-tab-bar>\n\n</ion-tabs>\n\n<div *ngIf=\"isDesktop\" class=\"desktop\">\n  <ion-header id=\"navbar\">\n    <ion-toolbar color=\"menu\">\n      <ion-row class=\"ion-align-items-center\">\n        <ion-col size=\"2\">\n          <img class=\"logo ion-text-left\" routerLink=\"/{{ eventName }}/Home\" src=\"../../assets/logo/Logo_light.svg\">\n        </ion-col>\n        <ion-col>\n          <div class=\"navbar\" class=\"ion-text-right\">\n            <ion-button color=\"buttons\" fill=\"clear\" routerLink=\"/{{ eventName }}/Home\" routerDirection=\"root\" routerLinkActive=\"active-link\"\n              class=\"link\">\n              Home\n            </ion-button>\n            <ion-button color=\"buttons\" *ngIf=\"!auth.isLoggedIn\" fill=\"clear\" routerLink=\"/{{ eventName }}/Anmeldung\" routerDirection=\"root\" routerLinkActive=\"active-link\"\n              class=\"link\">\n              Anmeldung\n            </ion-button>\n            <ion-button color=\"buttons\" *ngIf=\"auth.isLoggedIn\" fill=\"clear\" routerLink=\"/{{ eventName }}/Anmeldung\" routerDirection=\"root\" routerLinkActive=\"active-link\"\n              class=\"link\">\n              Dashboard\n            </ion-button>\n            <ion-button color=\"buttons\" fill=\"clear\" routerLink=\"/{{ eventName }}/Help\" routerDirection=\"root\" routerLinkActive=\"active-link\"\n              class=\"link\">\n              Hilfe\n            </ion-button>\n            <ion-button color=\"buttons\" fill=\"clear\" routerLink=\"/{{ eventName }}/Einstellungen\" routerDirection=\"root\" routerLinkActive=\"active-link\"\n              class=\"link\">\n              Einstellungen\n            </ion-button>\n          </div>\n        </ion-col>\n      </ion-row>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-router-outlet class=\"desktop-wrapper\"></ion-router-outlet>\n\n  <ion-item [id]=\"message.id\" class=\"animate__animated animate__fadeInDown\" *ngFor=\"let message of alertsAndErrors\" (click)=\"fadeOutAlertOrError(message.id)\" button=\"true\" [color]=\"message.type == 'alert' ? 'success' : 'danger'\">\n    <ion-label class=\"ion-text-center\" color=\"light\">\n      {{ message.desrc }}\n    </ion-label>\n  </ion-item>\n\n  <ion-footer color=\"menu\" class=\"footer\">\n    <span>© Paul Maier | <a routerLink=\"/{{ eventName }}/Impressum und Datenschutzerklärung\">Impressum und Datenschutz</a><br></span>\n  </ion-footer>\n</div>\n","import { Component } from '@angular/core';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { ScreensizeService } from 'src/app/services/screensize.service';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { ConfigService } from 'src/app/services/config.service';\nimport { interval, Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-tabs',\n  templateUrl: 'tabs.page.html',\n  styleUrls: ['tabs.page.scss']\n})\nexport class TabsPage {\n  isDesktop: boolean;\n\n  /**\n   * Contains all active alert and error messages\n   */\n  alertsAndErrors = [];\n  /**\n   * Contains the maximum lifetime for alert and error messages\n   */\n  maxLifetime = this.config.ui.alert_errors_max_lifetime * 1000;\n  /**\n   * Conatins the noun to be used instead of projects\n   */\n  projectsNoun = this.config.app_config.projects_noun;\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n  /**\n   * Conatins the subscription for a regular interval\n   */\n  private regularInterval: Subscription;\n\n  constructor(private screensizeService: ScreensizeService,\n              public auth: AuthenticationService,\n              private alertService: AlertService,\n              private config: ConfigService) {\n    this.screensizeService.isDesktopView().subscribe(isDesktop => {\n      if (this.isDesktop && !isDesktop) {\n        window.location.reload();\n      }\n      this.isDesktop = isDesktop;\n    });\n    this.alertService.update.subscribe(() => this.getAlertsAndErrors());\n    const source = interval(this.maxLifetime / 2);\n    this.regularInterval = source.subscribe(() => this.deleteOldAlertsAndErrors(this.maxLifetime));\n  }\n\n  getAlertsAndErrors() {\n    this.alertsAndErrors = this.alertService.alertsAndErrors;\n  }\n\n  /**\n   * Deletes all alert and error messages that are older than the maximum lifetime\n   * @param maxLifetime Contains the maximum lifetime\n   */\n  deleteOldAlertsAndErrors(maxLifetime: number) {\n    const now = new Date().getTime();\n    this.alertsAndErrors.forEach((alert) => {\n      if (now - alert.time > maxLifetime) {\n        this.fadeOutAlertOrError(alert.id);\n      }\n    });\n  }\n\n  fadeOutAlertOrError(alertID) {\n    const element = document.getElementById(alertID.toString());\n    element.classList.add('animate__fadeOutLeft');\n    element.onanimationend = () => {\n      this.deleteAlertOrError(alertID);\n    };\n  }\n\n  deleteAlertOrError(alertID) {\n    this.alertService.delete_alert_error(alertID);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, RouterStateSnapshot, CanActivate, Router } from '@angular/router';\nimport { AuthenticationService } from './services/authentication.service';\nimport { ConfigService } from './services/config.service';\n\n/**\n * This guard handles which routes are available and which aren't\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationGuard implements CanActivate {\n\n  constructor(private auth: AuthenticationService,\n              private router: Router,\n              private config: ConfigService) {}\n\n  /**\n   * Contains the logged in state\n   */\n  isLoggedIn = false;\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n  /**\n   * Contains the url to which unauthenticated requests are redirected\n   */\n  redirectUrl = this.eventName + '/Anmeldung';\n\n  /**\n   * Checks if the user is allowed to access the page\n   */\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): boolean {\n    const url: string = state.url;\n\n    return this.checkLogin();\n  }\n\n  /**\n   * Checks if the user is logged in\n   */\n  checkLogin(): boolean {\n    if (this.auth.isLoggedIn) { return true; }\n\n    this.router.navigate([this.eventName + '/Anmeldung']);\n    return false;\n  }\n}\n\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { TabsPage } from './tabs.page';\nimport { AuthenticationGuard } from '../authentication.guard';\n\n/**\n * Contains all Routes for the application\n */\nconst routes: Routes = [\n  {\n    path: 'Projekttage',\n    component: TabsPage,\n    children: [\n      {\n        path: 'Help',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../help/help.module').then(m => m.HelpPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Einstellungen',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../settings/settings.module').then(m => m.SettingsPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Impressum und Datenschutzerklärung',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../imprint-data-protection/imprint-data-protection.module').then(m => m.ImprintDataProtectionPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Home',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../home/home.module').then(m => m.HomePageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/log-in.module').then(m => m.LogInPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung/Passwort vergessen',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/forgot-password/forgot-password.module').then(m => m.ForgotPasswordPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung/Passwort zurücksetzen/:ResetToken',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/reset-password/reset-password.module').then(m => m.ResetPasswordPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung/Admin Registration',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-generation/admin-generation.module').then(m => m.AdminGenerationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung/Projektleiter Registration',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-generation/leader-generation.module').then(m => m.LeaderGenerationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Anmeldung/Schüler Registration',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-generation/student-generation.module').then(m => m.StudentGenerationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Projektleiter/:LeaderName',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-page/leader-page.module').then(m => m.LeaderPagePageModule)\n          }\n        ]\n      },\n      {\n        path: 'Projektleiter/:LeaderName/Projekt erstellen',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-page/leader-project-generation/leader-project-generation.module').then(m => m.LeaderProjectGenerationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Projektleiter/:LeaderName/Projekt verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-page/leader-project-administration/leader-project-administration.module').then(m => m.LeaderProjectAdministrationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Projektleiter/:LeaderName/Projekt verwalten/Projekt bearbeiten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-page/leader-project-administration/leader-project-edit/leader-project-edit.module').then(m => m.LeaderProjectEditPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Projektleiter/:LeaderName/Nachricht senden',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/leader-page/leader-messages/leader-messages.module').then(m => m.LeaderMessagesPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/student-page.module').then(m => m.StudentPagePageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekte',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/projects/projects.module').then(m => m.ProjectsPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekte/:ProjectID',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/projects/project-detail/project-detail.module').then(m => m.ProjectDetailPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Anmeldung',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/registration/registration.module').then(m => m.RegistrationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Tauschanfrage senden',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/exchange-request/exchange-request.module').then(m => m.ExchangeRequestPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Tauschanfrage bestätigen',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/exchange-confirm/exchange-confirm.module').then(m => m.ExchangeConfirmPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekt',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/project/project.module').then(m => m.ProjectPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekt erstellen',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/student-project-generation/student-project-generation.module').then(m => m.StudentProjectGenerationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Assistenten verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/promote-students/promote-students.module').then(m => m.PromoteStudentsPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekt verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/student-project-administration/student-project-administration.module').then(m => m.StudentProjectAdministrationPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Projekt verwalten/Projekt bearbeiten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/student-project-administration/student-project-edit/student-project-edit.module').then(m => m.StudentProjectEditPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Schüler/:ParticipantName/Nachricht senden',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/student-page/student-messages/student-messages.module').then(m => m.StudentMessagesPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-page.module').then(m => m.AdminPagePageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Projekte',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-projects/admin-projects.module').then(m => m.AdminProjectsPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Tauschanfragen',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-exchanges/admin-exchanges.module').then(m => m.AdminExchangesPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Projekte/:ProjectID',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-projects/admin-project-detail/admin-project-detail.module').then(m => m.AdminProjectDetailPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Tauschanfragen/:ExchangeID',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-exchanges/admin-exchange-detail/admin-exchange-detail.module').then(m => m.AdminExchangeDetailPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Zeitplan verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-schedule/admin-schedule.module').then(m => m.AdminSchedulePageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/Schüler und Projektleiter verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-students-leaders/admin-students-leaders.module').then(m => m.AdminStudentsLeadersPageModule)\n          }\n        ]\n      },\n      {\n        path: 'Admin/:AdminName/App verwalten',\n        canActivate: [AuthenticationGuard],\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/admin-page/admin-logs/admin-logs.module').then(m => m.AdminLogsPageModule)\n          }\n        ]\n      },\n      {\n        path: 'E-Mail verifizieren/:Status',\n        children: [\n          {\n            path: '',\n            loadChildren: () =>\n              import('../log-in/verify-email/verify-email.module').then(m => m.VerifyEmailPageModule)\n          }\n        ]\n      },\n      {\n        path: '',\n        redirectTo: '/Projekttage/Home',\n        pathMatch: 'full'\n      }\n    ]\n  },\n  {\n    path: '',\n    redirectTo: '/Projekttage/Home',\n    pathMatch: 'full'\n  }\n];\n\n/**\n * This module contains the default routes for the TabsPageModule\n * Note that these are NOT actually used for routing and just represent the defaul routes\n */\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TabsPageRoutingModule { }\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TabsPageRoutingModule } from './tabs.router.static.module';\n\nimport { TabsPage } from './tabs.page';\n\n/**\n * This Module cointanis the navigation and footer for mobile and desktop view and displays all the error and alert messages.\n */\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TabsPageRoutingModule\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n"]}