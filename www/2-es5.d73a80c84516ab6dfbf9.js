!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2,10,25,26,30,31,40,41,42,43,44,45,48,49,50,51,52],{"4ARy":function(t,i,r){"use strict";r.d(i,"a",(function(){return d}));var a=r("fXoL"),o=r("tk/3"),s=r("18Le"),c=r("YdJ5"),l=r("wxHw"),u=r("tyNb"),d=function(){var t=function(){function t(n,i,r,o,s){e(this,t),this.http=n,this.auth=i,this.alert=r,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"signUpParticipant",value:function(e,t){var n=this,i=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"students/register",e,{headers:i}).subscribe((function(e){e.token&&(n.auth.set_jwt(e.token),n.auth.setLoggedIn(!0),n.router.navigate(["Projekttage/Anmeldung"])),n.alert.alert("Dein Account wurde erfolgreich erstellt!"),n.sendAuthentificationEmail(),n.update.emit(),t.reset()}),(function(e){n.alert.error("Accounterstellung fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"students/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Verifizierungs E-Mail konnte nicht versandt werden!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/email/resend",null,{headers:e})}},{key:"logInParticipant",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"students/login",e,{headers:t})}},{key:"logOutParticipant",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate(["Projekttage/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfParticipant",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/self",{headers:e})}},{key:"getParticipantID",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/id",e,{headers:t})}},{key:"getAllParticipantNames",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/little_index_students",{headers:e})}},{key:"getAllStudents",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_students?page="+e,{headers:t})}},{key:"getAllSearchedStudents",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/search_index_students",{search_value:e},{headers:t})}},{key:"getFriends",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/friends",{headers:e})}},{key:"promoteStudent",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/promote_student/"+e,null,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Ernennung des Assistenten fehlgeschlagen!",e.error)}))}},{key:"suspendStudent",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/suspend_student/"+e,null,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Suspendierung des Assistenten fehlgeschlagen!",e.error)}))}},{key:"quitAssistant",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"students/quit_assistant",null,{headers:e})}},{key:"putSelfParticipant",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/self_update",e,{headers:n}).subscribe((function(){t.alert.alert("Erfolgreich registriert!"),t.update.emit()}),(function(e){t.alert.error("Aktualisierung des Accounts fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(c.a),a.Pb(l.a),a.Pb(u.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"9pHg":function(t,i,r){"use strict";r.d(i,"a",(function(){return l}));var a=r("fXoL"),o=r("tk/3"),s=r("18Le"),c=r("wxHw"),l=function(){var t=function(){function t(n,i,r){e(this,t),this.http=n,this.auth=i,this.config=r,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"getSchedule",value:function(){var e=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"schedule/1",{headers:e})}},{key:"putSchedule",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"admins/update_schedule",e,{headers:t})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(c.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"F1+/":function(t,i,r){"use strict";r.d(i,"a",(function(){return d}));var a=r("fXoL"),o=r("tk/3"),s=r("18Le"),c=r("YdJ5"),l=r("wxHw"),u=r("tyNb"),d=function(){var t=function(){function t(n,i,r,o,s){e(this,t),this.http=n,this.auth=i,this.alert=r,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"signUpLeader",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"leaders/register",e,{headers:n}).subscribe((function(e){e.token&&(t.auth.set_jwt(e.token),t.auth.setLoggedIn(!0),t.router.navigate(["Projekttage/Anmeldung"])),t.alert.alert("Dein Account wurde erfolgreich erstellt!"),t.sendAuthentificationEmail(),t.update.emit()}),(function(e){t.alert.error("Accounterstellung fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Verifizierungs E-Mail konnte nicht versandt werden!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:e})}},{key:"logInLeader",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"leaders/login",e,{headers:t})}},{key:"logOutLeader",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate(["Projekttage/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfLeader",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"leaders/self",{headers:e})}},{key:"getAllLeaders",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_leaders",{headers:e})}},{key:"deleteLeader",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_leader/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("L\xf6schung des Projektleiters fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(c.a),a.Pb(l.a),a.Pb(u.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ZReS:function(t,i,r){"use strict";r.r(i),r.d(i,"AdminStudentsLeadersPageModule",(function(){return re}));var a=r("ofXK"),o=r("3Pt+"),s=r("TEn/"),c=r("tyNb"),l=r("mrSG"),u=r("fXoL"),d=r("4ARy"),h=r("9pHg"),b=r("F1+/"),p=r("zbRu"),f=r("kXZ0"),g=r("YdJ5"),_=r("wxHw");function m(e,t){if(1&e&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",16),u.mc(2),u.Kb(),u.Kb()),2&e){var n=u.Vb();u.xb(2),u.oc(" ",n.text1," ")}}function v(e,t){1&e&&(u.Lb(0,"ion-label",16),u.mc(1,"(Leiter)"),u.Kb())}var k=function(e){return["../../Projekte/",e]};function j(e,t){if(1&e&&(u.Lb(0,"a",21),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.ac("routerLink",u.dc(2,k,n.project_id)),u.xb(1),u.nc(n.project_title)}}function w(e,t){if(1&e&&(u.Lb(0,"a"),u.mc(1),u.Kb()),2&e){var n=u.Vb(3);u.xb(1),u.oc("kein ",n.projectNoun,"")}}function L(e,t){if(1&e&&(u.Lb(0,"a"),u.mc(1),u.Kb()),2&e){var n=u.Vb(3);u.xb(1),u.oc("",n.projectNoun," ist fehlerhaft")}}function y(e,t){if(1&e&&(u.Lb(0,"ion-row",18),u.Lb(1,"ion-col"),u.Lb(2,"ion-label",16),u.mc(3),u.Kb(),u.lc(4,v,2,0,"ion-label",19),u.Kb(),u.Lb(5,"ion-col"),u.Lb(6,"ion-label",16),u.mc(7),u.Jb(8,"br"),u.mc(9),u.Jb(10,"br"),u.mc(11),u.Kb(),u.Kb(),u.Lb(12,"ion-col",16),u.Lb(13,"ion-label",16),u.mc(14),u.Jb(15,"br"),u.mc(16),u.Jb(17,"br"),u.mc(18),u.Kb(),u.Kb(),u.Lb(19,"ion-col"),u.lc(20,j,2,4,"a",20),u.lc(21,w,2,1,"a",5),u.lc(22,L,2,1,"a",5),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.xb(3),u.rc(" ",n.first_name," ",n.last_name," ",n.grade,"",n.letter," "),u.xb(1),u.ac("ngIf",2==n.role),u.xb(3),u.oc(" ",n.first_wish_title,""),u.xb(2),u.oc(" ",n.second_wish_title,""),u.xb(2),u.oc(" ",n.third_wish_title," "),u.xb(3),u.oc(" ",n.first_friend_name,""),u.xb(2),u.oc(" ",n.second_friend_name,""),u.xb(2),u.oc(" ",n.third_friend_name," "),u.xb(2),u.ac("ngIf",0!=n.project_id&&"fehlerhaftes Projekt"!=n.project_title),u.xb(1),u.ac("ngIf",0==n.project_id),u.xb(1),u.ac("ngIf","fehlerhaftes Projekt"==n.project_title)}}function P(e,t){if(1&e&&(u.Lb(0,"ion-grid"),u.Lb(1,"ion-row"),u.Lb(2,"ion-col"),u.Lb(3,"h2"),u.mc(4,"Sch\xfcler"),u.Kb(),u.Kb(),u.Lb(5,"ion-col"),u.Lb(6,"h2"),u.mc(7,"W\xfcnsche"),u.Kb(),u.Kb(),u.Lb(8,"ion-col"),u.Lb(9,"h2"),u.mc(10,"Freunde"),u.Kb(),u.Kb(),u.Lb(11,"ion-col"),u.Lb(12,"h2"),u.mc(13),u.Kb(),u.Kb(),u.Kb(),u.lc(14,y,23,14,"ion-row",17),u.Kb()),2&e){var n=u.Vb();u.xb(13),u.oc("Link zum ",n.projectNoun,""),u.xb(1),u.ac("ngForOf",n.searchStudents)}}function x(e,t){if(1&e&&(u.Lb(0,"ion-label",16),u.mc(1),u.Kb()),2&e){var n=u.Vb(3);u.xb(1),u.oc(" (",n.projectNoun,"leiter)")}}function K(e,t){if(1&e&&(u.Lb(0,"a",21),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.ac("routerLink",u.dc(2,k,n.project_id)),u.xb(1),u.nc(n.project_title)}}function A(e,t){if(1&e&&(u.Lb(0,"a"),u.mc(1),u.Kb()),2&e){var n=u.Vb(3);u.xb(1),u.oc("kein ",n.projectNoun,"")}}function S(e,t){if(1&e&&(u.Lb(0,"a"),u.mc(1),u.Kb()),2&e){var n=u.Vb(3);u.xb(1),u.oc("",n.projectNoun," ist fehlerhaft")}}function T(e,t){if(1&e&&(u.Lb(0,"ion-row",18),u.Lb(1,"ion-col"),u.Lb(2,"ion-label",16),u.mc(3),u.Kb(),u.lc(4,x,2,1,"ion-label",19),u.Kb(),u.Lb(5,"ion-col"),u.Lb(6,"ion-label",16),u.mc(7),u.Jb(8,"br"),u.mc(9),u.Jb(10,"br"),u.mc(11),u.Kb(),u.Kb(),u.Lb(12,"ion-col",16),u.Lb(13,"ion-label",16),u.mc(14),u.Jb(15,"br"),u.mc(16),u.Jb(17,"br"),u.mc(18),u.Kb(),u.Kb(),u.Lb(19,"ion-col"),u.lc(20,K,2,4,"a",20),u.lc(21,A,2,1,"a",5),u.lc(22,S,2,1,"a",5),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.xb(3),u.rc(" ",n.first_name," ",n.last_name," ",n.grade,"",n.letter," "),u.xb(1),u.ac("ngIf",2==n.role),u.xb(3),u.oc(" ",n.first_wish_title,""),u.xb(2),u.oc(" ",n.second_wish_title,""),u.xb(2),u.oc(" ",n.third_wish_title," "),u.xb(3),u.oc(" ",n.first_friend_name,""),u.xb(2),u.oc(" ",n.second_friend_name,""),u.xb(2),u.oc(" ",n.third_friend_name," "),u.xb(2),u.ac("ngIf",0!=n.project_id&&"fehlerhaftes Projekt"!=n.project_title),u.xb(1),u.ac("ngIf",0==n.project_id),u.xb(1),u.ac("ngIf","fehlerhaftes Projekt"==n.project_title)}}function U(e,t){if(1&e&&(u.Lb(0,"ion-grid"),u.Lb(1,"ion-row"),u.Lb(2,"ion-col"),u.Lb(3,"h2"),u.mc(4,"Sch\xfcler"),u.Kb(),u.Kb(),u.Lb(5,"ion-col"),u.Lb(6,"h2"),u.mc(7,"W\xfcnsche"),u.Kb(),u.Kb(),u.Lb(8,"ion-col"),u.Lb(9,"h2"),u.mc(10,"Freunde"),u.Kb(),u.Kb(),u.Lb(11,"ion-col"),u.Lb(12,"h2"),u.mc(13),u.Kb(),u.Kb(),u.Kb(),u.lc(14,T,23,14,"ion-row",17),u.Kb()),2&e){var n=u.Vb();u.xb(13),u.oc("Link zum ",n.projectNoun,""),u.xb(1),u.ac("ngForOf",n.loadedStudents)}}function C(e,t){if(1&e){var n=u.Mb();u.Lb(0,"div",13),u.Lb(1,"ion-button",14),u.Tb("click",(function(){return u.ic(n),u.Vb().getMoreStudents()})),u.mc(2,"Weiter Sch\xfcler laden"),u.Kb(),u.Kb()}}function I(e,t){if(1&e&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",16),u.mc(2),u.Kb(),u.Kb()),2&e){var n=u.Vb();u.xb(2),u.oc(" ",n.text2," ")}}function z(e,t){if(1&e&&(u.Lb(0,"a",24),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.ac("routerLink",u.dc(2,k,n.project_id)),u.xb(1),u.nc(n.project_title)}}function B(e,t){if(1&e){var n=u.Mb();u.Lb(0,"ion-icon",25),u.Tb("click",(function(){u.ic(n);var e=u.Vb().$implicit;return u.Vb().deleteLeader(e.id)})),u.Kb()}}function V(e,t){if(1&e&&(u.Lb(0,"ion-row",6),u.Lb(1,"ion-col"),u.Lb(2,"ion-label",16),u.mc(3),u.Kb(),u.Kb(),u.Lb(4,"ion-col"),u.lc(5,z,2,4,"a",22),u.lc(6,B,1,0,"ion-icon",23),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.xb(3),u.nc(n.user_name),u.xb(2),u.ac("ngIf",0!=n.project_id),u.xb(1),u.ac("ngIf",0==n.project_id)}}function N(e,t){if(1&e&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",16),u.mc(2),u.Kb(),u.Kb()),2&e){var n=u.Vb();u.xb(2),u.oc(" ",n.text3," ")}}function E(e,t){if(1&e){var n=u.Mb();u.Lb(0,"div",13),u.Lb(1,"ion-button",14),u.Tb("click",(function(){return u.ic(n),u.Vb().createSortingProposal()})),u.mc(2,"Sortiervorschlag erstellen"),u.Kb(),u.Kb()}}function F(e,t){if(1&e){var n=u.Mb();u.Lb(0,"div",13),u.Lb(1,"ion-button",14),u.Tb("click",(function(){return u.ic(n),u.Vb().createSortingProposal()})),u.mc(2,"Neuen Sortiervorschlag erstellen"),u.Kb(),u.Kb()}}function O(e,t){if(1&e&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",16),u.mc(2),u.Kb(),u.Kb()),2&e){var n=u.Vb(2);u.xb(2),u.oc(" ",n.text4," ")}}function J(e,t){if(1&e&&(u.Lb(0,"ion-label",29),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.oc("",n.title," (Zu wenige Teilnehmer)")}}function $(e,t){if(1&e&&(u.Lb(0,"ion-label",29),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.oc("",n.title," (Zu viele Teilnehmer)")}}function M(e,t){if(1&e&&(u.Lb(0,"ion-label"),u.mc(1),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.nc(n.title)}}function R(e,t){if(1&e&&(u.Lb(0,"div"),u.Lb(1,"ion-item",30),u.Lb(2,"ion-text",16),u.Jb(3,"ion-icon",31),u.mc(4),u.Kb(),u.Kb(),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(4),u.rc(" ",n.leader.first_name," ",n.leader.last_name," ",n.leader.grade,"",n.leader.letter,"")}}function H(e,t){if(1&e&&(u.Lb(0,"ion-item",30),u.Lb(1,"ion-text",16),u.Jb(2,"ion-icon",33),u.mc(3),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.xb(3),u.rc(" ",n.first_name," ",n.last_name," ",n.grade,"",n.letter,"")}}function q(e,t){if(1&e&&(u.Lb(0,"div"),u.lc(1,H,4,4,"ion-item",32),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.ac("ngForOf",n.assistant_student_leaders)}}var D=function(e,t,n){return[e,t,n]};function X(e,t){if(1&e&&(u.Lb(0,"ion-select-option",36),u.mc(1),u.Kb()),2&e){var n=t.$implicit,i=u.Vb().$implicit,r=u.Vb(2).$implicit;u.ac("value",u.ec(4,D,i,r.id,n.id)),u.xb(1),u.qc("",n.title," (",n.min_grade,". - ",n.max_grade,".Klasse)")}}function W(e,t){if(1&e){var n=u.Mb();u.Lb(0,"ion-item",30),u.Lb(1,"ion-text",16),u.mc(2),u.Kb(),u.Lb(3,"ion-select",34),u.Tb("ionChange",(function(e){return u.ic(n),u.Vb(4).moveParticipant(e)})),u.lc(4,X,2,8,"ion-select-option",35),u.Kb(),u.Kb()}if(2&e){var i=t.$implicit,r=u.Vb(4);u.xb(2),u.rc("",i.first_name," ",i.last_name," ",i.grade,"",i.letter,""),u.xb(2),u.ac("ngForOf",r.sortedProjects)}}function Y(e,t){if(1&e&&(u.Lb(0,"div"),u.lc(1,W,5,5,"ion-item",32),u.Kb()),2&e){var n=u.Vb().$implicit;u.xb(1),u.ac("ngForOf",n.participants)}}function Z(e,t){if(1&e&&(u.Lb(0,"ion-card",3),u.Lb(1,"ion-card-header"),u.Lb(2,"ion-card-title"),u.lc(3,J,2,1,"ion-label",28),u.lc(4,$,2,1,"ion-label",28),u.lc(5,M,2,1,"ion-label",5),u.Kb(),u.Lb(6,"ion-card-subtitle"),u.Lb(7,"ion-label",16),u.mc(8),u.Kb(),u.Kb(),u.Kb(),u.Lb(9,"ion-card-content"),u.lc(10,R,5,4,"div",5),u.lc(11,q,2,1,"div",5),u.lc(12,Y,2,1,"div",5),u.Kb(),u.Kb()),2&e){var n=t.$implicit;u.xb(3),u.ac("ngIf",n.participants.length<n.min_participants),u.xb(1),u.ac("ngIf",n.participants.length>n.max_participants),u.xb(1),u.ac("ngIf",n.participants.length>=n.min_participants&&n.participants.length<=n.max_participants),u.xb(3),u.sc("",n.min_grade,". bis ",n.max_grade,".Klasse | ",n.min_participants," bis ",n.max_participants," Teilnehmer | ",n.leader_name,""),u.xb(2),u.ac("ngIf",n.leader&&"App\\Student"===n.leader_type),u.xb(1),u.ac("ngIf",n.assistant_student_leaders.length),u.xb(1),u.ac("ngIf",n.participants.length)}}function G(e,t){if(1&e){var n=u.Mb();u.Lb(0,"ion-card",4),u.Lb(1,"ion-card-header"),u.Lb(2,"ion-card-title"),u.mc(3," Vorschlag f\xfcr Einsortierung der Sch\xfcler "),u.Kb(),u.Kb(),u.lc(4,O,3,1,"ion-card-content",5),u.Lb(5,"ion-card-content"),u.lc(6,Z,13,11,"ion-card",26),u.Kb(),u.Lb(7,"div",13),u.Lb(8,"ion-button",14),u.Tb("click",(function(){return u.ic(n),u.Vb().editSortingProposal()})),u.mc(9,"Vorschlag \xe4ndern"),u.Kb(),u.Kb(),u.Lb(10,"div",13),u.Lb(11,"ion-button",27),u.Tb("click",(function(){return u.ic(n),u.Vb().applySortingProposal()})),u.mc(12,"Vorschlag anwenden"),u.Kb(),u.Kb(),u.Kb()}if(2&e){var i=u.Vb();u.xb(4),u.ac("ngIf",i.text4),u.xb(2),u.ac("ngForOf",i.sortedProjects),u.xb(5),u.ac("disabled",!i.sorted)}}var Q,ee,te,ne=[{path:"",component:(Q=function(){function t(n,i,r,a,o,s,c,l,u){e(this,t),this.participantsService=n,this.scheduleService=i,this.leadersService=r,this.projectsService=a,this.activatedRoute=o,this.alertCtrl=s,this.adminsService=c,this.alert=l,this.config=u,this.loadedProjects=[],this.loadedParticipantsNames=[],this.sortedProjects=[],this.loadedStudents=[],this.loadedLeaders=[],this.sorted=!1,this.schedule={id:1,begin:null,control:null,registration:null,sort_students:null,exchange:null,projects:null,end:null},this.page=1,this.lastPage=1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.projectNoun=this.config.app_config.project_noun,this.text1=this.config.get_content_by_index("admin-students-leaders",0),this.text2=this.config.get_content_by_index("admin-students-leaders",1),this.text3=this.config.get_content_by_index("admin-students-leaders",2),this.text4=this.config.get_content_by_index("admin-students-leaders",3),this.alert.loading(2e3),this.activatedRoute.paramMap.subscribe((function(t){e.adminUrl=t.get("AdminName")})),this.scheduleService.getSchedule().subscribe((function(t){e.schedule=t.data})),this.getProjects(),this.getParticipantsNames(),this.currentDate>this.schedule.sort_students&&this.currentDate<=this.schedule.exchange&&this.requestSortingProposal(),this.participantsService.update.subscribe((function(){return e.getStudents()})),this.leadersService.update.subscribe((function(){return e.getLeaders()})),this.projectsService.update.subscribe((function(){return e.getProjects()}))}},{key:"ionViewWillEnter",value:function(){this.alert.loading(2e3)}},{key:"eventHandler",value:function(e){13===e&&this.search()}},{key:"search",value:function(){var e=this;""!=this.searchValue?this.participantsService.getAllSearchedStudents(this.searchValue).subscribe((function(t){e.searchStudents=[],t.data.forEach((function(t){return Object(l.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1}).id=t.id,n.first_name=t.first_name,n.last_name=t.last_name,n.grade=t.grade,n.letter=t.letter,n.first_friend=t.first_friend,n.second_friend=t.second_friend,n.third_friend=t.third_friend,n.first_wish=t.first_wish,n.second_wish=t.second_wish,n.third_wish=t.third_wish,n.project_id=t.project_id,n.role=t.role,n.first_friend_name=this.getParticipantName(n.first_friend),n.second_friend_name=this.getParticipantName(n.second_friend),n.third_friend_name=this.getParticipantName(n.third_friend),n.first_wish_title=this.getProjectTitle(n.first_wish),n.second_wish_title=this.getProjectTitle(n.second_wish),n.third_wish_title=this.getProjectTitle(n.third_wish),n.project_title=this.getProjectTitle(n.project_id),this.searchStudents.push(n);case 2:case"end":return e.stop()}}),e,this)})))}))})):this.searchStudents=null}},{key:"refresh",value:function(){this.page=1,this.getProjects(),this.getParticipantsNames(),this.getStudents(),this.getLeaders()}},{key:"getProjects",value:function(){var e=this;this.projectsService.getAllProjects().subscribe((function(t){e.loadedProjects=t.data,e.getStudents(),e.getLeaders()}))}},{key:"getParticipantsNames",value:function(){var e=this;this.participantsService.getAllParticipantNames().subscribe((function(t){e.loadedParticipantsNames=t.data}))}},{key:"getStudents",value:function(){var e=this;this.loadedStudents=[],this.participantsService.getAllStudents(this.page).subscribe((function(t){e.lastPage=t.meta.last_page,t.data.forEach((function(t){return Object(l.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1}).id=t.id,n.first_name=t.first_name,n.last_name=t.last_name,n.grade=t.grade,n.letter=t.letter,n.first_friend=t.first_friend,n.second_friend=t.second_friend,n.third_friend=t.third_friend,n.first_wish=t.first_wish,n.second_wish=t.second_wish,n.third_wish=t.third_wish,n.project_id=t.project_id,n.role=t.role,n.first_friend_name=this.getParticipantName(n.first_friend),n.second_friend_name=this.getParticipantName(n.second_friend),n.third_friend_name=this.getParticipantName(n.third_friend),n.first_wish_title=this.getProjectTitle(n.first_wish),n.second_wish_title=this.getProjectTitle(n.second_wish),n.third_wish_title=this.getProjectTitle(n.third_wish),n.project_title=this.getProjectTitle(n.project_id),this.loadedStudents.push(n);case 2:case"end":return e.stop()}}),e,this)})))}))}))}},{key:"getMoreStudents",value:function(){var e=this;this.alert.loading(2e3),this.page+=1,this.participantsService.getAllStudents(this.page).subscribe((function(t){t.data.forEach((function(t){return Object(l.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1}).id=t.id,n.first_name=t.first_name,n.last_name=t.last_name,n.grade=t.grade,n.letter=t.letter,n.first_friend=t.first_friend,n.second_friend=t.second_friend,n.third_friend=t.third_friend,n.first_wish=t.first_wish,n.second_wish=t.second_wish,n.third_wish=t.third_wish,n.project_id=t.project_id,n.role=t.role,n.first_friend_name=this.getParticipantName(n.first_friend),n.second_friend_name=this.getParticipantName(n.second_friend),n.third_friend_name=this.getParticipantName(n.third_friend),n.first_wish_title=this.getProjectTitle(n.first_wish),n.second_wish_title=this.getProjectTitle(n.second_wish),n.third_wish_title=this.getProjectTitle(n.third_wish),n.project_title=this.getProjectTitle(n.project_id),this.loadedStudents.push(n);case 2:case"end":return e.stop()}}),e,this)})))}))}))}},{key:"getLeaders",value:function(){var e=this;this.loadedLeaders=[],this.leadersService.getAllLeaders().subscribe((function(t){t.data.forEach((function(t){var n={id:0,user_name:"",email:"",project_id:0,project_title:"kein Projekt"};n.id=t.id,n.user_name=t.user_name,n.email=t.email,n.project_id=t.project_id,n.project_title=e.getProjectTitle(n.project_id),e.loadedLeaders.push(n)}))}))}},{key:"getProjectTitle",value:function(e){if(0!==e&&this.loadedProjects){var t=this.loadedProjects.filter((function(t){return t.id===e}));return null!=t[0]?t[0].title:"fehlerhaftes Projekt"}return"kein Projekt"}},{key:"getParticipantName",value:function(e){if(0!==e&&this.loadedParticipantsNames){var t=this.loadedParticipantsNames.filter((function(t){return t.id===e}));return null!=t[0]?t[0].first_name+" "+t[0].last_name:"fehlerhafter Freund"}return""}},{key:"deleteLeader",value:function(e){var t=this;this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie diesen Projektleiter wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:function(){t.leadersService.deleteLeader(e)}}]}).then((function(e){e.present()}))}},{key:"createSortingProposal",value:function(){var e=this;this.adminsService.createSortingProposal().subscribe((function(t){e.alert.alert(t.message),e.sorted=!0,e.sortedProjects=t.data}),(function(t){e.alert.error("Sortierung der Sch\xfcler fehlgeschlagen.",t.error)}))}},{key:"requestSortingProposal",value:function(){var e=this;this.adminsService.requestSortingProposal().subscribe((function(t){e.sortedProjects=t.data,e.sorted=!0}),(function(t){e.alert.error("Es konnte kein Sortiervorschlag gefunden werden.",t.error)}))}},{key:"moveParticipant",value:function(e){var t=e.detail.value[0],n=e.detail.value[1],i=e.detail.value[2];if(0!==n&&this.sortedProjects){var r=this.sortedProjects.filter((function(e){return e.id===n}));if(null!=r[0]){var a=r[0],o=a.participants.indexOf(t);-1!==o&&a.participants.splice(o,1)}}if(0!==i&&this.sortedProjects){var s=this.sortedProjects.filter((function(e){return e.id===i}));if(null!=s[0]){var c=s[0];t&&c.participants.push(t)}}}},{key:"editSortingProposal",value:function(){this.adminsService.editSortingProposal({data:this.sortedProjects}),this.sorted=!0}},{key:"applySortingProposal",value:function(){var e=this;!0===this.sorted&&this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie die vorgeschlagene Konfiguration wirklich anwenden?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"Anwenden",handler:function(){e.adminsService.applySortingProposal(),e.sorted=!1}}]}).then((function(e){e.present()}))}}]),t}(),Q.\u0275fac=function(e){return new(e||Q)(u.Ib(d.a),u.Ib(h.a),u.Ib(b.a),u.Ib(p.a),u.Ib(c.a),u.Ib(s.a),u.Ib(f.a),u.Ib(g.a),u.Ib(_.a))},Q.\u0275cmp=u.Cb({type:Q,selectors:[["app-admin-students-leaders"]],decls:50,vars:16,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["color","background",1,"content"],[4,"ngIf"],["color","items","lines","none"],["slot","start","color","buttons",3,"click"],["color","text","name","refresh"],["color","text","name","search"],["color","text","placeholder","Vorname Nachname Klasse","type","text","name","Serch",3,"ngModel","keypress","ngModelChange"],["class","ion-padding",4,"ngIf"],["color","items","lines","none",4,"ngFor","ngForOf"],[1,"ion-padding"],["color","buttons","expand","block",1,"ion-no-margin",3,"click"],["color","background","class","content",4,"ngIf"],["color","text"],["color","background","id","participant.ID",4,"ngFor","ngForOf"],["color","background","id","participant.ID"],["color","text",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["color","buttons",3,"routerLink",4,"ngIf"],["color","danger","name","trash",3,"click",4,"ngIf"],["color","buttons",3,"routerLink"],["color","danger","name","trash",3,"click"],["color","background",4,"ngFor","ngForOf"],["color","buttons","expand","block",1,"ion-no-margin",3,"disabled","click"],["color","danger",4,"ngIf"],["color","danger"],["color","items"],["name","star"],["color","items",4,"ngFor","ngForOf"],["name","star-half"],["slot","end","name","ParticipantProject","okText","Ausw\xe4hlen","cancelText","Abbrechen","type","number",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar",0),u.Lb(2,"ion-button",1),u.Jb(3,"ion-back-button",2),u.Kb(),u.Lb(4,"ion-title"),u.mc(5),u.Kb(),u.Kb(),u.Kb(),u.Lb(6,"ion-content",3),u.Lb(7,"ion-card",4),u.Lb(8,"ion-card-header"),u.Lb(9,"ion-card-title"),u.mc(10," Sch\xfcler "),u.Kb(),u.Kb(),u.lc(11,m,3,1,"ion-card-content",5),u.Lb(12,"ion-card-content"),u.Lb(13,"ion-item",6),u.Lb(14,"ion-button",7),u.Tb("click",(function(){return t.refresh()})),u.Jb(15,"ion-icon",8),u.Kb(),u.Lb(16,"ion-button",7),u.Tb("click",(function(){return t.search()})),u.Jb(17,"ion-icon",9),u.Kb(),u.Lb(18,"ion-input",10),u.Tb("keypress",(function(e){return t.eventHandler(e.keyCode)}))("ngModelChange",(function(e){return t.searchValue=e})),u.Kb(),u.Kb(),u.Kb(),u.Lb(19,"ion-card-content",3),u.lc(20,P,15,2,"ion-grid",5),u.lc(21,U,15,2,"ion-grid",5),u.lc(22,C,3,0,"div",11),u.Kb(),u.Kb(),u.Lb(23,"ion-card",4),u.Lb(24,"ion-card-header"),u.Lb(25,"ion-card-title"),u.mc(26),u.Kb(),u.Kb(),u.lc(27,I,3,1,"ion-card-content",5),u.Lb(28,"ion-card-content"),u.Lb(29,"ion-grid"),u.Lb(30,"ion-row"),u.Lb(31,"ion-col"),u.Lb(32,"h2"),u.mc(33),u.Kb(),u.Kb(),u.Lb(34,"ion-col"),u.Lb(35,"h2"),u.mc(36),u.Kb(),u.Kb(),u.Kb(),u.lc(37,V,7,3,"ion-row",12),u.Kb(),u.Kb(),u.Kb(),u.Lb(38,"ion-card",4),u.Lb(39,"ion-card-header"),u.Lb(40,"ion-card-title"),u.mc(41," Sch\xfcler sortieren "),u.Kb(),u.Kb(),u.lc(42,N,3,1,"ion-card-content",5),u.Lb(43,"ion-card-content"),u.lc(44,E,3,0,"div",11),u.lc(45,F,3,0,"div",11),u.Lb(46,"div",13),u.Lb(47,"ion-button",14),u.Tb("click",(function(){return t.requestSortingProposal()})),u.mc(48,"aktuellen Sortiervorschlag ansehen"),u.Kb(),u.Kb(),u.Kb(),u.Kb(),u.lc(49,G,13,3,"ion-card",15),u.Kb()),2&e&&(u.xb(3),u.bc("defaultHref","Projekttage/Admin/",t.adminUrl,""),u.xb(2),u.oc("Sch\xfcler und ",t.projectNoun,"leiter verwalten"),u.xb(6),u.ac("ngIf",t.text1),u.xb(7),u.ac("ngModel",t.searchValue),u.xb(2),u.ac("ngIf",t.searchStudents),u.xb(1),u.ac("ngIf",!t.searchStudents),u.xb(1),u.ac("ngIf",t.page<t.lastPage&&!t.searchStudents),u.xb(4),u.oc(" ",t.projectNoun,"leiter "),u.xb(1),u.ac("ngIf",t.text2),u.xb(6),u.oc("",t.projectNoun,"leiter"),u.xb(3),u.oc("Link zum ",t.projectNoun,""),u.xb(1),u.ac("ngForOf",t.loadedLeaders),u.xb(5),u.ac("ngIf",t.text3),u.xb(2),u.ac("ngIf",!t.sorted),u.xb(1),u.ac("ngIf",t.sorted),u.xb(4),u.ac("ngIf",t.sortedProjects.length))},directives:[s.t,s.R,s.h,s.e,s.f,s.P,s.p,s.j,s.l,s.n,a.j,s.k,s.x,s.u,s.w,s.ab,o.f,o.i,s.s,s.F,s.o,a.i,s.A,c.j,s.Y,s.m,s.N,s.I,s.Z,s.J],styles:[".height[_ngcontent-%COMP%]{min-height:500px}"]}),Q)}],ie=((te=function t(){e(this,t)}).\u0275mod=u.Gb({type:te}),te.\u0275inj=u.Fb({factory:function(e){return new(e||te)},imports:[[c.k.forChild(ne)],c.k]}),te),re=((ee=function t(){e(this,t)}).\u0275mod=u.Gb({type:ee}),ee.\u0275inj=u.Fb({factory:function(e){return new(e||ee)},imports:[[a.b,o.a,s.S,ie]]}),ee)},kXZ0:function(t,i,r){"use strict";r.d(i,"a",(function(){return d}));var a=r("fXoL"),o=r("tk/3"),s=r("18Le"),c=r("YdJ5"),l=r("wxHw"),u=r("tyNb"),d=function(){var t=function(){function t(n,i,r,o,s){e(this,t),this.http=n,this.auth=i,this.alert=r,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"signUpAdmin",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"admins/register",e,{headers:n}).subscribe((function(e){e.token&&(t.auth.set_jwt(e.token),t.auth.setLoggedIn(!0),t.router.navigate(["Projekttage/Anmeldung"])),t.alert.alert("Dein Account wurde erfolgreich erstellt!"),t.sendAuthentificationEmail(),t.update.emit()}),(function(e){t.alert.error("Accounterstellung fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmail",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/email/resend",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Verifizierungs E-Mail konnte nicht versandt werden!",t.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/email/resend",null,{headers:e})}},{key:"logInAdmin",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"admins/login",e,{headers:t})}},{key:"logOutAdmin",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/logout",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message),e.auth.setLoggedIn(!1),e.router.navigate(["Projekttage/Anmeldung"])}),(function(t){e.alert.error("Logout fehlgeschlagen!",t.error)}))}},{key:"getSelfAdmin",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/self",{headers:e})}},{key:"getAdmin",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/"+e,{headers:t})}},{key:"getAllTokens",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"sign_up_tokens",{headers:e})}},{key:"createTokens",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"sign_up_tokens",{count:e},{headers:t})}},{key:"deleteAllTokens",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.delete(this.backendUrl+"sign_up_tokens",{headers:e})}},{key:"getAllSignUpEmails",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"sign_up_emails",{headers:e})}},{key:"createSignUpEmail",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"sign_up_emails",e,{headers:t})}},{key:"deleteSignUpEmail",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.delete(this.backendUrl+"sign_up_emails/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("Entfernen der E-mail fehlgeschlagen!",e.error)}))}},{key:"createSortingProposal",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/create_sorting_proposal",null,{headers:e})}},{key:"requestSortingProposal",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/request_sorting_proposal",{headers:e})}},{key:"editSortingProposal",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/edit_sorting_proposal",e,{headers:n}).subscribe((function(e){t.alert.alert(e.message)}),(function(e){t.alert.error("Erstellung eines Backups fehlgeschlagen!",e.error)}))}},{key:"applySortingProposal",value:function(){var e=this,t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"admins/apply_sorting_proposal",null,{headers:t}).subscribe((function(t){e.alert.alert(t.message)}),(function(t){e.alert.error("Erstellung eines Backups fehlgeschlagen!",t.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(c.a),a.Pb(l.a),a.Pb(u.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zbRu:function(t,i,r){"use strict";r.d(i,"a",(function(){return d}));var a=r("fXoL"),o=r("tk/3"),s=r("18Le"),c=r("YdJ5"),l=r("wxHw"),u=r("tyNb"),d=function(){var t=function(){function t(n,i,r,o,s){e(this,t),this.http=n,this.auth=i,this.alert=r,this.config=o,this.router=s,this.update=new a.n,this.backendUrl=this.config.backend_config.url}return n(t,[{key:"getAllProjects",value:function(){var e=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects",{headers:e})}},{key:"getProject",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/"+e,{headers:t})}},{key:"getLittleProject",value:function(e){var t=new o.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/show_little/"+e,{headers:t})}},{key:"getProjectAdmin",value:function(e){var t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/project/"+e,{headers:t})}},{key:"getSelfProject",value:function(){var e=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/project",{headers:e})}},{key:"getSelfLeadedProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",t=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+e+"/leaded_project",{headers:t})}},{key:"createProject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={headers:new o.c({Authorization:"Bearer "+this.auth.jwt})},r=new FormData;return r.append("title",t.title),r.append("image",n),r.append("descr",t.descr),r.append("leader_name",t.leader_name),r.append("cost",t.cost),r.append("first_day_begin",t.first_day_begin),r.append("first_day_end",t.first_day_end),r.append("second_day_begin",t.second_day_begin),r.append("second_day_end",t.second_day_end),r.append("min_grade",t.min_grade),r.append("max_grade",t.max_grade),r.append("min_participants",t.min_participants),r.append("max_participants",t.max_participants),this.http.post(this.backendUrl+e+"/store_project",r,i)}},{key:"toogleAuthorizedProject",value:function(e,t){var n=this,i=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"admins/toogle_authorized/"+e,{authorized:t},{headers:i}).subscribe((function(e){e&&n.alert.alert(e.message),n.update.emit()}),(function(e){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"toogleEditableProject",value:function(e,t){var n=this,i=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"admins/toogle_editable/"+e,{editable:t},{headers:i}).subscribe((function(e){n.alert.alert(e.message),n.update.emit()}),(function(e){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"putProject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=new o.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+t+"/update_project",n,{headers:r}).subscribe((function(n){e.alert.alert(n.message),e.router.navigate("students"===t?["Projekttage/Benutzer/"+i]:["Projekttage/Projektleiter/"+i]),e.update.emit()}),(function(t){e.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"touchUpProject",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=new o.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+t+"/touch_up_project",n,{headers:r}).subscribe((function(n){e.alert.alert(n.message),e.router.navigate("students"===t?["Projekttage/Benutzer/"+i]:["Projekttage/Projektleiter/"+i]),e.update.emit()}),(function(t){e.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"deleteProject",value:function(e){var t=this,n=new o.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_project/"+e,{headers:n}).subscribe((function(e){t.alert.alert(e.message),t.update.emit()}),(function(e){t.alert.error("L\xf6schen des Projektes fehlgeschlagen!",e.error)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Pb(o.a),a.Pb(s.a),a.Pb(c.a),a.Pb(l.a),a.Pb(u.g))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();