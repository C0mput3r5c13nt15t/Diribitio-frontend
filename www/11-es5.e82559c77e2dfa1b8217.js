!function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[11,46],{"4ARy":function(e,n,a){"use strict";a.d(n,"a",(function(){return c}));var i=a("fXoL"),r=a("tk/3"),s=a("18Le"),o=a("YdJ5"),u=a("wxHw"),h=a("tyNb"),c=function(){var e=function(){function e(t,n,a,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.http=t,this.auth=n,this.alert=a,this.config=r,this.router=s,this.update=new i.n,this.backendUrl=this.config.backend_config.url,this.eventName=this.config.app_config.event_name}var n,a,s;return n=e,(a=[{key:"signUpParticipant",value:function(t,e){var n=this,a=new r.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"students/register",t,{headers:a}).subscribe((function(t){t.token&&(n.auth.set_jwt(t.token),n.auth.setLoggedIn(!0),n.router.navigate([n.eventName+"/Anmeldung"])),n.alert.alert("Dein Account wurde erfolgreich erstellt!"),n.sendAuthentificationEmail(),n.update.emit(),e.reset()}),(function(t){n.alert.error("Erstellung des Accounts fehlgeschlagen!",t.error)}))}},{key:"sendAuthentificationEmail",value:function(){var t=this,e=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"students/email/resend",null,{headers:e}).subscribe((function(e){t.alert.alert(e.message)}),(function(e){t.alert.error("Versandt der Verifizierungs E-Mail fehlgeschlagen!",e.error)}))}},{key:"sendAuthentificationEmailSubscribe",value:function(){var t=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/email/resend",null,{headers:t})}},{key:"logInParticipant",value:function(t){var e=new r.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"students/login",t,{headers:e})}},{key:"logOutParticipant",value:function(){var t=this,e=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/logout",null,{headers:e}).subscribe((function(e){t.alert.alert(e.message),t.auth.setLoggedIn(!1),t.router.navigate([t.eventName+"/Anmeldung"])}),(function(e){t.alert.error("Logout fehlgeschlagen!",e.error)}))}},{key:"getSelfParticipant",value:function(){var t=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/self",{headers:t})}},{key:"getParticipantID",value:function(t){var e=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"students/id",t,{headers:e})}},{key:"getAllParticipantNames",value:function(){var t=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/little_index_students",{headers:t})}},{key:"getAllStudents",value:function(t){var e=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_students?page="+t,{headers:e})}},{key:"getAllSearchedStudents",value:function(t){var e=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"admins/search_index_students",{search_value:t},{headers:e})}},{key:"getFriends",value:function(){var t=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/friends",{headers:t})}},{key:"promoteStudent",value:function(t){var e=this,n=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/promote_student/"+t,null,{headers:n}).subscribe((function(t){e.alert.alert(t.message),e.update.emit()}),(function(t){e.alert.error("Ernennung des Assistenten fehlgeschlagen!",t.error)}))}},{key:"suspendStudent",value:function(t){var e=this,n=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/suspend_student/"+t,null,{headers:n}).subscribe((function(t){e.alert.alert(t.message),e.update.emit()}),(function(t){e.alert.error("Suspendierung des Assistenten fehlgeschlagen!",t.error)}))}},{key:"quitAssistant",value:function(){var t=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"students/quit_assistant",null,{headers:t})}},{key:"putSelfParticipant",value:function(t){var e=this,n=new r.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"students/self_update",t,{headers:n}).subscribe((function(){e.alert.alert("Erfolgreich registriert!"),e.update.emit()}),(function(t){e.alert.error("Aktualisierung des Accounts fehlgeschlagen!",t.error)}))}}])&&t(n.prototype,a),s&&t(n,s),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(r.a),i.Pb(s.a),i.Pb(o.a),i.Pb(u.a),i.Pb(h.g))},e.\u0275prov=i.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();