{"version":3,"sources":["webpack:///src/app/log-in/admin-generation/admin-generation.module.ts","webpack:///src/app/log-in/admin-generation/admin-generation.page.ts","webpack:///src/app/log-in/admin-generation/admin-generation.page.html"],"names":["routes","path","component","AdminGenerationPage","alertCtrl","adminsService","config","subscriptions","signUpData","user_name","email","password","password_confirmation","explanation","this","get_content","eventName","app_config","event_name","forEach","sub","unsubscribe","form","signUpAdmin","create","header","message","buttons","text","role","then","alertEl","present","signUpAsAdmin","AdminGenerationPageModule","forChild"],"mappings":"oPASA,MAAMA,EAAiB,CACrB,CACEC,KAAM,GACNC,UCDG,M,MAAMC,EAiBX,YAAoBC,EACAC,EACAC,GAFA,KAAAF,YACA,KAAAC,gBACA,KAAAC,SAlBZ,KAAAC,cAAgC,GAExC,KAAAC,WAAa,CACXC,UAAW,GACXC,MAAO,GACPC,SAAU,GACVC,sBAAuB,IAGzB,KAAAC,YAAcC,KAAKR,OAAOS,YAAY,oBAKtC,KAAAC,UAAYF,KAAKR,OAAOW,WAAWC,WAMnC,YAMA,cACEJ,KAAKP,cAAcY,QAAQC,GAAOA,EAAIC,eAGxC,cAAcC,GACRR,KAAKN,WAAWG,WAAaG,KAAKN,WAAWI,sBAC/CE,KAAKT,cAAckB,YAAYT,KAAKN,WAAYc,GAEhDR,KAAKV,UAAUoB,OAAO,CACpBC,OAAQ,SACRC,QAAS,wEACTC,QAAS,CAAC,CACRC,KAAM,KACNC,KAAM,aAELC,KAAKC,IACNA,EAAQC,a,6CA3CL7B,GAAmB,gC,uBAAnBA,EAAmB,0gC,eCXhC,qBACE,wBACE,uBACE,4BACF,OACA,oBAAW,yCAA8B,OAC3C,OACF,OAEA,wBACE,mBAAkD,0DAAY,EAAA8B,cAAA,KAC5D,qBACE,6BACE,4BAA0B,mCAAuB,OACnD,OACA,8BACE,uBACE,SACF,OACF,OACA,8BACE,oBACE,sBACE,uBAA4B,mEAA6H,OAC3J,OACA,sBACE,wBAAwB,+DAAsG,OAChI,OACA,sBACE,wBAA2B,kEAA6G,OAC1I,OACA,sBACE,wBAAwC,+EAAqI,OAC/K,OACF,OACA,kBACE,yBAAkI,wBAAY,OAChJ,OACF,OACF,OACF,OACF,O,wBAtCyC,wDAc/B,qCAM8B,+CAGJ,2CAGG,8CAGa,2DAIF,qC,+HDzB3C,KDcA,Y,MAAMC,G,8BAAAA,I,oDAAAA,IAAyB,SAR3B,CACP,IACA,IACA,IACA,IAAaC,SAASnC,O,GAInB","file":"x","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AdminGenerationPage } from './admin-generation.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AdminGenerationPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AdminGenerationPage]\n})\nexport class AdminGenerationPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { ConfigService } from 'src/app/services/config.service';\nimport { AdminsService } from 'src/app/services/admins.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-admin-generation',\n  templateUrl: './admin-generation.page.html',\n  styleUrls: ['./admin-generation.page.scss'],\n})\nexport class AdminGenerationPage implements OnInit, OnDestroy {\n  private subscriptions: Subscription[] = [];\n\n  signUpData = {\n    user_name: '',\n    email: '',\n    password: '',\n    password_confirmation: ''\n  };\n\n  explanation = this.config.get_content('admin-generation');\n\n  /**\n   * Conatins the name of the event that the application is used for\n   */\n  eventName = this.config.app_config.event_name;\n\n  constructor(private alertCtrl: AlertController,\n              private adminsService: AdminsService,\n              private config: ConfigService) { }\n\n  ngOnInit() {\n  }\n\n  /**\n   * Unsubscribes from all events when the page is unloaded\n   */\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => sub.unsubscribe());\n  }\n\n  signUpAsAdmin(form) {\n    if (this.signUpData.password === this.signUpData.password_confirmation) {\n      this.adminsService.signUpAdmin(this.signUpData, form);\n    } else {\n      this.alertCtrl.create({\n        header: 'Fehler',\n        message: 'Das bestätigte Passwort entspricht nicht dem anfangs eingegebenen!',\n        buttons: [{\n          text: 'Ok',\n          role: 'cancel',\n          }]\n        }).then(alertEl => {\n          alertEl.present();\n        });\n    }\n  }\n\n}\n","<ion-header>\n  <ion-toolbar color=\"menu\">\n    <ion-button color=\"buttons\" slot=\"start\">\n      <ion-back-button icon=\"arrow-back\" defaultHref=\"{{ eventName }}/Anmeldung\"></ion-back-button>\n    </ion-button>\n    <ion-title>Als Administrator registrieren</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content color=\"background\">\n  <form #signUpAdminForm=\"ngForm\" name=\"LeaderForm\" (ngSubmit)=\"signUpAsAdmin(signUpAdminForm)\" class=\"content\">\n    <ion-card color=\"background\">\n      <ion-card-header color=\"background\">\n        <ion-card-title text-wrap>Admin-Account erstellen</ion-card-title>\n      </ion-card-header>\n      <ion-card-content color=\"background\">\n        <ion-label color=\"text\">\n          {{ explanation }}\n        </ion-label>\n      </ion-card-content>\n      <ion-card-content color=\"background\">\n        <ion-list>\n          <ion-item color=\"items\">\n            <ion-input name=\"user_name\" [(ngModel)]=\"signUpData.user_name\" required minlength=\"5\" maxlength=\"50\" type=\"text\" placeholder=\"Benutzername\" color=\"text\"></ion-input>\n          </ion-item>\n          <ion-item color=\"items\">\n            <ion-input name=\"email\" [(ngModel)]=\"signUpData.email\" required maxlength=\"50\" type=\"email\" placeholder=\"E-Mail\" color=\"text\"></ion-input>\n          </ion-item>\n          <ion-item color=\"items\">\n            <ion-input name=\"password\" [(ngModel)]=\"signUpData.password\" required minlength=\"8\" type=\"password\" placeholder=\"Passwort\" color=\"text\"></ion-input>\n          </ion-item>\n          <ion-item color=\"items\">\n            <ion-input name=\"password_confirmation\" [(ngModel)]=\"signUpData.password_confirmation\" required minlength=\"8\" type=\"password\" placeholder=\"Passwort bestätigen\" color=\"text\"></ion-input>\n          </ion-item>\n        </ion-list>\n        <div class=\"ion-padding\">\n          <ion-button name=\"submit\" type=\"submit\" [disabled]=\"signUpAdminForm.invalid\"  class=\"ion-no-margin\" expand=\"block\"color=\"buttons\">Registrieren</ion-button>\n        </div>\n      </ion-card-content>\n    </ion-card>\n  </form>\n</ion-content>\n"]}