(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{ZReS:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminStudentsLeadersPageModule",function(){return Y});var n=i("ofXK"),r=i("3Pt+"),o=i("tyNb"),c=i("TEn/"),s=i("mrSG"),a=i("fXoL"),b=i("ZvwH"),d=i("OeS+"),l=i("PO/Q"),h=i("CoJz"),f=i("uVPj"),u=i("3LUQ"),p=i("r4Kj");function _(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",20),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text1," ")}}function g(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",20),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text2," ")}}function m(e,t){if(1&e&&(a.Mb(0,"ion-label",20),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc(" (",e.projectNoun,"leiter)")}}function M(e,t){if(1&e&&(a.Mb(0,"a",25),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb(2);a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function L(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("kein ",e.projectNoun,"")}}function y(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("",e.projectNoun," ist fehlerhaft")}}function j(e,t){if(1&e&&(a.Mb(0,"ion-row",22),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",20),a.pc(3),a.Lb(),a.Lb(),a.Mb(4,"ion-col"),a.Mb(5,"ion-label",20),a.pc(6),a.Lb(),a.Kb(7,"br"),a.oc(8,m,2,1,"ion-label",23),a.Lb(),a.Mb(9,"ion-col"),a.Mb(10,"ion-label",20),a.pc(11),a.Kb(12,"br"),a.pc(13),a.Kb(14,"br"),a.pc(15),a.Lb(),a.Lb(),a.Mb(16,"ion-col",20),a.Mb(17,"ion-label",20),a.pc(18),a.Kb(19,"br"),a.pc(20),a.Kb(21,"br"),a.pc(22),a.Lb(),a.Lb(),a.Mb(23,"ion-col"),a.oc(24,M,2,3,"a",24),a.oc(25,L,2,1,"a",5),a.oc(26,y,2,1,"a",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.rc(" ",e.email," "),a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter," "),a.yb(2),a.bc("ngIf",2==e.role),a.yb(3),a.rc(" ",e.first_wish_title,""),a.yb(2),a.rc(" ",e.second_wish_title,""),a.yb(2),a.rc(" ",e.third_wish_title," "),a.yb(3),a.rc(" ",e.first_friend_name,""),a.yb(2),a.rc(" ",e.second_friend_name,""),a.yb(2),a.rc(" ",e.third_friend_name," "),a.yb(2),a.bc("ngIf",0!=e.project_id&&"fehlerhaftes Projekt"!=e.project_title),a.yb(1),a.bc("ngIf",0==e.project_id),a.yb(1),a.bc("ngIf","fehlerhaftes Projekt"==e.project_title)}}function S(e,t){if(1&e&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row"),a.Mb(2,"ion-col"),a.Mb(3,"h2"),a.pc(4,"E-Mail"),a.Lb(),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"h2"),a.pc(7,"Sch\xfcler"),a.Lb(),a.Lb(),a.Mb(8,"ion-col"),a.Mb(9,"h2"),a.pc(10,"W\xfcnsche"),a.Lb(),a.Lb(),a.Mb(11,"ion-col"),a.Mb(12,"h2"),a.pc(13,"Freunde"),a.Lb(),a.Lb(),a.Mb(14,"ion-col"),a.Mb(15,"h2"),a.pc(16),a.Lb(),a.Lb(),a.Lb(),a.oc(17,j,27,15,"ion-row",21),a.Lb()),2&e){const e=a.Wb();a.yb(16),a.rc("Link zum ",e.projectNoun,""),a.yb(1),a.bc("ngForOf",e.searchStudents)}}function w(e,t){if(1&e&&(a.Mb(0,"ion-label",20),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc(" (",e.projectNoun,"leiter)")}}function P(e,t){if(1&e&&(a.Mb(0,"a",25),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb(2);a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function k(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("kein ",e.projectNoun,"")}}function v(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("",e.projectNoun," ist fehlerhaft")}}function x(e,t){if(1&e&&(a.Mb(0,"ion-row",28),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",20),a.pc(3),a.Lb(),a.Lb(),a.Mb(4,"ion-col"),a.Mb(5,"ion-label",20),a.pc(6),a.Lb(),a.Kb(7,"br"),a.oc(8,w,2,1,"ion-label",23),a.Lb(),a.Mb(9,"ion-col"),a.Mb(10,"ion-label",20),a.pc(11),a.Kb(12,"br"),a.pc(13),a.Kb(14,"br"),a.pc(15),a.Lb(),a.Lb(),a.Mb(16,"ion-col",20),a.Mb(17,"ion-label",20),a.pc(18),a.Kb(19,"br"),a.pc(20),a.Kb(21,"br"),a.pc(22),a.Lb(),a.Lb(),a.Mb(23,"ion-col"),a.oc(24,P,2,3,"a",24),a.oc(25,k,2,1,"a",5),a.oc(26,v,2,1,"a",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.rc(" ",e.email," "),a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter," "),a.yb(2),a.bc("ngIf",2==e.role),a.yb(3),a.rc(" ",e.first_wish_title,""),a.yb(2),a.rc(" ",e.second_wish_title,""),a.yb(2),a.rc(" ",e.third_wish_title," "),a.yb(3),a.rc(" ",e.first_friend_name,""),a.yb(2),a.rc(" ",e.second_friend_name,""),a.yb(2),a.rc(" ",e.third_friend_name," "),a.yb(2),a.bc("ngIf",0!=e.project_id&&"fehlerhaftes Projekt"!=e.project_title),a.yb(1),a.bc("ngIf",0==e.project_id),a.yb(1),a.bc("ngIf","fehlerhaftes Projekt"==e.project_title)}}function N(e,t){if(1&e&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row",26),a.Mb(2,"ion-col"),a.Mb(3,"h2"),a.pc(4,"E-Mail"),a.Lb(),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"h2"),a.pc(7,"Sch\xfcler"),a.Lb(),a.Lb(),a.Mb(8,"ion-col"),a.Mb(9,"h2"),a.pc(10,"W\xfcnsche"),a.Lb(),a.Lb(),a.Mb(11,"ion-col"),a.Mb(12,"h2"),a.pc(13,"Freunde"),a.Lb(),a.Lb(),a.Mb(14,"ion-col"),a.Mb(15,"h2"),a.pc(16),a.Lb(),a.Lb(),a.Lb(),a.oc(17,x,27,15,"ion-row",27),a.Lb()),2&e){const e=a.Wb();a.yb(16),a.rc("Link zum ",e.projectNoun,""),a.yb(1),a.bc("ngForOf",e.loadedStudents)}}function W(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",12),a.Mb(1,"ion-button",19),a.Ub("click",function(){return a.lc(e),a.Wb().getMoreStudents()}),a.pc(2,"Weiter Sch\xfcler laden"),a.Lb(),a.Lb()}}function I(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",20),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text3," ")}}function O(e,t){if(1&e&&(a.Mb(0,"a",32),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb();a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function F(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-icon",33),a.Ub("click",function(){a.lc(e);const t=a.Wb().$implicit;return a.Wb().deleteLeader(t.id)}),a.Lb()}}function D(e,t){if(1&e&&(a.Mb(0,"ion-row",7),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",29),a.pc(3),a.Lb(),a.Lb(),a.Mb(4,"ion-col"),a.Mb(5,"ion-label",20),a.pc(6),a.Lb(),a.Lb(),a.Mb(7,"ion-col"),a.oc(8,O,2,3,"a",30),a.oc(9,F,1,0,"ion-icon",31),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.qc(e.email),a.yb(3),a.qc(e.user_name),a.yb(2),a.bc("ngIf",0!=e.project_id),a.yb(1),a.bc("ngIf",0==e.project_id)}}function K(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",20),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text4," ")}}function T(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",12),a.Mb(1,"ion-button",18),a.Ub("click",function(){return a.lc(e),a.Wb().createSortingProposal()}),a.pc(2,"Sortiervorschlag erstellen"),a.Lb(),a.Lb()}if(2&e){const e=a.Wb();a.yb(1),a.bc("disabled",!(e.currentDate>e.schedule.sort_students&&e.currentDate<=e.schedule.exchange))}}function A(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",12),a.Mb(1,"ion-button",18),a.Ub("click",function(){return a.lc(e),a.Wb().createSortingProposal()}),a.pc(2,"Neuen Sortiervorschlag erstellen"),a.Lb(),a.Lb()}if(2&e){const e=a.Wb();a.yb(1),a.bc("disabled",!(e.currentDate>e.schedule.sort_students&&e.currentDate<=e.schedule.exchange))}}function $(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",20),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text5," ")}}function C(e,t){if(1&e&&(a.Mb(0,"ion-label",36),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.rc("",e.title," (Zu wenige Teilnehmer)")}}function U(e,t){if(1&e&&(a.Mb(0,"ion-label",36),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.rc("",e.title," (Zu viele Teilnehmer)")}}function E(e,t){if(1&e&&(a.Mb(0,"ion-label"),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.qc(e.title)}}function J(e,t){if(1&e&&(a.Mb(0,"div"),a.Mb(1,"ion-item",37),a.Mb(2,"ion-text",20),a.Kb(3,"ion-icon",38),a.pc(4),a.Lb(),a.Lb(),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(4),a.uc(" ",e.leader.first_name," ",e.leader.last_name," ",e.leader.grade,"",e.leader.letter,"")}}function q(e,t){if(1&e&&(a.Mb(0,"ion-item",37),a.Mb(1,"ion-text",20),a.Kb(2,"ion-icon",40),a.pc(3),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function H(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,q,4,4,"ion-item",39),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.bc("ngForOf",e.assistant_student_leaders)}}const Z=function(e,t,i){return[e,t,i]};function z(e,t){if(1&e&&(a.Mb(0,"ion-select-option",43),a.pc(1),a.Lb()),2&e){const e=t.$implicit,i=a.Wb().$implicit,n=a.Wb(2).$implicit;a.bc("value",a.hc(4,Z,i,n.id,e.id)),a.yb(1),a.tc("",e.title," (",e.min_grade,". - ",e.max_grade,".Klasse)")}}function R(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-item",37),a.Mb(1,"ion-text",20),a.pc(2),a.Lb(),a.Mb(3,"ion-select",41),a.Ub("ionChange",function(t){return a.lc(e),a.Wb(4).moveParticipant(t)}),a.oc(4,z,2,8,"ion-select-option",42),a.Lb(),a.Lb()}if(2&e){const e=t.$implicit,i=a.Wb(4);a.yb(2),a.uc("",e.first_name," ",e.last_name," ",e.grade,"",e.letter,""),a.yb(2),a.bc("ngForOf",i.sortedProjects)}}function V(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,R,5,5,"ion-item",39),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.bc("ngForOf",e.participants)}}function G(e,t){if(1&e&&(a.Mb(0,"ion-card",3),a.Mb(1,"ion-card-header"),a.Mb(2,"ion-card-title"),a.oc(3,C,2,1,"ion-label",35),a.oc(4,U,2,1,"ion-label",35),a.oc(5,E,2,1,"ion-label",5),a.Lb(),a.Mb(6,"ion-card-subtitle"),a.Mb(7,"ion-label",20),a.pc(8),a.Lb(),a.Lb(),a.Lb(),a.Mb(9,"ion-card-content"),a.oc(10,J,5,4,"div",5),a.oc(11,H,2,1,"div",5),a.oc(12,V,2,1,"div",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.bc("ngIf",e.participants.length<e.min_participants),a.yb(1),a.bc("ngIf",e.participants.length>e.max_participants),a.yb(1),a.bc("ngIf",e.participants.length>=e.min_participants&&e.participants.length<=e.max_participants),a.yb(3),a.vc("",e.min_grade,". bis ",e.max_grade,".Klasse | ",e.min_participants," bis ",e.max_participants," Teilnehmer | ",e.leader_name,""),a.yb(2),a.bc("ngIf",e.leader&&"App\\Student"===e.leader_type),a.yb(1),a.bc("ngIf",e.assistant_student_leaders.length),a.yb(1),a.bc("ngIf",e.participants.length)}}function Q(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.oc(1,G,13,11,"ion-card",34),a.Lb()),2&e){const e=a.Wb();a.yb(1),a.bc("ngForOf",e.sortedProjects)}}const X=[{path:"",component:(()=>{class e{constructor(e,t,i,r,o,c,s,a,b){this.studentsService=e,this.scheduleService=t,this.leadersService=i,this.projectsService=r,this.activatedRoute=o,this.alertCtrl=c,this.adminsService=s,this.alert=a,this.config=b,this.subscriptions=[],this.loadedProjects=[],this.loadedParticipantsNames=[],this.sortedProjects=[],this.loadedStudents=[],this.loadedLeaders=[],this.sorted=!1,this.schedule={id:1,begin:Object(n.n)(new Date,"yyyy-MM-dd","en"),control:Object(n.n)(new Date,"yyyy-MM-dd","en"),registration:Object(n.n)(new Date,"yyyy-MM-dd","en"),sort_students:Object(n.n)(new Date,"yyyy-MM-dd","en"),exchange:Object(n.n)(new Date,"yyyy-MM-dd","en"),projects:Object(n.n)(new Date,"yyyy-MM-dd","en"),end:Object(n.n)(new Date,"yyyy-MM-dd","en")},this.searchStudent={email:"",first_name:"",last_name:"",class:""},this.text1=this.config.get_content_by_index("admin-students-leaders",0),this.text2=this.config.get_content_by_index("admin-students-leaders",1),this.text3=this.config.get_content_by_index("admin-students-leaders",2),this.text4=this.config.get_content_by_index("admin-students-leaders",3),this.text5=this.config.get_content_by_index("admin-students-leaders",4),this.page=1,this.lastPage=1,this.projectNoun=this.config.app_config.project_noun,this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}ngOnInit(){this.currentDate=Object(n.n)(new Date,"yyyy-MM-dd","en"),this.activatedRoute.paramMap.subscribe(e=>{this.adminUrl=e.get("AdminName")}),this.load(),this.subscriptions.push(this.studentsService.update.subscribe(()=>this.load()),this.leadersService.update.subscribe(()=>this.load()),this.projectsService.update.subscribe(()=>this.load()))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}load(){this.alert.loading(2e3),this.page=1,this.scheduleService.getSchedule().subscribe(e=>{this.schedule=e.data}),this.getProjects(),this.getAllStudentNames(),this.currentDate>this.schedule.sort_students&&this.currentDate<=this.schedule.exchange&&this.requestSortingProposal()}eventHandler(e){13===e&&this.search()}search(){""!=this.searchStudent.email||""!=this.searchStudent.first_name||""!=this.searchStudent.last_name||""!=this.searchStudent.class?this.studentsService.getAllSearchedStudents(this.searchStudent).subscribe(e=>{this.searchStudents=[],e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,email:"",first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.email=e.email,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.searchStudents.push(t)}))}):this.searchStudents=null}refresh(){this.page=1,this.getProjects(),this.getAllStudentNames()}getProjects(){this.projectsService.getAllProjects().subscribe(e=>{this.loadedProjects=e.data,this.getStudents(),this.getLeaders()})}getAllStudentNames(){this.studentsService.getAllStudentNames().subscribe(e=>{this.loadedParticipantsNames=e.data})}getStudents(){this.loadedStudents=[],this.studentsService.getAllStudents(this.page).subscribe(e=>{this.lastPage=e.meta.last_page,e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,email:"",first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.email=e.email,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.loadedStudents.push(t)}))})}getMoreStudents(){this.alert.loading(2e3),this.page+=1,this.studentsService.getAllStudents(this.page).subscribe(e=>{e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,email:"",first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.email=e.email,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.loadedStudents.push(t)}))})}getLeaders(){this.loadedLeaders=[],this.leadersService.getAllLeaders().subscribe(e=>{e.data.forEach(e=>{const t={id:0,user_name:"",email:"",project_id:0,project_title:"kein Projekt"};t.id=e.id,t.user_name=e.user_name,t.email=e.email,t.project_id=e.project_id,t.project_title=this.getProjectTitle(t.project_id),this.loadedLeaders.push(t)})})}getProjectTitle(e){if(0!==e&&this.loadedProjects){const t=this.loadedProjects.filter(t=>t.id===e);return null!=t[0]?t[0].title:"fehlerhaftes Projekt"}return"kein Projekt"}getParticipantName(e){if(0!==e&&this.loadedParticipantsNames){const t=this.loadedParticipantsNames.filter(t=>t.id===e);return null!=t[0]?t[0].first_name+" "+t[0].last_name:"fehlerhafter Freund"}return""}deleteLeader(e){this.alertCtrl.create({header:"Sind Sie sicher?",message:"Wollen Sie diesen Projektleiter wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:()=>{this.leadersService.deleteLeader(e)}}]}).then(e=>{e.present()})}createSortingProposal(){this.adminsService.createSortingProposal().subscribe(e=>{this.alert.alert(e.message),this.sorted=!0,this.sortedProjects=e.data},e=>{this.alert.error("Sortierung der Sch\xfcler fehlgeschlagen.",e.error)})}requestSortingProposal(){this.adminsService.requestSortingProposal().subscribe(e=>{this.sortedProjects=e.data,this.sorted=!0},e=>{this.alert.error("Es konnte kein Sortiervorschlag gefunden werden.",e.error)})}moveParticipant(e){const t=e.detail.value[0],i=e.detail.value[1],n=e.detail.value[2];if(0!==i&&this.sortedProjects){const e=this.sortedProjects.filter(e=>e.id===i);if(null!=e[0]){const i=e[0],n=i.participants.indexOf(t);-1!==n&&i.participants.splice(n,1)}}if(0!==n&&this.sortedProjects){const e=this.sortedProjects.filter(e=>e.id===n);if(null!=e[0]){const i=e[0];t&&i.participants.push(t)}}}editSortingProposal(){this.adminsService.editSortingProposal({data:this.sortedProjects}),this.sorted=!0}applySortingProposal(){!0===this.sorted&&this.alertCtrl.create({header:"Sind Sie sicher?",message:"Wollen Sie die vorgeschlagene Konfiguration wirklich anwenden?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"Anwenden",handler:()=>{this.adminsService.applySortingProposal(),this.sorted=!1,this.refresh()}}]}).then(e=>{e.present()})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(b.a),a.Jb(d.a),a.Jb(l.a),a.Jb(h.a),a.Jb(o.a),a.Jb(c.a),a.Jb(f.a),a.Jb(u.a),a.Jb(p.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-admin-students-leaders"]],decls:78,vars:24,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["color","background",1,"content"],[4,"ngIf"],["color","buttons","text-wrap",""],["color","items","lines","none"],["color","text","placeholder","Email","type","email","name","SerchEmail",3,"ngModel","keypress","ngModelChange"],["color","text","placeholder","Vorname","type","text","name","SerchFirstName",3,"ngModel","keypress","ngModelChange"],["color","text","placeholder","Nachname","type","text","name","SeatchLastName",3,"ngModel","keypress","ngModelChange"],["color","text","placeholder","Klasse","type","text","name","SerchClass",3,"ngModel","keypress","ngModelChange"],[1,"ion-padding"],["expand","block","color","buttons",1,"ion-no-margin",3,"click"],["name","search"],["name","refresh"],["class","ion-padding",4,"ngIf"],["color","items","lines","none",4,"ngFor","ngForOf"],["color","buttons","expand","block",1,"ion-no-margin",3,"disabled","click"],["color","buttons","expand","block",1,"ion-no-margin",3,"click"],["color","text"],["color","background","id","participant.ID",4,"ngFor","ngForOf"],["color","background","id","participant.ID"],["color","text",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"ion-justify-content-around"],["class","ion-justify-content-around","color","background","id","participant.ID",4,"ngFor","ngForOf"],["color","background","id","participant.ID",1,"ion-justify-content-around"],["text-wrap","","color","text"],["color","buttons",3,"routerLink",4,"ngIf"],["color","danger","name","trash",3,"click",4,"ngIf"],["color","buttons",3,"routerLink"],["color","danger","name","trash",3,"click"],["color","background",4,"ngFor","ngForOf"],["color","danger",4,"ngIf"],["color","danger"],["color","items"],["name","star"],["color","items",4,"ngFor","ngForOf"],["name","star-half"],["slot","end","name","ParticipantProject","okText","Ausw\xe4hlen","cancelText","Abbrechen","type","number",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-button",1),a.Kb(3,"ion-back-button",2),a.Lb(),a.Mb(4,"ion-title"),a.pc(5),a.Lb(),a.Lb(),a.Lb(),a.Mb(6,"ion-content",3),a.Mb(7,"ion-card",4),a.Mb(8,"ion-card-header"),a.Mb(9,"ion-card-title"),a.pc(10,"Sch\xfcler"),a.Lb(),a.Lb(),a.oc(11,_,3,1,"ion-card-content",5),a.Mb(12,"ion-card",3),a.Mb(13,"ion-card-header"),a.Mb(14,"ion-card-title"),a.Mb(15,"ion-label",6),a.pc(16,"Sch\xfcler suchen"),a.Lb(),a.Lb(),a.Lb(),a.oc(17,g,3,1,"ion-card-content",5),a.Mb(18,"ion-card-content"),a.Mb(19,"ion-item",7),a.Mb(20,"ion-input",8),a.Ub("keypress",function(){return t.search()})("ngModelChange",function(e){return t.searchStudent.email=e}),a.Lb(),a.Lb(),a.Mb(21,"ion-item",7),a.Mb(22,"ion-input",9),a.Ub("keypress",function(){return t.search()})("ngModelChange",function(e){return t.searchStudent.first_name=e}),a.Lb(),a.Lb(),a.Mb(23,"ion-item",7),a.Mb(24,"ion-input",10),a.Ub("keypress",function(){return t.search()})("ngModelChange",function(e){return t.searchStudent.last_name=e}),a.Lb(),a.Lb(),a.Mb(25,"ion-item",7),a.Mb(26,"ion-input",11),a.Ub("keypress",function(){return t.search()})("ngModelChange",function(e){return t.searchStudent.class=e}),a.Lb(),a.Lb(),a.Mb(27,"div",12),a.Mb(28,"ion-button",13),a.Ub("click",function(){return t.search()}),a.Kb(29,"ion-icon",14),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(30,"div",12),a.Mb(31,"ion-button",13),a.Ub("click",function(){return t.refresh()}),a.Kb(32,"ion-icon",15),a.Lb(),a.Lb(),a.Mb(33,"ion-card-content",3),a.oc(34,S,18,2,"ion-grid",5),a.oc(35,N,18,2,"ion-grid",5),a.oc(36,W,3,0,"div",16),a.Lb(),a.Lb(),a.Mb(37,"ion-card",4),a.Mb(38,"ion-card-header"),a.Mb(39,"ion-card-title"),a.pc(40),a.Lb(),a.Lb(),a.oc(41,I,3,1,"ion-card-content",5),a.Mb(42,"ion-card-content"),a.Mb(43,"ion-grid"),a.Mb(44,"ion-row"),a.Mb(45,"ion-col"),a.Mb(46,"h2"),a.pc(47,"E-Mail"),a.Lb(),a.Lb(),a.Mb(48,"ion-col"),a.Mb(49,"h2"),a.pc(50),a.Lb(),a.Lb(),a.Mb(51,"ion-col"),a.Mb(52,"h2"),a.pc(53),a.Lb(),a.Lb(),a.Lb(),a.oc(54,D,10,4,"ion-row",17),a.Lb(),a.Lb(),a.Lb(),a.Mb(55,"ion-card",4),a.Mb(56,"ion-card-header"),a.Mb(57,"ion-card-title"),a.pc(58," Sch\xfcler sortieren "),a.Lb(),a.Lb(),a.oc(59,K,3,1,"ion-card-content",5),a.Mb(60,"ion-card-content"),a.oc(61,T,3,1,"div",16),a.oc(62,A,3,1,"div",16),a.Mb(63,"div",12),a.Mb(64,"ion-button",18),a.Ub("click",function(){return t.requestSortingProposal()}),a.pc(65,"aktuellen Sortiervorschlag ansehen"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Mb(66,"ion-card",4),a.Mb(67,"ion-card-header"),a.Mb(68,"ion-card-title"),a.pc(69," Vorschlag f\xfcr Einsortierung der Sch\xfcler "),a.Lb(),a.Lb(),a.oc(70,$,3,1,"ion-card-content",5),a.oc(71,Q,2,1,"ion-card-content",5),a.Mb(72,"div",12),a.Mb(73,"ion-button",19),a.Ub("click",function(){return t.editSortingProposal()}),a.pc(74,"\xc4nderungen speichern"),a.Lb(),a.Lb(),a.Mb(75,"div",12),a.Mb(76,"ion-button",18),a.Ub("click",function(){return t.applySortingProposal()}),a.pc(77,"Vorschlag anwenden"),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.yb(3),a.dc("defaultHref","",t.eventName,"/Admin/",t.adminUrl,""),a.yb(2),a.rc("Sch\xfcler und ",t.projectNoun,"leiter verwalten"),a.yb(6),a.bc("ngIf",t.text1),a.yb(6),a.bc("ngIf",t.text2),a.yb(3),a.bc("ngModel",t.searchStudent.email),a.yb(2),a.bc("ngModel",t.searchStudent.first_name),a.yb(2),a.bc("ngModel",t.searchStudent.last_name),a.yb(2),a.bc("ngModel",t.searchStudent.class),a.yb(8),a.bc("ngIf",t.searchStudents),a.yb(1),a.bc("ngIf",!t.searchStudents),a.yb(1),a.bc("ngIf",t.page<t.lastPage&&!t.searchStudents),a.yb(4),a.rc(" ",t.projectNoun,"leiter "),a.yb(1),a.bc("ngIf",t.text3),a.yb(9),a.rc("",t.projectNoun,"leiter"),a.yb(3),a.rc("Link zum ",t.projectNoun,""),a.yb(1),a.bc("ngForOf",t.loadedLeaders),a.yb(5),a.bc("ngIf",t.text4),a.yb(2),a.bc("ngIf",!t.sorted),a.yb(1),a.bc("ngIf",t.sorted),a.yb(2),a.bc("disabled",!(t.currentDate>t.schedule.sort_students&&t.currentDate<=t.schedule.exchange)),a.yb(6),a.bc("ngIf",t.text5),a.yb(1),a.bc("ngIf",t.sortedProjects.length),a.yb(5),a.bc("disabled",!t.sorted))},directives:[c.t,c.R,c.h,c.e,c.f,c.P,c.p,c.j,c.l,c.n,n.j,c.A,c.k,c.x,c.w,c.ab,r.f,r.i,c.u,c.s,c.F,c.o,n.i,o.j,c.Y,c.m,c.N,c.I,c.Z,c.J],styles:[".height[_ngcontent-%COMP%]{min-height:500px}ion-col[_ngcontent-%COMP%]{width:20%}"]}),e})()}];let Y=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[n.b,r.a,c.S,o.k.forChild(X)]]}),e})()}}]);
//# sourceMappingURL=log-in-admin-page-admin-students-leaders-admin-students-leaders-module-es2015.08176beab8532f70b69d.js.map