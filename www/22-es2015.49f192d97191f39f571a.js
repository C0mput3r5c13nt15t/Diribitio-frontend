(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{ZReS:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminStudentsLeadersPageModule",function(){return X});var n=i("ofXK"),r=i("3Pt+"),o=i("tyNb"),c=i("TEn/"),s=i("mrSG"),a=i("fXoL"),b=i("ZvwH"),d=i("OeS+"),l=i("PO/Q"),h=i("CoJz"),f=i("uVPj"),u=i("3LUQ"),_=i("r4Kj");function p(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",16),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text1," ")}}function g(e,t){1&e&&(a.Mb(0,"ion-label",16),a.pc(1,"(Leiter)"),a.Lb())}function m(e,t){if(1&e&&(a.Mb(0,"a",21),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb(2);a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function L(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("kein ",e.projectNoun,"")}}function M(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("",e.projectNoun," ist fehlerhaft")}}function j(e,t){if(1&e&&(a.Mb(0,"ion-row",18),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",16),a.pc(3),a.Lb(),a.oc(4,g,2,0,"ion-label",19),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"ion-label",16),a.pc(7),a.Kb(8,"br"),a.pc(9),a.Kb(10,"br"),a.pc(11),a.Lb(),a.Lb(),a.Mb(12,"ion-col",16),a.Mb(13,"ion-label",16),a.pc(14),a.Kb(15,"br"),a.pc(16),a.Kb(17,"br"),a.pc(18),a.Lb(),a.Lb(),a.Mb(19,"ion-col"),a.oc(20,m,2,3,"a",20),a.oc(21,L,2,1,"a",5),a.oc(22,M,2,1,"a",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter," "),a.yb(1),a.bc("ngIf",2==e.role),a.yb(3),a.rc(" ",e.first_wish_title,""),a.yb(2),a.rc(" ",e.second_wish_title,""),a.yb(2),a.rc(" ",e.third_wish_title," "),a.yb(3),a.rc(" ",e.first_friend_name,""),a.yb(2),a.rc(" ",e.second_friend_name,""),a.yb(2),a.rc(" ",e.third_friend_name," "),a.yb(2),a.bc("ngIf",0!=e.project_id&&"fehlerhaftes Projekt"!=e.project_title),a.yb(1),a.bc("ngIf",0==e.project_id),a.yb(1),a.bc("ngIf","fehlerhaftes Projekt"==e.project_title)}}function y(e,t){if(1&e&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row"),a.Mb(2,"ion-col"),a.Mb(3,"h2"),a.pc(4,"Sch\xfcler"),a.Lb(),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"h2"),a.pc(7,"W\xfcnsche"),a.Lb(),a.Lb(),a.Mb(8,"ion-col"),a.Mb(9,"h2"),a.pc(10,"Freunde"),a.Lb(),a.Lb(),a.Mb(11,"ion-col"),a.Mb(12,"h2"),a.pc(13),a.Lb(),a.Lb(),a.Lb(),a.oc(14,j,23,14,"ion-row",17),a.Lb()),2&e){const e=a.Wb();a.yb(13),a.rc("Link zum ",e.projectNoun,""),a.yb(1),a.bc("ngForOf",e.searchStudents)}}function w(e,t){if(1&e&&(a.Mb(0,"ion-label",16),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc(" (",e.projectNoun,"leiter)")}}function P(e,t){if(1&e&&(a.Mb(0,"a",21),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb(2);a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function S(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("kein ",e.projectNoun,"")}}function v(e,t){if(1&e&&(a.Mb(0,"a"),a.pc(1),a.Lb()),2&e){const e=a.Wb(3);a.yb(1),a.rc("",e.projectNoun," ist fehlerhaft")}}function k(e,t){if(1&e&&(a.Mb(0,"ion-row",18),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",16),a.pc(3),a.Lb(),a.oc(4,w,2,1,"ion-label",19),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"ion-label",16),a.pc(7),a.Kb(8,"br"),a.pc(9),a.Kb(10,"br"),a.pc(11),a.Lb(),a.Lb(),a.Mb(12,"ion-col",16),a.Mb(13,"ion-label",16),a.pc(14),a.Kb(15,"br"),a.pc(16),a.Kb(17,"br"),a.pc(18),a.Lb(),a.Lb(),a.Mb(19,"ion-col"),a.oc(20,P,2,3,"a",20),a.oc(21,S,2,1,"a",5),a.oc(22,v,2,1,"a",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter," "),a.yb(1),a.bc("ngIf",2==e.role),a.yb(3),a.rc(" ",e.first_wish_title,""),a.yb(2),a.rc(" ",e.second_wish_title,""),a.yb(2),a.rc(" ",e.third_wish_title," "),a.yb(3),a.rc(" ",e.first_friend_name,""),a.yb(2),a.rc(" ",e.second_friend_name,""),a.yb(2),a.rc(" ",e.third_friend_name," "),a.yb(2),a.bc("ngIf",0!=e.project_id&&"fehlerhaftes Projekt"!=e.project_title),a.yb(1),a.bc("ngIf",0==e.project_id),a.yb(1),a.bc("ngIf","fehlerhaftes Projekt"==e.project_title)}}function N(e,t){if(1&e&&(a.Mb(0,"ion-grid"),a.Mb(1,"ion-row"),a.Mb(2,"ion-col"),a.Mb(3,"h2"),a.pc(4,"Sch\xfcler"),a.Lb(),a.Lb(),a.Mb(5,"ion-col"),a.Mb(6,"h2"),a.pc(7,"W\xfcnsche"),a.Lb(),a.Lb(),a.Mb(8,"ion-col"),a.Mb(9,"h2"),a.pc(10,"Freunde"),a.Lb(),a.Lb(),a.Mb(11,"ion-col"),a.Mb(12,"h2"),a.pc(13),a.Lb(),a.Lb(),a.Lb(),a.oc(14,k,23,14,"ion-row",17),a.Lb()),2&e){const e=a.Wb();a.yb(13),a.rc("Link zum ",e.projectNoun,""),a.yb(1),a.bc("ngForOf",e.loadedStudents)}}function x(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",13),a.Mb(1,"ion-button",22),a.Ub("click",function(){return a.lc(e),a.Wb().getMoreStudents()}),a.pc(2,"Weiter Sch\xfcler laden"),a.Lb(),a.Lb()}}function W(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",16),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text2," ")}}function I(e,t){if(1&e&&(a.Mb(0,"a",25),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit,t=a.Wb();a.dc("routerLink","../../",t.projectsNoun,"/",e.project_id,""),a.yb(1),a.qc(e.project_title)}}function O(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-icon",26),a.Ub("click",function(){a.lc(e);const t=a.Wb().$implicit;return a.Wb().deleteLeader(t.id)}),a.Lb()}}function F(e,t){if(1&e&&(a.Mb(0,"ion-row",6),a.Mb(1,"ion-col"),a.Mb(2,"ion-label",16),a.pc(3),a.Lb(),a.Lb(),a.Mb(4,"ion-col"),a.oc(5,I,2,3,"a",23),a.oc(6,O,1,0,"ion-icon",24),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.qc(e.user_name),a.yb(2),a.bc("ngIf",0!=e.project_id),a.yb(1),a.bc("ngIf",0==e.project_id)}}function T(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",16),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(2),a.rc(" ",e.text3," ")}}function A(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",13),a.Mb(1,"ion-button",14),a.Ub("click",function(){return a.lc(e),a.Wb().createSortingProposal()}),a.pc(2,"Sortiervorschlag erstellen"),a.Lb(),a.Lb()}if(2&e){const e=a.Wb();a.yb(1),a.bc("disabled",!(e.currentDate>e.schedule.sort_students&&e.currentDate<=e.schedule.exchange))}}function K(e,t){if(1&e){const e=a.Nb();a.Mb(0,"div",13),a.Mb(1,"ion-button",14),a.Ub("click",function(){return a.lc(e),a.Wb().createSortingProposal()}),a.pc(2,"Neuen Sortiervorschlag erstellen"),a.Lb(),a.Lb()}if(2&e){const e=a.Wb();a.yb(1),a.bc("disabled",!(e.currentDate>e.schedule.sort_students&&e.currentDate<=e.schedule.exchange))}}function $(e,t){if(1&e&&(a.Mb(0,"ion-card-content"),a.Mb(1,"ion-label",16),a.pc(2),a.Lb(),a.Lb()),2&e){const e=a.Wb(2);a.yb(2),a.rc(" ",e.text4," ")}}function D(e,t){if(1&e&&(a.Mb(0,"ion-label",29),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.rc("",e.title," (Zu wenige Teilnehmer)")}}function U(e,t){if(1&e&&(a.Mb(0,"ion-label",29),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.rc("",e.title," (Zu viele Teilnehmer)")}}function J(e,t){if(1&e&&(a.Mb(0,"ion-label"),a.pc(1),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.qc(e.title)}}function C(e,t){if(1&e&&(a.Mb(0,"div"),a.Mb(1,"ion-item",30),a.Mb(2,"ion-text",16),a.Kb(3,"ion-icon",31),a.pc(4),a.Lb(),a.Lb(),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(4),a.uc(" ",e.leader.first_name," ",e.leader.last_name," ",e.leader.grade,"",e.leader.letter,"")}}function q(e,t){if(1&e&&(a.Mb(0,"ion-item",30),a.Mb(1,"ion-text",16),a.Kb(2,"ion-icon",33),a.pc(3),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function E(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,q,4,4,"ion-item",32),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.bc("ngForOf",e.assistant_student_leaders)}}const V=function(e,t,i){return[e,t,i]};function H(e,t){if(1&e&&(a.Mb(0,"ion-select-option",36),a.pc(1),a.Lb()),2&e){const e=t.$implicit,i=a.Wb().$implicit,n=a.Wb(2).$implicit;a.bc("value",a.hc(4,V,i,n.id,e.id)),a.yb(1),a.tc("",e.title," (",e.min_grade,". - ",e.max_grade,".Klasse)")}}function Z(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-item",30),a.Mb(1,"ion-text",16),a.pc(2),a.Lb(),a.Mb(3,"ion-select",34),a.Ub("ionChange",function(t){return a.lc(e),a.Wb(4).moveParticipant(t)}),a.oc(4,H,2,8,"ion-select-option",35),a.Lb(),a.Lb()}if(2&e){const e=t.$implicit,i=a.Wb(4);a.yb(2),a.uc("",e.first_name," ",e.last_name," ",e.grade,"",e.letter,""),a.yb(2),a.bc("ngForOf",i.sortedProjects)}}function z(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,Z,5,5,"ion-item",32),a.Lb()),2&e){const e=a.Wb().$implicit;a.yb(1),a.bc("ngForOf",e.participants)}}function R(e,t){if(1&e&&(a.Mb(0,"ion-card",3),a.Mb(1,"ion-card-header"),a.Mb(2,"ion-card-title"),a.oc(3,D,2,1,"ion-label",28),a.oc(4,U,2,1,"ion-label",28),a.oc(5,J,2,1,"ion-label",5),a.Lb(),a.Mb(6,"ion-card-subtitle"),a.Mb(7,"ion-label",16),a.pc(8),a.Lb(),a.Lb(),a.Lb(),a.Mb(9,"ion-card-content"),a.oc(10,C,5,4,"div",5),a.oc(11,E,2,1,"div",5),a.oc(12,z,2,1,"div",5),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(3),a.bc("ngIf",e.participants.length<e.min_participants),a.yb(1),a.bc("ngIf",e.participants.length>e.max_participants),a.yb(1),a.bc("ngIf",e.participants.length>=e.min_participants&&e.participants.length<=e.max_participants),a.yb(3),a.vc("",e.min_grade,". bis ",e.max_grade,".Klasse | ",e.min_participants," bis ",e.max_participants," Teilnehmer | ",e.leader_name,""),a.yb(2),a.bc("ngIf",e.leader&&"App\\Student"===e.leader_type),a.yb(1),a.bc("ngIf",e.assistant_student_leaders.length),a.yb(1),a.bc("ngIf",e.participants.length)}}function G(e,t){if(1&e){const e=a.Nb();a.Mb(0,"ion-card",4),a.Mb(1,"ion-card-header"),a.Mb(2,"ion-card-title"),a.pc(3," Vorschlag f\xfcr Einsortierung der Sch\xfcler "),a.Lb(),a.Lb(),a.oc(4,$,3,1,"ion-card-content",5),a.Mb(5,"ion-card-content"),a.oc(6,R,13,11,"ion-card",27),a.Lb(),a.Mb(7,"div",13),a.Mb(8,"ion-button",22),a.Ub("click",function(){return a.lc(e),a.Wb().editSortingProposal()}),a.pc(9,"\xc4nderungen speichern"),a.Lb(),a.Lb(),a.Mb(10,"div",13),a.Mb(11,"ion-button",14),a.Ub("click",function(){return a.lc(e),a.Wb().applySortingProposal()}),a.pc(12,"Vorschlag anwenden"),a.Lb(),a.Lb(),a.Lb()}if(2&e){const e=a.Wb();a.yb(4),a.bc("ngIf",e.text4),a.yb(2),a.bc("ngForOf",e.sortedProjects),a.yb(5),a.bc("disabled",!e.sorted)}}const Q=[{path:"",component:(()=>{class e{constructor(e,t,i,n,r,o,c,s,a){this.studentsService=e,this.scheduleService=t,this.leadersService=i,this.projectsService=n,this.activatedRoute=r,this.alertCtrl=o,this.adminsService=c,this.alert=s,this.config=a,this.subscriptions=[],this.loadedProjects=[],this.loadedParticipantsNames=[],this.sortedProjects=[],this.loadedStudents=[],this.loadedLeaders=[],this.sorted=!1,this.schedule={id:1,begin:null,control:null,registration:null,sort_students:null,exchange:null,projects:null,end:null},this.text1=this.config.get_content_by_index("admin-students-leaders",0),this.text2=this.config.get_content_by_index("admin-students-leaders",1),this.text3=this.config.get_content_by_index("admin-students-leaders",2),this.text4=this.config.get_content_by_index("admin-students-leaders",3),this.page=1,this.lastPage=1,this.projectNoun=this.config.app_config.project_noun,this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}ngOnInit(){this.currentDate=Object(n.n)(new Date,"yyyy-MM-dd","en"),this.activatedRoute.paramMap.subscribe(e=>{this.adminUrl=e.get("AdminName")}),this.load(),this.subscriptions.push(this.studentsService.update.subscribe(()=>this.load()),this.leadersService.update.subscribe(()=>this.load()),this.projectsService.update.subscribe(()=>this.load()))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}load(){this.alert.loading(2e3),this.page=1,this.scheduleService.getSchedule().subscribe(e=>{this.schedule=e.data}),this.getProjects(),this.getAllStudentNames(),this.currentDate>this.schedule.sort_students&&this.currentDate<=this.schedule.exchange&&this.requestSortingProposal()}eventHandler(e){13===e&&this.search()}search(){""!=this.searchValue?this.studentsService.getAllSearchedStudents(this.searchValue).subscribe(e=>{this.searchStudents=[],e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.searchStudents.push(t)}))}):this.searchStudents=null}refresh(){this.page=1,this.getProjects(),this.getAllStudentNames()}getProjects(){this.projectsService.getAllProjects().subscribe(e=>{this.loadedProjects=e.data,this.getStudents(),this.getLeaders()})}getAllStudentNames(){this.studentsService.getAllStudentNames().subscribe(e=>{this.loadedParticipantsNames=e.data})}getStudents(){this.loadedStudents=[],this.studentsService.getAllStudents(this.page).subscribe(e=>{this.lastPage=e.meta.last_page,e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.loadedStudents.push(t)}))})}getMoreStudents(){this.alert.loading(2e3),this.page+=1,this.studentsService.getAllStudents(this.page).subscribe(e=>{e.data.forEach(e=>Object(s.a)(this,void 0,void 0,function*(){const t={id:0,first_name:"",last_name:"",grade:1,letter:"",first_friend:0,first_friend_name:"",second_friend:0,second_friend_name:"",third_friend:0,third_friend_name:"",first_wish:0,first_wish_title:"",second_wish:0,second_wish_title:"",third_wish:0,third_wish_title:"",project_id:0,project_title:"kein Projekt",role:1};t.id=e.id,t.first_name=e.first_name,t.last_name=e.last_name,t.grade=e.grade,t.letter=e.letter,t.first_friend=e.first_friend,t.second_friend=e.second_friend,t.third_friend=e.third_friend,t.first_wish=e.first_wish,t.second_wish=e.second_wish,t.third_wish=e.third_wish,t.project_id=e.project_id,t.role=e.role,t.first_friend_name=this.getParticipantName(t.first_friend),t.second_friend_name=this.getParticipantName(t.second_friend),t.third_friend_name=this.getParticipantName(t.third_friend),t.first_wish_title=this.getProjectTitle(t.first_wish),t.second_wish_title=this.getProjectTitle(t.second_wish),t.third_wish_title=this.getProjectTitle(t.third_wish),t.project_title=this.getProjectTitle(t.project_id),this.loadedStudents.push(t)}))})}getLeaders(){this.loadedLeaders=[],this.leadersService.getAllLeaders().subscribe(e=>{e.data.forEach(e=>{const t={id:0,user_name:"",email:"",project_id:0,project_title:"kein Projekt"};t.id=e.id,t.user_name=e.user_name,t.email=e.email,t.project_id=e.project_id,t.project_title=this.getProjectTitle(t.project_id),this.loadedLeaders.push(t)})})}getProjectTitle(e){if(0!==e&&this.loadedProjects){const t=this.loadedProjects.filter(t=>t.id===e);return null!=t[0]?t[0].title:"fehlerhaftes Projekt"}return"kein Projekt"}getParticipantName(e){if(0!==e&&this.loadedParticipantsNames){const t=this.loadedParticipantsNames.filter(t=>t.id===e);return null!=t[0]?t[0].first_name+" "+t[0].last_name:"fehlerhafter Freund"}return""}deleteLeader(e){this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie diesen Projektleiter wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:()=>{this.leadersService.deleteLeader(e)}}]}).then(e=>{e.present()})}createSortingProposal(){this.adminsService.createSortingProposal().subscribe(e=>{this.alert.alert(e.message),this.sorted=!0,this.sortedProjects=e.data},e=>{this.alert.error("Sortierung der Sch\xfcler fehlgeschlagen.",e.error)})}requestSortingProposal(){this.adminsService.requestSortingProposal().subscribe(e=>{this.sortedProjects=e.data,this.sorted=!0},e=>{this.alert.error("Es konnte kein Sortiervorschlag gefunden werden.",e.error)})}moveParticipant(e){const t=e.detail.value[0],i=e.detail.value[1],n=e.detail.value[2];if(0!==i&&this.sortedProjects){const e=this.sortedProjects.filter(e=>e.id===i);if(null!=e[0]){const i=e[0],n=i.participants.indexOf(t);-1!==n&&i.participants.splice(n,1)}}if(0!==n&&this.sortedProjects){const e=this.sortedProjects.filter(e=>e.id===n);if(null!=e[0]){const i=e[0];t&&i.participants.push(t)}}}editSortingProposal(){this.adminsService.editSortingProposal({data:this.sortedProjects}),this.sorted=!0}applySortingProposal(){!0===this.sorted&&this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie die vorgeschlagene Konfiguration wirklich anwenden?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"Anwenden",handler:()=>{this.adminsService.applySortingProposal(),this.sorted=!1,this.refresh()}}]}).then(e=>{e.present()})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(b.a),a.Jb(d.a),a.Jb(l.a),a.Jb(h.a),a.Jb(o.a),a.Jb(c.a),a.Jb(f.a),a.Jb(u.a),a.Jb(_.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-admin-students-leaders"]],decls:50,vars:18,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["color","background",1,"content"],[4,"ngIf"],["color","items","lines","none"],["slot","start","color","buttons",3,"click"],["color","text","name","refresh"],["color","text","name","search"],["color","text","placeholder","Vorname Nachname Klasse","type","text","name","Serch",3,"ngModel","keypress","ngModelChange"],["class","ion-padding",4,"ngIf"],["color","items","lines","none",4,"ngFor","ngForOf"],[1,"ion-padding"],["color","buttons","expand","block",1,"ion-no-margin",3,"disabled","click"],["color","background","class","content",4,"ngIf"],["color","text"],["color","background","id","participant.ID",4,"ngFor","ngForOf"],["color","background","id","participant.ID"],["color","text",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["color","buttons","expand","block",1,"ion-no-margin",3,"click"],["color","buttons",3,"routerLink",4,"ngIf"],["color","danger","name","trash",3,"click",4,"ngIf"],["color","buttons",3,"routerLink"],["color","danger","name","trash",3,"click"],["color","background",4,"ngFor","ngForOf"],["color","danger",4,"ngIf"],["color","danger"],["color","items"],["name","star"],["color","items",4,"ngFor","ngForOf"],["name","star-half"],["slot","end","name","ParticipantProject","okText","Ausw\xe4hlen","cancelText","Abbrechen","type","number",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-button",1),a.Kb(3,"ion-back-button",2),a.Lb(),a.Mb(4,"ion-title"),a.pc(5),a.Lb(),a.Lb(),a.Lb(),a.Mb(6,"ion-content",3),a.Mb(7,"ion-card",4),a.Mb(8,"ion-card-header"),a.Mb(9,"ion-card-title"),a.pc(10,"Sch\xfcler"),a.Lb(),a.Lb(),a.oc(11,p,3,1,"ion-card-content",5),a.Mb(12,"ion-card-content"),a.Mb(13,"ion-item",6),a.Mb(14,"ion-button",7),a.Ub("click",function(){return t.refresh()}),a.Kb(15,"ion-icon",8),a.Lb(),a.Mb(16,"ion-button",7),a.Ub("click",function(){return t.search()}),a.Kb(17,"ion-icon",9),a.Lb(),a.Mb(18,"ion-input",10),a.Ub("keypress",function(e){return t.eventHandler(e.keyCode)})("ngModelChange",function(e){return t.searchValue=e}),a.Lb(),a.Lb(),a.Lb(),a.Mb(19,"ion-card-content",3),a.oc(20,y,15,2,"ion-grid",5),a.oc(21,N,15,2,"ion-grid",5),a.oc(22,x,3,0,"div",11),a.Lb(),a.Lb(),a.Mb(23,"ion-card",4),a.Mb(24,"ion-card-header"),a.Mb(25,"ion-card-title"),a.pc(26),a.Lb(),a.Lb(),a.oc(27,W,3,1,"ion-card-content",5),a.Mb(28,"ion-card-content"),a.Mb(29,"ion-grid"),a.Mb(30,"ion-row"),a.Mb(31,"ion-col"),a.Mb(32,"h2"),a.pc(33),a.Lb(),a.Lb(),a.Mb(34,"ion-col"),a.Mb(35,"h2"),a.pc(36),a.Lb(),a.Lb(),a.Lb(),a.oc(37,F,7,3,"ion-row",12),a.Lb(),a.Lb(),a.Lb(),a.Mb(38,"ion-card",4),a.Mb(39,"ion-card-header"),a.Mb(40,"ion-card-title"),a.pc(41," Sch\xfcler sortieren "),a.Lb(),a.Lb(),a.oc(42,T,3,1,"ion-card-content",5),a.Mb(43,"ion-card-content"),a.oc(44,A,3,1,"div",11),a.oc(45,K,3,1,"div",11),a.Mb(46,"div",13),a.Mb(47,"ion-button",14),a.Ub("click",function(){return t.requestSortingProposal()}),a.pc(48,"aktuellen Sortiervorschlag ansehen"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.oc(49,G,13,3,"ion-card",15),a.Lb()),2&e&&(a.yb(3),a.dc("defaultHref","",t.eventName,"/Admin/",t.adminUrl,""),a.yb(2),a.rc("Sch\xfcler und ",t.projectNoun,"leiter verwalten"),a.yb(6),a.bc("ngIf",t.text1),a.yb(7),a.bc("ngModel",t.searchValue),a.yb(2),a.bc("ngIf",t.searchStudents),a.yb(1),a.bc("ngIf",!t.searchStudents),a.yb(1),a.bc("ngIf",t.page<t.lastPage&&!t.searchStudents),a.yb(4),a.rc(" ",t.projectNoun,"leiter "),a.yb(1),a.bc("ngIf",t.text2),a.yb(6),a.rc("",t.projectNoun,"leiter"),a.yb(3),a.rc("Link zum ",t.projectNoun,""),a.yb(1),a.bc("ngForOf",t.loadedLeaders),a.yb(5),a.bc("ngIf",t.text3),a.yb(2),a.bc("ngIf",!t.sorted),a.yb(1),a.bc("ngIf",t.sorted),a.yb(2),a.bc("disabled",!(t.currentDate>t.schedule.sort_students&&t.currentDate<=t.schedule.exchange)),a.yb(2),a.bc("ngIf",t.sortedProjects.length))},directives:[c.t,c.R,c.h,c.e,c.f,c.P,c.p,c.j,c.l,c.n,n.j,c.k,c.x,c.u,c.w,c.ab,r.f,r.i,c.s,c.F,c.o,n.i,c.A,o.j,c.Y,c.m,c.N,c.I,c.Z,c.J],styles:[".height[_ngcontent-%COMP%]{min-height:500px}"]}),e})()}];let X=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[n.b,r.a,c.S,o.k.forChild(Q)]]}),e})()}}]);