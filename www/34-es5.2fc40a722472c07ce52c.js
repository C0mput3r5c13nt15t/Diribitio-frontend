!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[34,49,50,51,52],{gH7Q:function(e,r,i){"use strict";i.r(r),i.d(r,"AdminProjectsPageModule",(function(){return y}));var o=i("ofXK"),a=i("3Pt+"),c=i("tyNb"),s=i("TEn/"),u=i("fXoL"),d=i("zbRu"),l=i("wxHw");function h(t,e){if(1&t&&(u.Lb(0,"ion-card-content"),u.Lb(1,"ion-label",7),u.mc(2),u.Kb(),u.Kb()),2&t){var n=u.Vb();u.xb(2),u.oc(" ",n.text," ")}}function p(t,e){if(1&t&&u.Jb(0,"ion-img",12),2&t){var n=u.Vb().$implicit;u.ac("src","http://192.248.186.231:8000/storage/images/"+n.image)}}function b(t,e){if(1&t&&(u.Lb(0,"p"),u.mc(1),u.Kb()),2&t){var n=u.Vb().$implicit;u.xb(1),u.nc(n.descr)}}function g(t,e){1&t&&(u.Lb(0,"ion-text",13),u.mc(1," (Nicht zugelassen!)"),u.Kb())}var f=function(t){return["./",t]};function j(t,e){if(1&t&&(u.Lb(0,"ion-item",8),u.Lb(1,"ion-avatar",9),u.lc(2,p,1,1,"ion-img",10),u.Kb(),u.Lb(3,"ion-label",7),u.Lb(4,"h2"),u.mc(5),u.Kb(),u.lc(6,b,2,1,"p",5),u.lc(7,g,2,0,"ion-text",11),u.Kb(),u.Kb()),2&t){var n=e.$implicit;u.ac("routerLink",u.dc(6,f,n.id)),u.xb(1),u.ac("hidden",null==n.image||""==n.image),u.xb(1),u.ac("ngIf",""!=n.image&&null!=n.image),u.xb(3),u.nc(n.title),u.xb(1),u.ac("ngIf",1==!!(n.authorized-0)),u.xb(1),u.ac("ngIf",0==!!(n.authorized-0))}}var m,v,k=[{path:"",component:(m=function(){function e(n,r,i){t(this,e),this.projectsService=n,this.activatedRoute=r,this.config=i}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.projectsNoun=this.config.app_config.projects_noun,this.text=this.config.get_content("admin-projects"),this.activatedRoute.paramMap.subscribe((function(e){t.adminUrl=e.get("AdminName")})),this.getProjects(),this.projectsService.update.subscribe((function(){return t.getProjects()}))}},{key:"getProjects",value:function(){var t=this;this.projectsService.getAllProjects().subscribe((function(e){t.projects=e.data}))}}]),e}(),m.\u0275fac=function(t){return new(t||m)(u.Ib(d.a),u.Ib(c.a),u.Ib(l.a))},m.\u0275cmp=u.Cb({type:m,selectors:[["app-admin-projects"]],decls:15,vars:5,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","background"],["color","background",1,"content"],[4,"ngIf"],["color","background",3,"routerLink",4,"ngFor","ngForOf"],["color","text"],["color","background",3,"routerLink"],["slot","start",3,"hidden"],[3,"src",4,"ngIf"],["color","danger",4,"ngIf"],[3,"src"],["color","danger"]],template:function(t,e){1&t&&(u.Lb(0,"ion-header"),u.Lb(1,"ion-toolbar",0),u.Lb(2,"ion-button",1),u.Jb(3,"ion-back-button",2),u.Kb(),u.Lb(4,"ion-title"),u.mc(5),u.Kb(),u.Kb(),u.Kb(),u.Lb(6,"ion-content",3),u.Lb(7,"ion-card",4),u.Lb(8,"ion-card-header"),u.Lb(9,"ion-card-title"),u.mc(10),u.Kb(),u.Kb(),u.lc(11,h,3,1,"ion-card-content",5),u.Lb(12,"ion-card-content"),u.Lb(13,"ion-list"),u.lc(14,j,8,8,"ion-item",6),u.Kb(),u.Kb(),u.Kb(),u.Kb()),2&t&&(u.xb(3),u.bc("defaultHref","Projekttage/Admin/",e.adminUrl,""),u.xb(2),u.nc(e.projectsNoun),u.xb(5),u.oc(" ",e.projectsNoun," "),u.xb(1),u.ac("ngIf",e.text),u.xb(3),u.ac("ngForOf",e.projects))},directives:[s.t,s.R,s.h,s.e,s.f,s.P,s.p,s.j,s.l,s.n,o.j,s.k,s.B,o.i,s.A,s.x,s.Y,c.h,s.d,s.v,s.N],styles:[""]}),m)}],y=((v=function e(){t(this,e)}).\u0275mod=u.Gb({type:v}),v.\u0275inj=u.Fb({factory:function(t){return new(t||v)},imports:[[o.b,a.a,s.S,c.k.forChild(k)]]}),v)},zbRu:function(e,r,i){"use strict";i.d(r,"a",(function(){return l}));var o=i("fXoL"),a=i("tk/3"),c=i("18Le"),s=i("YdJ5"),u=i("wxHw"),d=i("tyNb"),l=function(){var e=function(){function e(n,r,i,a,c){t(this,e),this.http=n,this.auth=r,this.alert=i,this.config=a,this.router=c,this.update=new o.n,this.backendUrl=this.config.backend_config.url}return n(e,[{key:"getAllProjects",value:function(){var t=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects",{headers:t})}},{key:"getProject",value:function(t){var e=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/"+t,{headers:e})}},{key:"getLittleProject",value:function(t){var e=new a.c({"Content-Type":"application/json"});return this.http.get(this.backendUrl+"projects/show_little/"+t,{headers:e})}},{key:"getProjectAdmin",value:function(t){var e=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/project/"+t,{headers:e})}},{key:"getSelfProject",value:function(){var t=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"students/project",{headers:t})}},{key:"getSelfLeadedProject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",e=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+t+"/leaded_project",{headers:e})}},{key:"createProject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r={headers:new a.c({Authorization:"Bearer "+this.auth.jwt})},i=new FormData;return i.append("title",e.title),i.append("image",n),i.append("descr",e.descr),i.append("leader_name",e.leader_name),i.append("cost",e.cost),i.append("first_day_begin",e.first_day_begin),i.append("first_day_end",e.first_day_end),i.append("second_day_begin",e.second_day_begin),i.append("second_day_end",e.second_day_end),i.append("min_grade",e.min_grade),i.append("max_grade",e.max_grade),i.append("min_participants",e.min_participants),i.append("max_participants",e.max_participants),this.http.post(this.backendUrl+t+"/store_project",i,r)}},{key:"toogleAuthorizedProject",value:function(t,e){var n=this,r=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+"admins/toogle_authorized/"+t,{authorized:e},{headers:r}).subscribe((function(t){t&&n.alert.alert(t.message),n.update.emit()}),(function(t){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"toogleEditableProject",value:function(t,e){var n=this,r=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.put(this.backendUrl+"admins/toogle_editable/"+t,{editable:e},{headers:r}).subscribe((function(t){n.alert.alert(t.message),n.update.emit()}),(function(t){n.alert.error("Aktualisierung des Projektes fehlgeschlagen!",t.error)}))}},{key:"putProject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=new a.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+e+"/update_project",n,{headers:i}).subscribe((function(n){t.alert.alert(n.message),t.router.navigate("students"===e?["Projekttage/Benutzer/"+r]:["Projekttage/Projektleiter/"+r]),t.update.emit()}),(function(e){t.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"touchUpProject",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"students",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=new a.c({Authorization:"Bearer "+this.auth.jwt});this.http.put(this.backendUrl+e+"/touch_up_project",n,{headers:i}).subscribe((function(n){t.alert.alert(n.message),t.router.navigate("students"===e?["Projekttage/Benutzer/"+r]:["Projekttage/Projektleiter/"+r]),t.update.emit()}),(function(e){t.alert.error("Aktualisierung des Projektes fehlgeschlagen!",e.error)}))}},{key:"deleteProject",value:function(t){var e=this,n=new a.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_project/"+t,{headers:n}).subscribe((function(t){e.alert.alert(t.message),e.update.emit()}),(function(t){e.alert.error("L\xf6schen des Projektes fehlgeschlagen!",t.error)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(a.a),o.Pb(c.a),o.Pb(s.a),o.Pb(u.a),o.Pb(d.g))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();