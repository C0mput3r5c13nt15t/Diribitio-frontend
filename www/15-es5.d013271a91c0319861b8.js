!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{oKxh:function(a,t,r){"use strict";r.r(t),r.d(t,"AdminExchangeDetailPageModule",function(){return E});var c=r("ofXK"),i=r("3Pt+"),o=r("tyNb"),d=r("TEn/"),s=r("fXoL"),b=r("hQbD"),l=r("CoJz"),h=r("r4Kj");function u(e,n){if(1&e&&(s.Mb(0,"ion-card-header"),s.Mb(1,"ion-card-title"),s.pc(2),s.Lb(),s.Lb()),2&e){var a=s.Wb();s.yb(2),s.uc("Tauschanfrage von ",a.loadedExchange.sender.first_name," ",a.loadedExchange.sender.last_name," und ",a.loadedExchange.receiver.first_name," ",a.loadedExchange.receiver.last_name,"")}}function g(e,n){if(1&e&&(s.Mb(0,"ion-label",14),s.pc(1),s.Lb()),2&e){var a=s.Wb(2);s.yb(1),s.tc("",a.loadedExchange.receiver.first_name," ",a.loadedExchange.receiver.last_name," erf\xfcllt NICHT die ",a.projectNoun,"bedingungen!")}}function f(e,n){if(1&e&&(s.Mb(0,"ion-label",14),s.pc(1),s.Lb()),2&e){var a=s.Wb(2);s.yb(1),s.tc("",a.loadedExchange.sender.first_name," ",a.loadedExchange.sender.last_name," erf\xfcllt NICHT die ",a.projectNoun,"bedingungen!")}}function x(e,n){if(1&e&&(s.Mb(0,"ion-item-group"),s.Mb(1,"ion-item-divider",5),s.Mb(2,"ion-label",11),s.pc(3),s.Lb(),s.Lb(),s.Mb(4,"ion-item",12),s.pc(5),s.Lb(),s.Mb(6,"ion-item",12),s.pc(7),s.Lb(),s.Mb(8,"ion-item",12),s.oc(9,g,2,3,"ion-label",13),s.Lb(),s.Mb(10,"ion-item-divider",5),s.Mb(11,"ion-label",11),s.pc(12),s.Lb(),s.Lb(),s.Mb(13,"ion-item",12),s.pc(14),s.Lb(),s.Mb(15,"ion-item",12),s.pc(16),s.Lb(),s.Mb(17,"ion-item",12),s.oc(18,f,2,3,"ion-label",13),s.Lb(),s.Lb()),2&e){var a=s.Wb();s.yb(3),s.sc("",a.loadedExchange.sender.first_name," ",a.loadedExchange.sender.last_name," (Ersteller/in der Anfrage)"),s.yb(2),s.sc(" Klasse: ",a.loadedExchange.sender.grade,"",a.loadedExchange.sender.letter," "),s.yb(2),s.uc(" ",a.projectNoun,": ",a.firstProjectName," (",a.firstMinGrade,".Klasse bis ",a.firstMaxGrade,".Klasse) "),s.yb(2),s.bc("ngIf",a.loadedExchange.receiver.grade>a.firstMaxGrade||a.loadedExchange.receiver.grade<a.firstMinGrade),s.yb(3),s.sc("",a.loadedExchange.receiver.first_name," ",a.loadedExchange.receiver.last_name," (Empf\xe4nger/in)"),s.yb(2),s.sc(" Klasse: ",a.loadedExchange.receiver.grade,"",a.loadedExchange.receiver.letter," "),s.yb(2),s.uc(" ",a.projectNoun,": ",a.secondProjectName," (",a.secondMinGrade,".Klasse bis ",a.secondMaxGrade,".Klasse) "),s.yb(2),s.bc("ngIf",a.loadedExchange.sender.grade>a.secondMaxGrade||a.loadedExchange.sender.grade<a.secondMinGrade)}}var m,p,v=[{path:"",component:(m=function(){function a(n,t,r,c,i,o){e(this,a),this.activatedRoute=n,this.router=t,this.exchangesService=r,this.projectService=c,this.alertCtrl=i,this.config=o,this.subscriptions=[],this.loadedExchange={id:0,sender_id:0,receiver_id:0,confirmed:0,accomplished:0,sender:null,receiver:null},this.firstProjectName="",this.firstMinGrade=0,this.firstMaxGrade=0,this.secondProjectName="",this.secondMinGrade=0,this.secondMaxGrade=0,this.projectNoun=this.config.app_config.project_noun,this.eventName=this.config.app_config.event_name}var t,r,c;return t=a,(r=[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.paramMap.subscribe(function(n){n.has("ExchangeID")?(e.adminUrl=n.get("AdminName"),e.exchangeId=Number(n.get("ExchangeID"))):e.router.navigate([""])}),this.getExchange(),this.subscriptions.push(this.exchangesService.update.subscribe(function(){return e.getExchange()}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"getExchange",value:function(){var e=this;this.exchangesService.getExchange(this.exchangeId).subscribe(function(n){e.loadedExchange=n.data,e.projectService.getProject(e.loadedExchange.sender.project_id).subscribe(function(n){e.firstProjectName=n.data.title,e.firstMinGrade=n.data.min_grade,e.firstMaxGrade=n.data.max_grade}),e.projectService.getProject(e.loadedExchange.receiver.project_id).subscribe(function(n){e.secondProjectName=n.data.title,e.secondMinGrade=n.data.min_grade,e.secondMaxGrade=n.data.max_grade})})}},{key:"deleteExchange",value:function(){var e=this;this.alertCtrl.create({header:"Bist du sicher?",message:"Wollen sie diesen Tausch wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:function(){e.exchangesService.deleteExchange(e.loadedExchange.id),e.router.navigate([e.eventName+"/Admin/"+e.adminUrl+"/Tauschanfragen"])}}]}).then(function(e){e.present()})}},{key:"carryOutExchange",value:function(){this.exchangesService.carryOutExchange(this.loadedExchange.id),this.router.navigate([this.eventName+"/Admin/"+this.adminUrl+"/Tauschanfragen"])}}])&&n(t.prototype,r),c&&n(t,c),a}(),m.\u0275fac=function(e){return new(e||m)(s.Jb(o.a),s.Jb(o.g),s.Jb(b.a),s.Jb(l.a),s.Jb(d.a),s.Jb(h.a))},m.\u0275cmp=s.Db({type:m,selectors:[["app-admin-exchange-detail"]],decls:20,vars:4,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","buttons","color","danger","slot","end",3,"click"],["name","trash"],["color","background"],["color","background",1,"content"],[4,"ngIf"],[1,"ion-padding"],["color","buttons","expand","block","type","submit",1,"ion-no-margin",3,"click"],["color","buttons","expand","block","color","buttons","color","danger","slot","end",1,"ion-no-margin",3,"click"],["color","text"],["color","items","lines","none"],["color","danger",4,"ngIf"],["color","danger"]],template:function(e,n){1&e&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar",0),s.Mb(2,"ion-button",1),s.Kb(3,"ion-back-button",2),s.Lb(),s.Mb(4,"ion-title"),s.pc(5,"Tauschanfrage"),s.Lb(),s.Mb(6,"ion-button",3),s.Ub("click",function(){return n.deleteExchange()}),s.Kb(7,"ion-icon",4),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"ion-content",5),s.Mb(9,"ion-card",6),s.oc(10,u,3,4,"ion-card-header",7),s.Mb(11,"ion-card-content"),s.Mb(12,"form"),s.oc(13,x,19,18,"ion-item-group",7),s.Mb(14,"div",8),s.Mb(15,"ion-button",9),s.Ub("click",function(){return n.carryOutExchange()}),s.pc(16,"Tausch best\xe4tigen"),s.Lb(),s.Lb(),s.Mb(17,"div",8),s.Mb(18,"ion-button",10),s.Ub("click",function(){return n.deleteExchange()}),s.pc(19,"Tauschanfrage l\xf6schen"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&e&&(s.yb(3),s.dc("defaultHref","",n.eventName,"/Admin/",n.adminUrl,"/Tauschanfragen"),s.yb(7),s.bc("ngIf",n.loadedExchange.sender&&n.loadedExchange.receiver),s.yb(3),s.bc("ngIf",n.loadedExchange.sender&&n.loadedExchange.receiver))},directives:[d.t,d.R,d.h,d.e,d.f,d.P,d.u,d.p,d.j,c.j,d.k,i.k,i.g,i.h,d.l,d.n,d.z,d.y,d.A,d.x],styles:[""]}),m)}],E=((p=function n(){e(this,n)}).\u0275mod=s.Hb({type:p}),p.\u0275inj=s.Gb({factory:function(e){return new(e||p)},imports:[[c.b,i.a,d.S,o.k.forChild(v)]]}),p)}}])}();