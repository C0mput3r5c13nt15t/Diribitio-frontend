(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"7RvP":function(e,t,i){"use strict";i.r(t),i.d(t,"AdminProjectDetailPageModule",function(){return x});var o=i("ofXK"),n=i("3Pt+"),c=i("tyNb"),r=i("TEn/"),a=i("fXoL"),d=i("OeS+"),b=i("CoJz"),s=i("r4Kj");function l(e,t){if(1&e&&a.Kb(0,"ion-img",18),2&e){const e=a.Wb();a.dc("src","",e.imageUrl,"",e.loadedProject.image,"")}}function u(e,t){1&e&&(a.Mb(0,"ion-item-divider",5),a.Mb(1,"ion-label",9),a.pc(2,"Nachrichten"),a.Lb(),a.Lb())}function h(e,t){if(1&e&&(a.Mb(0,"ion-item",11),a.Mb(1,"ion-card",20),a.Mb(2,"ion-card-content"),a.Mb(3,"ion-text",21),a.pc(4),a.Lb(),a.Kb(5,"br"),a.Mb(6,"ion-text",9),a.pc(7),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(4),a.qc(e.sender_name),a.yb(3),a.qc(e.message)}}function g(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,h,8,2,"ion-item",19),a.Lb()),2&e){const e=a.Wb();a.yb(1),a.bc("ngForOf",e.loadedProject.messages)}}function m(e,t){1&e&&(a.Mb(0,"ion-item-divider",5),a.Mb(1,"ion-label",9),a.pc(2,"Projektleiter"),a.Lb(),a.Lb())}function p(e,t){if(1&e&&(a.Mb(0,"div"),a.Mb(1,"ion-item",11),a.Mb(2,"ion-card",5),a.Mb(3,"ion-card-content"),a.Mb(4,"ion-text",9),a.Kb(5,"ion-icon",22),a.pc(6),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(6),a.uc(" ",e.loadedProject.leader.first_name," ",e.loadedProject.leader.last_name," ",e.loadedProject.leader.grade,"",e.loadedProject.leader.letter,"")}}function M(e,t){if(1&e&&(a.Mb(0,"div"),a.Mb(1,"ion-item",11),a.Mb(2,"ion-card",5),a.Mb(3,"ion-card-content"),a.Mb(4,"ion-text",9),a.Kb(5,"ion-icon",22),a.pc(6),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){const e=a.Wb();a.yb(6),a.sc(" ",e.loadedProject.leader.user_name," ",e.loadedProject.leader.email,"")}}function f(e,t){1&e&&(a.Mb(0,"ion-item-divider",5),a.Mb(1,"ion-label",9),a.pc(2,"Assistenten"),a.Lb(),a.Lb())}function L(e,t){if(1&e&&(a.Mb(0,"ion-item",11),a.Mb(1,"ion-card",5),a.Mb(2,"ion-card-content"),a.Mb(3,"ion-text",9),a.Kb(4,"ion-icon",23),a.pc(5),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(5),a.uc(" ",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function j(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,L,6,4,"ion-item",19),a.Lb()),2&e){const e=a.Wb();a.yb(1),a.bc("ngForOf",e.loadedProject.assistant_student_leaders)}}function _(e,t){if(1&e&&(a.Mb(0,"ion-item",11),a.Mb(1,"ion-card",5),a.Mb(2,"ion-card-content"),a.Mb(3,"ion-text",9),a.pc(4),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e){const e=t.$implicit;a.yb(4),a.uc("",e.first_name," ",e.last_name," ",e.grade,"",e.letter,"")}}function P(e,t){if(1&e&&(a.Mb(0,"div"),a.oc(1,_,5,4,"ion-item",19),a.Lb()),2&e){const e=a.Wb();a.yb(1),a.bc("ngForOf",e.loadedProject.participants)}}function y(e,t){1&e&&(a.Mb(0,"div"),a.Mb(1,"ion-item",11),a.Mb(2,"ion-card",5),a.Mb(3,"ion-card-content"),a.Mb(4,"ion-text",24),a.pc(5,"keine Teilnehmer"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb())}function v(e,t){if(1&e&&(a.Mb(0,"ion-label",9),a.pc(1),a.Lb()),2&e){const e=a.Wb();a.yb(1),a.rc(" ",e.adminWrongTime," ")}}const k=[{path:"",component:(()=>{class e{constructor(e,t,i,o,n,c){this.activatedRoute=e,this.router=t,this.scheduleService=i,this.projectsService=o,this.alertCtrl=n,this.config=c,this.subscriptions=[],this.loadedProject={id:0,authorized:0,editable:0,title:"",image:"",descr:"",leader_name:"",leader_type:"",leader_id:0,cost:0,first_day_begin:{hours:0,minutes:0},first_day_end:{hours:0,minutes:0},second_day_begin:{hours:0,minutes:0},second_day_end:{hours:0,minutes:0},min_grade:0,max_grade:0,min_participants:0,max_participants:0,messages:[],participants:[],leader:null,assistant_student_leaders:[]},this.loadedStudentLeader={id:0,user_name:"",email:"",password:"",first_name:"",last_name:"",grade:0,letter:"",exchange_id:0,exchange_requests:[],first_friend:0,second_friend:0,third_friend:0,first_wish:0,second_wish:0,third_wish:0,project_id:0,role:2},this.schedule={id:1,begin:null,control:null,registration:null,sort_students:null,exchange:null,projects:null,end:null},this.imageUrl=this.config.backend_config.imageUrl,this.projectNoun=this.config.app_config.project_noun,this.projectsNoun=this.config.app_config.projects_noun,this.eventName=this.config.app_config.event_name}ngOnInit(){this.adminWrongTime=this.config.get_error("admin-wrong_time"),this.currentDate=Object(o.n)(new Date,"yyyy-MM-dd","en"),this.activatedRoute.paramMap.subscribe(e=>{e.has("ProjectID")?(this.adminUrl=e.get("AdminName"),this.projectId=Number(e.get("ProjectID"))):this.router.navigate([""])}),this.getSchedule(),this.getProject(),this.subscriptions.push(this.scheduleService.update.subscribe(()=>this.getSchedule()),this.projectsService.update.subscribe(()=>this.getProject()))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getSchedule(){this.scheduleService.getSchedule().subscribe(e=>{this.schedule=e.data})}getProject(){this.projectsService.getProjectAdmin(this.projectId).subscribe(e=>{e.data?this.loadedProject=e.data:this.router.navigate([this.eventName+"/Admin/"+this.adminUrl])})}authorizedChanged(){this.currentDate>this.schedule.control&&this.currentDate<=this.schedule.registration&&this.projectsService.toogleAuthorizedProject(this.loadedProject.id,Boolean(this.loadedProject.authorized))}editableChanged(){this.projectsService.toogleEditableProject(this.loadedProject.id,Boolean(this.loadedProject.editable))}deleteProject(){this.alertCtrl.create({header:"Sind sie sicher?",message:"Wollen sie dieses Projekt wirklich unwiederruflich l\xf6schen?",buttons:[{text:"Abbrechen",role:"cancel"},{text:"L\xf6schen",handler:()=>{this.projectsService.deleteProject(this.loadedProject.id),this.router.navigate([this.eventName+"/Admin/"+this.adminUrl+"/"+this.projectsNoun])}}]}).then(e=>{e.present()})}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(c.a),a.Jb(c.g),a.Jb(d.a),a.Jb(b.a),a.Jb(r.a),a.Jb(s.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-admin-project-detail"]],decls:86,vars:42,consts:[["color","menu"],["color","buttons","slot","start"],["icon","arrow-back",3,"defaultHref"],["color","danger","slot","end",3,"disabled","click"],["name","trash"],["color","background"],["color","background",1,"content"],[3,"src",4,"ngIf"],["text-wrap",""],["color","text"],["color","items","lines","none",1,"descr"],["color","items","lines","none"],["color","background",4,"ngIf"],[4,"ngIf"],["color","buttons",3,"disabled","ngModel","ngModelChange","ionChange"],[1,"ion-padding"],["expand","block","color","danger","slot","end",1,"ion-no-margin",3,"disabled","click"],["color","text",4,"ngIf"],[3,"src"],["color","items","lines","none",4,"ngFor","ngForOf"],["color","background",1,"message"],["color","buttons"],["name","star"],["name","star-half"],["color","danger"]],template:function(e,t){1&e&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar",0),a.Mb(2,"ion-button",1),a.Kb(3,"ion-back-button",2),a.Lb(),a.Mb(4,"ion-title"),a.pc(5),a.Lb(),a.Mb(6,"ion-button",3),a.Ub("click",function(){return t.deleteProject()}),a.Kb(7,"ion-icon",4),a.Lb(),a.Lb(),a.Lb(),a.Mb(8,"ion-content",5),a.Mb(9,"ion-card",6),a.oc(10,l,1,2,"ion-img",7),a.Mb(11,"ion-card-header"),a.Mb(12,"ion-card-title",8),a.pc(13),a.Lb(),a.Mb(14,"ion-card-subtitle"),a.Mb(15,"ion-label",9),a.pc(16),a.Xb(17,"date"),a.Xb(18,"date"),a.Lb(),a.Lb(),a.Lb(),a.Mb(19,"ion-card-content"),a.Mb(20,"ion-item-group"),a.Mb(21,"ion-item",10),a.Mb(22,"ion-label",9),a.pc(23),a.Lb(),a.Lb(),a.Mb(24,"ion-item-divider",5),a.Mb(25,"ion-label",9),a.pc(26,"Leiter"),a.Lb(),a.Lb(),a.Mb(27,"ion-item",11),a.Mb(28,"ion-label",9),a.pc(29),a.Lb(),a.Lb(),a.Mb(30,"ion-item-divider",5),a.Mb(31,"ion-label",9),a.pc(32,"Kosten"),a.Lb(),a.Lb(),a.Mb(33,"ion-item",11),a.Mb(34,"ion-label",9),a.pc(35),a.Lb(),a.Lb(),a.Mb(36,"ion-item-divider",5),a.Mb(37,"ion-label",9),a.pc(38,"Zeitraum"),a.Lb(),a.Lb(),a.Mb(39,"ion-item",11),a.Mb(40,"ion-label",9),a.pc(41),a.Lb(),a.Lb(),a.Mb(42,"ion-item",11),a.Mb(43,"ion-label",9),a.pc(44),a.Lb(),a.Lb(),a.Mb(45,"ion-item-divider",5),a.Mb(46,"ion-label",9),a.pc(47,"Klassenstufe"),a.Lb(),a.Lb(),a.Mb(48,"ion-item",11),a.Mb(49,"ion-label",9),a.pc(50),a.Lb(),a.Lb(),a.Mb(51,"ion-item-divider",5),a.Mb(52,"ion-label",9),a.pc(53,"Teinehmeranzahl"),a.Lb(),a.Lb(),a.Mb(54,"ion-item",11),a.Mb(55,"ion-label",9),a.pc(56),a.Lb(),a.Lb(),a.oc(57,u,3,0,"ion-item-divider",12),a.oc(58,g,2,1,"div",13),a.oc(59,m,3,0,"ion-item-divider",12),a.oc(60,p,7,4,"div",13),a.oc(61,M,7,2,"div",13),a.oc(62,f,3,0,"ion-item-divider",12),a.oc(63,j,2,1,"div",13),a.Mb(64,"ion-item-divider",5),a.Mb(65,"ion-label",9),a.pc(66,"Teilnehmer"),a.Lb(),a.Lb(),a.oc(67,P,2,1,"div",13),a.oc(68,y,6,0,"div",13),a.Mb(69,"ion-item-divider",5),a.Mb(70,"ion-label",9),a.pc(71,"Administration"),a.Lb(),a.Lb(),a.Mb(72,"ion-item",11),a.Mb(73,"ion-label",9),a.pc(74,"Zugelassen"),a.Lb(),a.Mb(75,"ion-toggle",14),a.Ub("ngModelChange",function(e){return!!((t.loadedProject.authorized=e)-0)})("ionChange",function(){return t.authorizedChanged()}),a.pc(76,"Aktiviert"),a.Lb(),a.Lb(),a.Mb(77,"ion-item",11),a.Mb(78,"ion-label",9),a.pc(79,"Bearbeitbar"),a.Lb(),a.Mb(80,"ion-toggle",14),a.Ub("ngModelChange",function(e){return!!((t.loadedProject.editable=e)-0)})("ionChange",function(){return t.editableChanged()}),a.pc(81,"Aktiviert"),a.Lb(),a.Lb(),a.Mb(82,"div",15),a.Mb(83,"ion-button",16),a.Ub("click",function(){return t.deleteProject()}),a.pc(84),a.Lb(),a.oc(85,v,2,1,"ion-label",17),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.yb(3),a.ec("defaultHref","",t.eventName,"/Admin/",t.adminUrl,"/",t.projectsNoun,""),a.yb(2),a.qc(t.projectNoun),a.yb(1),a.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration),a.yb(4),a.bc("ngIf",""!=t.loadedProject.image&&null!=t.loadedProject.image),a.yb(3),a.qc(t.loadedProject.title),a.yb(3),a.sc("Erstellt am ",a.Yb(17,36,t.loadedProject.created_at,"dd.MM.yyyy")," | Zuletzt aktualisiert am ",a.Yb(18,39,t.loadedProject.updated_at,"dd.MM.yyyy"),""),a.yb(7),a.qc(t.loadedProject.descr),a.yb(6),a.qc(t.loadedProject.leader_name),a.yb(6),a.rc("",t.loadedProject.cost,"\u20ac"),a.yb(6),a.sc("1.Tag: ",t.loadedProject.first_day_begin," bis ",t.loadedProject.first_day_end,""),a.yb(3),a.sc("2.Tag: ",t.loadedProject.second_day_begin," bis ",t.loadedProject.second_day_end,""),a.yb(6),a.sc("",t.loadedProject.min_grade,". bis ",t.loadedProject.max_grade,".Klasse"),a.yb(6),a.sc("von ",t.loadedProject.min_participants," bis ",t.loadedProject.max_participants,""),a.yb(1),a.bc("ngIf",t.loadedProject.messages.length),a.yb(1),a.bc("ngIf",t.loadedProject.messages.length),a.yb(1),a.bc("ngIf",t.loadedProject.leader),a.yb(1),a.bc("ngIf",t.loadedProject.leader&&"App\\Student"===t.loadedProject.leader_type),a.yb(1),a.bc("ngIf",t.loadedProject.leader&&"App\\Leader"===t.loadedProject.leader_type),a.yb(1),a.bc("ngIf",t.loadedProject.assistant_student_leaders.length),a.yb(1),a.bc("ngIf",t.loadedProject.assistant_student_leaders.length),a.yb(4),a.bc("ngIf",t.loadedProject.participants.length),a.yb(1),a.bc("ngIf",!t.loadedProject.participants.length),a.yb(7),a.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration||1==!!(t.loadedProject.editable-0))("ngModel",!!(t.loadedProject.authorized-0)),a.yb(5),a.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration)("ngModel",!!(t.loadedProject.editable-0)),a.yb(3),a.bc("disabled",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration),a.yb(1),a.rc("",t.projectNoun," l\xf6schen"),a.yb(1),a.bc("ngIf",t.currentDate<=t.schedule.control||t.currentDate>t.schedule.registration))},directives:[r.t,r.R,r.h,r.e,r.f,r.P,r.u,r.p,r.j,o.j,r.l,r.n,r.m,r.A,r.k,r.z,r.x,r.y,r.Q,r.b,n.f,n.i,r.v,o.i,r.N],pipes:[o.d],styles:["img[_ngcontent-%COMP%]{width:auto;margin:10px auto auto}"]}),e})()}];let x=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[o.b,n.a,r.S,c.k.forChild(k)]]}),e})()}}]);