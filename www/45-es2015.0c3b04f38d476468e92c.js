(window.webpackJsonp=window.webpackJsonp||[]).push([[45,44],{"F1+/":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("fXoL"),s=r("tk/3"),a=r("18Le"),i=r("YdJ5"),o=r("wxHw"),h=r("tyNb");let l=(()=>{class e{constructor(e,t,r,s,a){this.http=e,this.auth=t,this.alert=r,this.config=s,this.router=a,this.update=new n.n,this.backendUrl=this.config.backend_config.url}signUpLeader(e){const t=new s.c({"Content-Type":"application/json"});this.http.post(this.backendUrl+"leaders/register",e,{headers:t}).subscribe(e=>{e.token&&(this.auth.set_jwt(e.token),this.auth.setLoggedIn(!0),this.router.navigate(["Projekttage/Anmeldung"])),this.alert.alert("Dein Account wurde erfolgreich erstellt!"),this.sendAuthentificationEmail(),this.update.emit()},e=>{this.alert.error("Accounterstellung fehlgeschlagen!",e.error)})}sendAuthentificationEmail(){const e=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:e}).subscribe(e=>{this.alert.alert(e.message)},e=>{this.alert.error("Verifizierungs E-Mail konnte nicht versandt werden!",e.error)})}sendAuthentificationEmailSubscribe(){const e=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/email/resend",null,{headers:e})}logInLeader(e){const t=new s.c({"Content-Type":"application/json"});return this.http.post(this.backendUrl+"leaders/login",e,{headers:t})}logOutLeader(){const e=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.post(this.backendUrl+"leaders/logout",null,{headers:e}).subscribe(e=>{this.alert.alert(e.message),this.auth.setLoggedIn(!1),this.router.navigate(["Projekttage/Anmeldung"])},e=>{this.alert.error("Logout fehlgeschlagen!",e.error)})}getSelfLeader(){const e=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"leaders/self",{headers:e})}getAllLeaders(){const e=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});return this.http.get(this.backendUrl+"admins/index_leaders",{headers:e})}deleteLeader(e){const t=new s.c({"Content-Type":"application/json",Authorization:"Bearer "+this.auth.jwt});this.http.delete(this.backendUrl+"admins/destroy_leader/"+e,{headers:t}).subscribe(e=>{this.alert.alert(e.message),this.update.emit()},e=>{this.alert.error("L\xf6schung des Projektleiters fehlgeschlagen!",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(n.Pb(s.a),n.Pb(a.a),n.Pb(i.a),n.Pb(o.a),n.Pb(h.g))},e.\u0275prov=n.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);